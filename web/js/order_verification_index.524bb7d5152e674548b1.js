(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{"308":function(e,t,n){"use strict";n.d(t,"b",(function(){return asyncCalcOrder})),n.d(t,"p",(function(){return submitOrder})),n.d(t,"c",(function(){return asyncCalcScoresOrder})),n.d(t,"q",(function(){return submitScoresOrder})),n.d(t,"k",(function(){return goH5ToPay})),n.d(t,"a",(function(){return afterToPay})),n.d(t,"l",(function(){return goToPayInMp})),n.d(t,"m",(function(){return goToWalletPay})),n.d(t,"i",(function(){return getOrderPage})),n.d(t,"h",(function(){return getOrderInfo})),n.d(t,"g",(function(){return getOrderExpress})),n.d(t,"j",(function(){return getQrCode})),n.d(t,"e",(function(){return confirmReceipt})),n.d(t,"d",(function(){return cancelOrderInfo})),n.d(t,"o",(function(){return refundOrder})),n.d(t,"f",(function(){return getConnectUser})),n.d(t,"n",(function(){return postComplainAdd}));var r=n(9),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function asyncCalcOrder(e){return r.a.post("/order-pays/calculate-order",e)}function submitOrder(e){var t=new(n(45))(navigator.userAgent);return r.a.post("/order-pays/submit-order",o({},e,{"phoneMode":t.mobile()}))}function asyncCalcScoresOrder(e){return r.a.post("/order-scores/calculate-order",e)}function submitScoresOrder(e){return r.a.post("/order-scores/submit-order",e)}function goH5ToPay(e){return r.a.get("/order-pays/h5-to-pay/"+e)}function afterToPay(e){return r.a.get("/order-pays/after-to-pay/"+e)}function goToPayInMp(e){return r.a.request({"url":"/order-pays/go-to-pay-in-mp/"+e})}function goToWalletPay(e){return r.a.get("/order-pays/wallet-to-pay/"+e)}function getOrderPage(e){return r.a.get("/orders/get-page",{"params":e})}function getOrderInfo(e){return r.a.get("/orders/get-by-id/"+e)}function getOrderExpress(e){return r.a.get("/order/query-kdi?expressNo="+e)}function getQrCode(e){return r.a.get("/orders/get-qr-code/"+e)}function confirmReceipt(e){return r.a.put("/orders/receive-by-id",{"id":e})}function cancelOrderInfo(e){return r.a.put("/orders/cancel-by-id/"+e)}function refundOrder(e){return r.a.post("/orders/refund-by-id",e)}function getConnectUser(){return r.a.get("/orders/get-connect-user")}function postComplainAdd(e){return r.a.post("/complain/add",e)}},"557":function(e,t,n){},"558":function(e,t,n){},"665":function(e,t,n){"use strict";n.r(t);var r=n(18),o=n.n(r),a=n(1),c=n(3),l=n(43),s=n(613),i=n(422),u=(n(557),n(6)),f=n(17),d=n(308),p=n(2),m=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=void 0,y=void 0,b=void 0,g=void 0,v=!1,E=function(e){function FyComponent(){_classCallCheck(this,FyComponent);var e=_possibleConstructorReturn(this,(FyComponent.__proto__||Object.getPrototypeOf(FyComponent)).apply(this,arguments));return e.state={},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(FyComponent,e),m(FyComponent,[{"key":"onTouchStart","value":function onTouchStart(e){h=e.touches[0].pageX,y=e.touches[0].pageY,v=!0}},{"key":"onTouchMove","value":function onTouchMove(){var e=arguments[arguments.length-1];if(b=e.touches[0].pageX,g=e.touches[0].pageY,v){var t=Math.abs(g-y)<50;t&&b-h>50&&(this.onTouchRight.apply(this,arguments),v=!1),t&&h-b>50&&(this.onTouchLeft(arguments),v=!1)}}},{"key":"onTouchEnd","value":function onTouchEnd(){v=!0}},{"key":"onTouchLeft","value":function onTouchLeft(){console.log("onTouchLeft")}},{"key":"onTouchRight","value":function onTouchRight(){console.log("onTouchRight")}}]),FyComponent}(c.a.Component);E.options={"addGlobalClass":!0};n(558);var N=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var O=[{"id":1},{"id":2},{"id":3},{"id":4},{"id":5},{"id":6},{"id":7},{"id":8}],C=function(e){function Index(){!function order_voucher_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var e=function order_voucher_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).call(this));return e.state={"number":0},e}return function order_voucher_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,e),N(Index,[{"key":"onTouchLeft","value":function onTouchLeft(e,t,n){console.log(e,t,n),console.log("onTouchLeft")}},{"key":"onTouchRight","value":function onTouchRight(e,t,n){console.log(e,t,n),console.log("onTouchRight")}},{"key":"render","value":function render(){var e=this,t="order-voucher";return a.l.createElement(l.a,{"className":t},O.map((function(n){return a.l.createElement(l.a,{"key":n.id,"className":t+"-item","onTouchStart":e.onTouchStart.bind(e),"onTouchMove":e.onTouchMove.bind(e,"sdfsdfsd"),"onTouchEnd":e.onTouchEnd.bind(e)},a.l.createElement(l.a,{"className":t+"-basis"},a.l.createElement(l.a,{"className":t+"-store"},a.l.createElement(l.a,{"className":t+"-store-img"},a.l.createElement(s.a,{"src":"https://fan-you-php.oss-cn-chengdu.aliyuncs.com/shop/img/202011037b8c61beceff623a4011a479324f2966.jpg"})),a.l.createElement(l.a,{"className":t+"-store-name"},"巴四美蛙鱼火锅 炭火蛙锅"),a.l.createElement(l.a,{"className":t+"-store-goods"},"双11抢先购，限量100份，售完涨至98元 | ¥89抢门市价158元「上海松江开元名都大酒店」1大1小自助晚餐+儿童乐园，五星级酒店自助，海鲜烧烤+日式料理+小火锅+西式点心等100+精致美食，无限量畅吃畅饮，周末节假日通用！"),a.l.createElement(l.a,{"className":t+"-store-attr"},"菜品三选一")),a.l.createElement(l.a,{"className":t+"-code"},a.l.createElement(l.a,{"className":t+"-qrCode "+t+"-qrCode--end"},a.l.createElement(s.a,{"src":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHsAAAB7AQMAAABuCW08AAAABlBMVEX///8AAABVwtN+AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABYklEQVRIid3Usa3DIBAG4Iso6PACSKxBdys5CxB7AbwSnddAYgHSUSDfO5IoedXzvTaWC/srEPz8APBNz0S0pjwlC0iHDAyoBfuNbPD8LQMsW8szlMNTFMNKjhrF/8Di1cozlQPwn1tbNp+pnwDnEX0Z7yegExjW8q2p5Vfwf8PU6EAXUdHLBLB3wLFESj1IQVGyE6ktlSiDS+tGA9fhslOVgjsgB8zXvRsZGLCg+6xL9VkInPp9p20vG70Wdw6t82QDculUlQFo3lUVNVxTDjKYUjcIgTcqvWZ6CkZzcbikKnobhOAz6MHVlyoEzWvi1GF+D3oGgNYg58FVtUYGBt0xjh1F/czjHC6JG8F7pe67nWVgvLqTqhpuVBYZPNtdUY3qyYAbtPHlAXwZSIHvj8j5wRhjFgLy5ZFnHIMdYlh0f6zs2VMR8FGoI3hrhMAzBVq0W8BVGYw8HqmPYySD73l+ALqsR8OOOjcUAAAAAElFTkSuQmCC"})),a.l.createElement(l.a,{"className":t+"-code-list bnn-number"},function getBarCodeArr(e){for(var t=Math.ceil(e.length/4),n=[],r=0;r<t;r++)n.push(e.substr(4*r,4));return n}("40336908117497").map((function(e){return a.l.createElement(l.a,{"key":e,"className":t+"-code-item"},e)}))))),a.l.createElement(l.a,{"className":t+"-line"},a.l.createElement(l.a,{"className":t+"-line-border"})),a.l.createElement(l.a,{"className":t+"-verify"},a.l.createElement(l.a,{"className":t+"-verify-info"},a.l.createElement(l.a,{"className":t+"-verify-status"},"核销状态：已核销"),a.l.createElement(l.a,{"className":t+"-verify-time"},"核销时间：2019-12-12 12:12"),a.l.createElement(l.a,{"className":t+"-verify-type"},"核销人员：输码核销")),a.l.createElement(i.a,{"className":"xf-btn xf-btn-round xf-btn-primary "+t+"-verify-btn"},"自助核销")))})))}}]),Index}(E);C.options={"addGlobalClass":!0};var _=n(306);n.d(t,"default",(function(){return P}));var I=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),j=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function verification_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function verification_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function filterOrderInfo(e){var t=u.a.chunk((e.showBarQrcode||"").split(""),5).map((function(e){return e.join("")}));return{"orderInfo":A({},e,{"barCodeArr":t}),"storeInfo":e.cooperateShopAddressSnap,"userInfo":e.userSnap}},P=function(e){function Index(){verification_classCallCheck(this,Index);var e=verification_possibleConstructorReturn(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.config={"navigationStyle":"custom"},e.state={"loading":!0,"userInfo":{},"orderInfo":{},"storeInfo":{},"goodsInfo":{},"couponInfo":{},"coupons":[],"qrCode":"","couponDetail":""},e}var t;return function verification_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,e),I(Index,[{"key":"componentWillMount","value":function componentWillMount(){var e=this.$router.params;this.getOrderInfo(e.id)}},{"key":"getOrderInfo","value":(t=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function step(r,o){try{var a=t[r](o),c=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(c).then((function(e){step("next",e)}),(function(e){step("throw",e)}));e(c)}("next")}))}}(o.a.mark((function _callee(e){var t,n=this;return o.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(d.j)(e);case 2:return t=r.sent,r.next=5,Object(d.h)(e).then((function(e){var r=w(A({},e.data,{"qrCode":t.data})),o=r.orderInfo,a=r.storeInfo,c=r.userInfo;n.setState({"loading":!1,"orderInfo":o,"storeInfo":a,"userInfo":c})}));case 5:case"end":return r.stop()}}),_callee,this)}))),function getOrderInfo(e){return t.apply(this,arguments)})},{"key":"openLocation","value":function openLocation(e){Object(p.v)(e.lat,e.lng,e.name,e.address)}},{"key":"makePhoneCall","value":function makePhoneCall(e){Object(p.t)(e.phone)}},{"key":"render","value":function render(){var e=this.state,t=e.loading,n=e.userInfo,r=e.orderInfo,o=e.storeInfo;return a.l.createElement(l.a,{"className":"order-page"},t&&a.l.createElement(_.J,null),a.l.createElement(_.K,{"isTitle":!0},"电子凭证"),a.l.createElement(l.a,{"className":"order-scroll"},a.l.createElement(l.a,{"style":"height: 88px;"}),a.l.createElement(l.a,{"className":"order-voucher-one"},a.l.createElement(l.a,{"className":"coupon-card coupon-list"},a.l.createElement(l.a,{"className":"list-item"},a.l.createElement(l.a,{"className":"coupon-info"},a.l.createElement(l.a,{"className":"basis-info d-f a-i-c f-d-c j-c-b"},a.l.createElement(l.a,{"className":"goods-info"},a.l.createElement(l.a,{"className":"store-img"},a.l.createElement(s.a,{"src":o.logo})),a.l.createElement(l.a,{"className":"store-name f-s-30"},o.shopName),a.l.createElement(l.a,{"className":"store-detail f-s-24"},o.detail)),a.l.createElement(l.a,{"className":"qr-code-info"},a.l.createElement(l.a,{"className":"verify-code d-f"},a.l.createElement(s.a,{"src":r.qrCode})),a.l.createElement(l.a,{"className":"bar-code d-f bnn-number"},r.barCodeArr.map((function(e){return a.l.createElement(l.a,{"key":e,"className":"code"},e)}))))),a.l.createElement(l.a,{"className":"segmentation d-f a-i-c"},a.l.createElement(l.a,{"className":"cut-off-rule"})),a.l.createElement(l.a,{"className":"info-bottom d-f f-d-c a-i-c j-c-b"},r.status===f.f.UN_CHECK&&a.l.createElement(l.a,{"className":"verify-content d-f f-d-c j-c-c"},a.l.createElement(l.a,{"className":"verify-status f-s-24"},"核销状态：未核销"),a.l.createElement(l.a,{"className":"verify-time f-s-24"},"核销时间：--")),r.status!==f.f.UN_CHECK&&a.l.createElement(l.a,{"className":"verify-content d-f f-d-c j-c-c"},a.l.createElement(l.a,{"className":"verify-status f-s-22"},"核销状态：已核销"),a.l.createElement(l.a,{"className":"verify-time f-s-22"},"核销时间：2019-12-12 12:12"),a.l.createElement(l.a,{"className":"verify-people f-s-22"},"核销人员：输码核销")),a.l.createElement(i.a,{"className":"verify-button xf-btn xf-btn-round xf-btn-primary f-s-28"},"自助核销")))))),a.l.createElement(C,{"storeInfo":o}),a.l.createElement(l.a,{"className":"order-card order-info"},a.l.createElement(l.a,{"className":"card-head"},a.l.createElement(l.a,{"className":"head-title"},"订单支付")),a.l.createElement(l.a,{"className":"card-body"},a.l.createElement(l.a,{"className":"order-item"},a.l.createElement(l.a,{"className":"order-label t-a-j"},"订单编号"),a.l.createElement(l.a,{"className":"order-content"},"：",r.id)),a.l.createElement(l.a,{"className":"order-item"},a.l.createElement(l.a,{"className":"order-label t-a-j"},"昵称"),a.l.createElement(l.a,{"className":"order-content"},"：",n.nickName)),a.l.createElement(l.a,{"className":"order-item"},a.l.createElement(l.a,{"className":"order-label t-a-j"},"手机号"),a.l.createElement(l.a,{"className":"order-content"},"：",n.telephone||"")),a.l.createElement(l.a,{"className":"order-item"},a.l.createElement(l.a,{"className":"order-label t-a-j"},"支付时间"),a.l.createElement(l.a,{"className":"order-content"},"：",Object(p.g)(r.paidTime,"YYYY-MM-DD HH:mm"))))),a.l.createElement(l.a,{"className":"order-card store-info"},a.l.createElement(l.a,{"className":"card-head"},a.l.createElement(l.a,{"className":"head-title"},"商家信息")),a.l.createElement(l.a,{"className":"card-body"},a.l.createElement(l.a,{"className":"store-item"},a.l.createElement(l.a,{"className":"store-left"},"营业时间：",o.businessTime)),a.l.createElement(l.a,{"className":"store-item"},a.l.createElement(l.a,{"className":"store-left"},"商家电话：",o.phone),a.l.createElement(l.a,{"className":"store-right store-btn","hoverClass":"hover-class--btn","onClick":this.makePhoneCall.bind(this,o)},"拨号")),a.l.createElement(l.a,{"className":"store-item"},a.l.createElement(l.a,{"className":"store-left"},"商家地址：",o.address),a.l.createElement(l.a,{"className":"store-right store-btn","hoverClass":"hover-class--btn","onClick":this.openLocation.bind(this,o)},"导航"))))))}},{"key":"componentDidMount","value":function componentDidMount(){j(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&j(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){j(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this)&&j(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){j(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&j(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this)}}]),Index}(c.a.Component);P.options={"addGlobalClass":!0}}}]);