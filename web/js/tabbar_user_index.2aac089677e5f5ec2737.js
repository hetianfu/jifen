/*! For license information please see tabbar_user_index.2aac089677e5f5ec2737.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{"307":function(e,t,n){"use strict";n.d(t,"x",(function(){return getUserInfo})),n.d(t,"w",(function(){return getUserCommissions})),n.d(t,"f",(function(){return asyncWechatInfo})),n.d(t,"q",(function(){return getMemberCount})),n.d(t,"r",(function(){return getMemberPermanent})),n.d(t,"m",(function(){return getCartPage})),n.d(t,"b",(function(){return addCart})),n.d(t,"l",(function(){return getCartInfo})),n.d(t,"i",(function(){return delBatchCart})),n.d(t,"C",(function(){return updateCart})),n.d(t,"D",(function(){return updateCartNumber})),n.d(t,"k",(function(){return getAddressList})),n.d(t,"a",(function(){return addAddress})),n.d(t,"B",(function(){return updateAddress})),n.d(t,"j",(function(){return getAddressInfo})),n.d(t,"A",(function(){return setDefaultAddress})),n.d(t,"h",(function(){return delAddressInfo})),n.d(t,"z",(function(){return getWalletPage})),n.d(t,"E",(function(){return userCharges})),n.d(t,"g",(function(){return buyMember})),n.d(t,"t",(function(){return getScoreConfig})),n.d(t,"v",(function(){return getSignScore})),n.d(t,"d",(function(){return addSignScore})),n.d(t,"u",(function(){return getScorePage})),n.d(t,"y",(function(){return getUserScore})),n.d(t,"s",(function(){return getMyCouponPage})),n.d(t,"n",(function(){return getCouponPage})),n.d(t,"c",(function(){return addCoupon})),n.d(t,"e",(function(){return applyDrawToWallet})),n.d(t,"p",(function(){return getGisciplePage})),n.d(t,"o",(function(){return getGiscipleDetailPage}));var r=n(9);n(5),Object.assign;function getUserInfo(){return r.a.get("/users/get-info",{},{"isAuth":!1})}function getUserCommissions(){return r.a.get("/user-commissions/get",{},{"isAuth":!1})}function asyncWechatInfo(e){return r.a.put("/users/async-wechat-info",e)}function getMemberCount(){return r.a.get("/users/count-vip-pay")}function getMemberPermanent(){return r.a.get("/users/permanent-vip-pay")}function getCartPage(e){return r.a.get("/users/get-shop-cart-page",{"params":e},{"isAuth":!1})}function addCart(e){return r.a.post("/users/add-shop-cart",e)}function getCartInfo(e){return r.a.get("/users/get-shop-cart-by-id/"+e)}function delBatchCart(e){return r.a.delete("/users/del-shop-cart",e)}function updateCart(e){return r.a.put("/users/update-shop-cart-by-id",e)}function updateCartNumber(e){return r.a.put("/users/update-shop-cart-number",e)}function getAddressList(){return r.a.get("/users/get-address-list")}function addAddress(e){return r.a.post("/users/add-address",e)}function updateAddress(e){return r.a.put("/users/update-address-by-id",e)}function getAddressInfo(e){return r.a.get("/users/get-address-by-id/"+e)}function setDefaultAddress(e){return r.a.put("/users/set-default-address",e)}function delAddressInfo(e){return r.a.delete("/users/del-address-by-id/"+e)}function getWalletPage(e){return r.a.request({"url":"/users/get-wallet-detail-page","data":e})}function userCharges(e){return r.a.post("/user-charges/charge",e)}function buyMember(e){return r.a.post("/user-charges/buy-vip",e)}function getScoreConfig(){return r.a.get("/user-scores/get-score-config")}function getSignScore(){return r.a.get("/user-scores/get-sign-score")}function addSignScore(){return r.a.post("/user-scores/sign-score")}function getScorePage(e){return r.a.get("/user-scores/get-detail-page",{"params":e})}function getUserScore(){return r.a.get("/user-scores/user-score")}function getMyCouponPage(e){return r.a.get("/users/get-my-coupon-page",{"params":e})}function getCouponPage(e){return r.a.get("/users/get-coupon-page",{"params":e})}function addCoupon(e){return r.a.post("/users/add-coupon",e)}function applyDrawToWallet(e){return r.a.post("/users/apply-draw-to-wallet",e)}function getGisciplePage(e){return r.a.get("/users/get-disciple-page",{"params":e})}function getGiscipleDetailPage(e){return r.a.get("/user-commissions/get-disciple-detail-page",{"params":e})}},"314":function(e,t,n){var r=n(315);"string"==typeof r&&(r=[[e.i,r,""]]);var o={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(70)(r,o);r.locals&&(e.exports=r.locals)},"315":function(e,t,n){(t=n(69)(!1)).push([e.i,".rmc-pull-to-refresh-content {\r\n  transform-origin: left top 0px;\r\n}\r\n.rmc-pull-to-refresh-content-wrapper {\r\n  overflow: hidden;\r\n}\r\n\r\n.rmc-pull-to-refresh-transition {\r\n  transition: transform 0.3s;\r\n}\r\n\r\n\r\n@keyframes rmc-pull-to-refresh-indicator {\r\n  50% {\r\n    opacity: 0.2;\r\n  }\r\n  100% {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.rmc-pull-to-refresh-indicator {\r\n  text-align: center;\r\n  height: 30px;\r\n  line-height: 10px;\r\n}\r\n\r\n.rmc-pull-to-refresh-indicator > div {\r\n  background-color: grey;\r\n  width: 6px;\r\n  height: 6px;\r\n  border-radius: 100%;\r\n  margin: 3px;\r\n  animation-fill-mode: both;\r\n  display: inline-block;\r\n  animation: rmc-pull-to-refresh-indicator 0.5s 0s infinite linear;\r\n}\r\n.rmc-pull-to-refresh-indicator > div:nth-child(0) {\r\n  animation-delay: -0.1s !important;\r\n}\r\n.rmc-pull-to-refresh-indicator > div:nth-child(1) {\r\n  animation-delay: -0.2s !important;\r\n}\r\n.rmc-pull-to-refresh-indicator > div:nth-child(2) {\r\n  animation-delay: -0.3s !important;\r\n}\r\n.rmc-pull-to-refresh-down .rmc-pull-to-refresh-indicator {\r\n  margin-top: -25px;\r\n}\r\n",""]),e.exports=t},"318":function(e,t,n){var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){"use strict";var a={}.hasOwnProperty;function classNames(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=void 0===n?"undefined":o(n);if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var s=classNames.apply(null,n);s&&e.push(s)}else if("object"===r)for(var c in n)a.call(n,c)&&n[c]&&e.push(c)}}return e.join(" ")}e.exports?(classNames.default=classNames,e.exports=classNames):"object"===o(n(72))&&n(72)?void 0===(r=function(){return classNames}.apply(t,[]))||(e.exports=r):window.classNames=classNames}()},"347":function(e,t,n){"use strict";var r,o,a=n(12),s=n.n(a),c=n(1),i=n(3),l=(n(314),function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function StaticRenderer(){return _classCallCheck(this,StaticRenderer),_possibleConstructorReturn(this,(StaticRenderer.__proto__||Object.getPrototypeOf(StaticRenderer)).apply(this,arguments))}return _inherits(StaticRenderer,e),f(StaticRenderer,[{"key":"shouldComponentUpdate","value":function shouldComponentUpdate(e){return e.shouldUpdate}},{"key":"render","value":function render(){return c.l.createElement("div",null,this.props.render())}}]),StaticRenderer}(c.l.Component);function setTransform(e,t){e.transform=t,e.webkitTransform=t,e.MozTransform=t}var p="undefined"!=typeof navigator&&/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),h=!1;try{var m=Object.defineProperty({},"passive",{"get":function get(){h=!0}});window.addEventListener("test",null,m)}catch(e){}var g=!!h&&{"passive":!1},b=(o=r=function(e){function PullToRefresh(){var e,t,n;_classCallCheck(this,PullToRefresh);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=_possibleConstructorReturn(this,(e=PullToRefresh.__proto__||Object.getPrototypeOf(PullToRefresh)).call.apply(e,[this].concat(o))),n.state={"currSt":"deactivate","dragOnEdge":!1},n.containerRef=null,n.contentRef=null,n._to=null,n._ScreenY=null,n._startScreenY=null,n._lastScreenY=null,n._isMounted=!1,n.shouldUpdateChildren=!1,n.scrollContainer=document.querySelector(".taro-tabbar__panel")||document.body,n.triggerPullDownRefresh=function(){!n.state.dragOnEdge&&n._isMounted&&(n.props.refreshing?(n._lastScreenY=n.props.distanceToRefresh+1,n.setState({"currSt":"release"},(function(){return n.setContentStyle(n._lastScreenY)}))):n.setState({"currSt":"finish"},(function(){return n.reset()})))},n.init=function(){var e=n.scrollContainer;n._to={"touchstart":n.onTouchStart.bind(n,e),"touchmove":n.onTouchMove.bind(n,e),"touchend":n.onTouchEnd.bind(n,e),"touchcancel":n.onTouchEnd.bind(n,e)},Object.keys(n._to).forEach((function(t){e.addEventListener(t,n._to[t],g)}))},n.destroy=function(){var e=n.scrollContainer;Object.keys(n._to).forEach((function(t){e.removeEventListener(t,n._to[t])}))},n.onTouchStart=function(e,t){n._ScreenY=n._startScreenY=t.touches[0].screenY,n._lastScreenY=n._lastScreenY||0},n.isEdge=function(e){var t=n.scrollContainer;return t&&t===document.body?(document.scrollingElement?document.scrollingElement:document.body).scrollTop<=0:e.scrollTop<=0},n.damping=function(e){return Math.abs(n._lastScreenY)>n.props.damping?0:e*=.6*(1-Math.abs(n._ScreenY-n._startScreenY)/window.screen.height)},n.onTouchMove=function(e,t){var r=t.touches[0].screenY;if(!(n._startScreenY>r)&&n.isEdge(e)){n.state.dragOnEdge||(n._ScreenY=n._startScreenY=t.touches[0].screenY,n.setState({"dragOnEdge":!0})),t.cancelable&&t.preventDefault();var o=Math.round(r-n._ScreenY);n._ScreenY=r,n._lastScreenY+=n.damping(o),n.setContentStyle(n._lastScreenY),Math.abs(n._lastScreenY)<n.props.distanceToRefresh?"deactivate"!==n.state.currSt&&n.setState({"currSt":"deactivate"}):"deactivate"===n.state.currSt&&n.setState({"currSt":"activate"}),p&&t.changedTouches[0].clientY<0&&n.onTouchEnd()}},n.onTouchEnd=function(){n.state.dragOnEdge&&n.setState({"dragOnEdge":!1}),"activate"===n.state.currSt?(n.setState({"currSt":"release"}),n.props.onRefresh()):"release"===n.state.currSt?(n._lastScreenY=n.props.distanceToRefresh+1,n.setContentStyle(n._lastScreenY)):n.reset()},n.reset=function(){n._lastScreenY=0,n.setContentStyle(0)},n.setContentStyle=function(e){n.contentRef&&setTransform(n.contentRef.style,e?"translate3d(0px,"+e+"px,0)":"none")},_possibleConstructorReturn(n,t)}return _inherits(PullToRefresh,e),f(PullToRefresh,[{"key":"shouldComponentUpdate","value":function shouldComponentUpdate(e){return this.shouldUpdateChildren=this.props.children!==e.children,!0}},{"key":"componentDidUpdate","value":function componentDidUpdate(e){e!==this.props&&e.refreshing!==this.props.refreshing&&this.triggerPullDownRefresh()}},{"key":"componentDidMount","value":function componentDidMount(){this.triggerPullDownRefresh(),this._isMounted=!0}},{"key":"componentWillUnmount","value":function componentWillUnmount(){}},{"key":"render","value":function render(){var e=this,t=u({},this.props);delete t.damping;var n=t.className,r=t.prefixCls,o=t.children,a=(t.onRefresh,t.refreshing,t.indicator,t.distanceToRefresh,function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["className","prefixCls","children","onRefresh","refreshing","indicator","distanceToRefresh"])),i=c.l.createElement(d,{"shouldUpdate":this.shouldUpdateChildren,"render":function render(){return o}}),l=function renderRefresh(t){var n=e.state,o=n.currSt,a=n.dragOnEdge,l=s()(t,!a&&r+"-transition"),u="activate"===o||"release"===o;return c.l.createElement("div",{"className":r+"-content-wrapper"},c.l.createElement("div",{"className":l,"ref":function ref(t){e.contentRef=t}},u&&c.l.createElement("div",{"className":r+"-indicator"},c.l.createElement("div",null),c.l.createElement("div",null),c.l.createElement("div",null)),i))};return this.scrollContainer?l(r+"-content "+r+"-down"):c.l.createElement("div",u({"ref":function ref(t){e.containerRef=t},"className":s()(n,r,r+"-down")},a),l(r+"-content"))}}]),PullToRefresh}(c.l.Component),r.defaultProps={"prefixCls":"rmc-pull-to-refresh","distanceToRefresh":50,"damping":100,"indicator":{"activate":"release","deactivate":"pull","release":"loading","finish":"finish"}},o),y=function(e){function PullDownRefresh(){var e,t,n;_classCallCheck(this,PullDownRefresh);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=_possibleConstructorReturn(this,(e=PullDownRefresh.__proto__||Object.getPrototypeOf(PullDownRefresh)).call.apply(e,[this].concat(o))),n.state={"refreshing":!1},n.isBound=!1,n.listeners=[],n.startPullDownRefresh=function(){n.props.onRefresh(),n.setState({"refreshing":!0})},n.stopPullDownRefresh=function(){n.setState({"refreshing":!1})},n.getPtrRef=function(e){n.ptrRef=e},n.bindEvent=function(){n.isBound||(n.isBound=!0,n.ptrRef&&n.ptrRef.init(),n.listeners=[["__taroStartPullDownRefresh",function(e){var t=e.successHandler,r=e.errorHandler;try{n.startPullDownRefresh(),t({"errMsg":"startPullDownRefresh: ok"})}catch(e){r({"errMsg":"startPullDownRefresh: fail"})}}],["__taroStopPullDownRefresh",function(e){var t=e.successHandler,r=e.errorHandler;try{n.stopPullDownRefresh(),t({"errMsg":"stopPullDownRefresh: ok"})}catch(e){r({"errMsg":"stopPullDownRefresh: fail"})}}]],n.listeners.forEach((function(e){var t=l(e,2),n=t[0],r=t[1];i.a.eventCenter.on(n,r)})))},n.unbindEvent=function(){n.isBound=!1,n.ptrRef&&n.ptrRef.destroy(),n.listeners.forEach((function(e){var t=l(e,2),n=t[0],r=t[1];i.a.eventCenter.off(n,r)}))},_possibleConstructorReturn(n,t)}return _inherits(PullDownRefresh,e),f(PullDownRefresh,[{"key":"componentDidMount","value":function componentDidMount(){this.bindEvent()}},{"key":"componentWillUnmount","value":function componentWillUnmount(){this.unbindEvent()}},{"key":"render","value":function render(){var e={"distanceToRefresh":100,"damping":200,"refreshing":this.state.refreshing,"onRefresh":this.startPullDownRefresh,"ref":this.getPtrRef};return c.l.createElement(b,e,this.props.children)}}]),PullDownRefresh}(c.l.Component);t.a=y},"531":function(e,t,n){},"533":function(e,t,n){e.exports=n.p+"static/images/user-bg.png"},"534":function(e,t,n){e.exports={"signImg":"signImg_32qb7C8s","signBox":"signBox__69x6PgP","signText":"signText_rAsAea-O"}},"535":function(e,t,n){e.exports={"content":"content_3k59zGRn","qrcode":"qrcode_1KSAtkgO","commonName":"commonName_1jV9Zjo8","copyBtn":"copyBtn_8rgPaWs8","closeImg":"closeImg_to14Jckt","overlay":"overlay_24NxWVIz","popup":"popup_M9_31SNi","popupInUp":"popupInUp_1CpTLwpC"}},"536":function(e,t){e.exports="data:image/png;base64,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"},"669":function(e,t,n){"use strict";n.r(t);var r=n(18),o=n.n(r),a=n(1),s=n(4),c=n(333),i=n(128),l=n(129),u=n(3),f=n(43),d=n(613),p=n(614),h=n(454),m=n(347),g=(n(531),n(12)),b=n.n(g),y=n(5),v=n(317),_=n.n(v),S=n(8),C=n(307),P=n(16),w=n(68),E=n(306),R=n(327),O=n(394),A=n(332),k=n(533),x=n.n(k),N=n(534),j=n.n(N),D=n(535),I=n.n(D),T=n(318),M=n.n(T),U=n(2),B=n(536),Y=n.n(B),L=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var W=function(e){function Index(e){_classCallCheck(this,Index);var t=_possibleConstructorReturn(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return t.state={"visible":e.show},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,e),L(Index,[{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){var t=e.show;this.setState({"visible":t})}},{"key":"changeShow","value":function changeShow(){var e=this.props.onChange;this.setState({"visible":!1}),e&&e(!1)}},{"key":"render","value":function render(){var e=this.state.visible;return e?a.l.createElement(f.a,null,a.l.createElement(E.q,{"visible":e,"type":"overlay","position":"fade","className":I.a.overlay,"onClick":this.changeShow.bind(this)}),a.l.createElement(f.a,{"className":M()(I.a.popup+" f-g-5 f-d-c",e&&I.a.popupInUp)},a.l.createElement(f.a,{"className":I.a.content},a.l.createElement(f.a,{"className":"f-s-32"},"关注公众号"),a.l.createElement(E.p,{"src":Object(S.d)("publicQrCode"),"className":I.a.qrcode}),a.l.createElement(f.a,null,"复制公众号名称",a.l.createElement(p.a,{"className":I.a.commonName},"「",Object(S.d)("commonName"),"」")),a.l.createElement(f.a,null,"在微信中搜索并关注"),a.l.createElement(f.a,{"className":M()(I.a.copyBtn,"f-g-5"),"onClick":function onClick(){return Object(U.c)(Object(S.d)("commonName"))}},"复制公众号")),a.l.createElement(E.p,{"src":Y.a,"className":I.a.closeImg,"onClick":this.changeShow.bind(this)}))):null}}]),Index}(u.a.Component);n.d(t,"default",(function(){return Q}));var J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),F=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0};var z=Object(s.b)(y.f),G={},Q=function(e){function Index(e){!function user_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var t=function user_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).call(this,e));return t.config={"backgroundColor":"#FFDD00","enablePullDownRefresh":!0,"navigationBarTitleText":"个人中心","navigationBarTextStyle":"black","navigationBarBackgroundColor":"#FFDD00"},t.state={"isLogin":!1,"userInfo":Object(s.b)(y.f)||{},"orderMenu":Object(S.d)(P.q)||[],"otherMenu":Object(S.d)(P.s)||[],"isDistribution":Number(Object(S.d)(P.p)),"categoryList":{},"visible":!1},t}var t;return function user_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,e),q(Index,[{"key":"componentDidShow","value":function componentDidShow(){var e=this;Object(S.y)({"success":function success(){e.setState({"isLogin":!0}),e.getUserData().then(),e.getGoodsPage()},"fail":function fail(){e.setState({"isLogin":!1,"userInfo":{}},(function(){Object(c.a)()}))}}),this._offReachBottom=Object(i.a)({"callback":this.onReachBottom,"ctx":this,"onReachBottomDistance":void 0}),this._offPageScroll=Object(l.a)({"callback":this.onPageScroll,"ctx":this}),this.pullDownRefreshRef&&this.pullDownRefreshRef.bindEvent()}},{"key":"qrCodeModel","value":function qrCodeModel(e){e.stopPropagation(),this.setState({"visible":!0})}},{"key":"changeVisible","value":function changeVisible(e){this.setState({"visible":e})}},{"key":"getGoodsPage","value":function getGoodsPage(){var e=this;Object(R.a)("goods_commend").then((function(t){var n=t.data,r=n.content.findIndex((function(e){return"goodsCategories"===e.key})),o=n.content.findIndex((function(e){return"carousel"===e.key}));r>=0&&e.setState({"categoryList":n.content[r],"carousel":n.content[o]})}))}},{"key":"onPullDownRefresh","value":function onPullDownRefresh(){this.getUserData().then()}},{"key":"getUserData","value":(t=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function step(r,o){try{var a=t[r](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){step("next",e)}),(function(e){step("throw",e)}));e(s)}("next")}))}}(o.a.mark((function _callee(){var e,t=this;return o.a.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(C.s)({"page":1,"limit":1}).then((function(e){return e.data}));case 2:e=n.sent,Object(C.x)().then((function(n){var r=n.data;Object(s.f)(y.f,r),t.setState({"userInfo":Object.assign({"couponNumber":e.totalCount},r)},(function(){Object(c.a)()}))})).catch((function(){t.setState({"isLogin":!1,"userInfo":{}},(function(){Object(c.a)()}))}));case 4:case"end":return n.stop()}}),_callee,this)}))),function getUserData(){return t.apply(this,arguments)})},{"key":"onPageScroll","value":function onPageScroll(e){G.onPageScroll&&G.onPageScroll(e.scrollTop)}},{"key":"onReachBottom","value":function onReachBottom(){G.onReachBottom&&G.onReachBottom()}},{"key":"render","value":function render(){var e=this,t=this.state,n=t.isLogin,r=t.userInfo,o=t.orderMenu,s=t.otherMenu,c=t.categoryList,i=t.carousel,l=t.visible,u=a.l.createElement(f.a,{"className":"user-page xf-page"},a.l.createElement(f.a,{"className":"xf-page-fixed-bg","style":{"backgroundImage":"url("+x.a+")"}}),a.l.createElement(f.a,{"className":"page-scroll"},a.l.createElement(f.a,{"className":"user-info f-g-4"},a.l.createElement(f.a,{"className":"d-f a-i-c"},a.l.createElement(d.a,{"src":r.headImg||_.a,"className":"user-info__avatar"}),n?a.l.createElement(f.a,{"className":"user-info__box d-f f-d-c"},a.l.createElement(f.a,{"className":"user-info__top f-g-4"}),a.l.createElement(f.a,{"className":"user-info__bottom f-g-4"},a.l.createElement(f.a,{"className":"user-info__code t-o-e"},r.id))):a.l.createElement(f.a,{"className":"user-info__box"},a.l.createElement(f.a,{"className":"user-info__name"},"未登录"))),a.l.createElement(f.a,{"className":"user-info-qrCode","onClick":this.qrCodeModel.bind(this)},a.l.createElement(f.a,null,"关注有礼"),a.l.createElement(E.p,{"className":"publicQrCode","src":Object(S.d)("publicQrCode")}))),a.l.createElement(f.a,{"className":"user-card"},a.l.createElement(f.a,{"className":"user-card__head","onClick":function onClick(){return Object(w.x)()}},a.l.createElement(p.a,{"className":"user-card__title"},"我的订单"),a.l.createElement(p.a,{"className":"user-card__more bnn-icon"},"全部订单")),a.l.createElement(f.a,{"className":"user-card__body"},a.l.createElement(f.a,{"className":"thin-border__b"}),a.l.createElement(h.a,{"enhanced":!0,"scrollX":!0,"show-scrollbar":!1,"className":"order-type"},a.l.createElement(f.a,{"className":"order-type__list"},o.map((function(e,t){return a.l.createElement(f.a,{"key":t,"className":"order-type__item","onClick":function onClick(){return Object(w.d)(e.url)}},a.l.createElement(d.a,{"src":e.src,"className":"order-type__icon"}),a.l.createElement(f.a,{"className":"order-type__name"},e.title))})))))),a.l.createElement(f.a,{"className":b()(j.a.signBox,"user-card"),"onClick":function onClick(){return Object(w.n)()}},a.l.createElement(E.p,{"src":Object(S.d)("userSignImg"),"className":j.a.signImg}),a.l.createElement(f.a,{"className":j.a.signText},"我的",Object(S.f)(),z.totalScore)),!!s.length&&a.l.createElement(f.a,{"className":"user-card"},a.l.createElement(f.a,{"className":"operate-list"},s.map((function(e,t){return a.l.createElement(f.a,{"key":t,"className":"operate-item","onClick":function onClick(){return Object(w.d)(e.url)}},a.l.createElement(d.a,{"src":e.src,"className":"operate-icon"}),a.l.createElement(f.a,{"className":"operate-name"},e.title))}))))),i&&a.l.createElement(f.a,{"style":{"marginBottom":"20px"}},a.l.createElement(A.a,i)),c.list&&a.l.createElement(O.a,J({},c,{"scroll":G})),a.l.createElement(E.m,{"isOpened":!0}),a.l.createElement(W,{"show":l,"onChange":this.changeVisible.bind(this)}),a.l.createElement(E.X,null),a.l.createElement(f.a,{"style":{"height":P.o+"px"}}),a.l.createElement(E.U,null));return a.l.createElement(m.a,{"onRefresh":this.onPullDownRefresh&&this.onPullDownRefresh.bind(this),"ref":function ref(t){t&&(e.pullDownRefreshRef=t)}},u)}},{"key":"componentDidMount","value":function componentDidMount(){F(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&F(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){F(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&F(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this),this._offReachBottom&&this._offReachBottom(),this._offPageScroll&&this._offPageScroll(),this.pullDownRefreshRef&&this.pullDownRefreshRef.unbindEvent()}}]),Index}(u.a.Component)}}]);