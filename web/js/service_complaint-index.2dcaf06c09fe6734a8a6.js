(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{"308":function(e,t,n){"use strict";n.d(t,"b",(function(){return asyncCalcOrder})),n.d(t,"p",(function(){return submitOrder})),n.d(t,"c",(function(){return asyncCalcScoresOrder})),n.d(t,"q",(function(){return submitScoresOrder})),n.d(t,"k",(function(){return goH5ToPay})),n.d(t,"a",(function(){return afterToPay})),n.d(t,"l",(function(){return goToPayInMp})),n.d(t,"m",(function(){return goToWalletPay})),n.d(t,"i",(function(){return getOrderPage})),n.d(t,"h",(function(){return getOrderInfo})),n.d(t,"g",(function(){return getOrderExpress})),n.d(t,"j",(function(){return getQrCode})),n.d(t,"e",(function(){return confirmReceipt})),n.d(t,"d",(function(){return cancelOrderInfo})),n.d(t,"o",(function(){return refundOrder})),n.d(t,"f",(function(){return getConnectUser})),n.d(t,"n",(function(){return postComplainAdd}));var o=n(9),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function asyncCalcOrder(e){return o.a.post("/order-pays/calculate-order",e)}function submitOrder(e){var t=new(n(45))(navigator.userAgent);return o.a.post("/order-pays/submit-order",r({},e,{"phoneMode":t.mobile()}))}function asyncCalcScoresOrder(e){return o.a.post("/order-scores/calculate-order",e)}function submitScoresOrder(e){return o.a.post("/order-scores/submit-order",e)}function goH5ToPay(e){return o.a.get("/order-pays/h5-to-pay/"+e)}function afterToPay(e){return o.a.get("/order-pays/after-to-pay/"+e)}function goToPayInMp(e){return o.a.request({"url":"/order-pays/go-to-pay-in-mp/"+e})}function goToWalletPay(e){return o.a.get("/order-pays/wallet-to-pay/"+e)}function getOrderPage(e){return o.a.get("/orders/get-page",{"params":e})}function getOrderInfo(e){return o.a.get("/orders/get-by-id/"+e)}function getOrderExpress(e){return o.a.get("/order/query-kdi?expressNo="+e)}function getQrCode(e){return o.a.get("/orders/get-qr-code/"+e)}function confirmReceipt(e){return o.a.put("/orders/receive-by-id",{"id":e})}function cancelOrderInfo(e){return o.a.put("/orders/cancel-by-id/"+e)}function refundOrder(e){return o.a.post("/orders/refund-by-id",e)}function getConnectUser(){return o.a.get("/orders/get-connect-user")}function postComplainAdd(e){return o.a.post("/complain/add",e)}},"348":function(e,t,n){"use strict";n(27);var o=n(1),r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(e){function Form(){_classCallCheck(this,Form);var e=_possibleConstructorReturn(this,(Form.__proto__||Object.getPrototypeOf(Form)).apply(this,arguments));return e.Forms=[],e.onSubmit=e.onSubmit.bind(e),e.onReset=e.onReset.bind(e),e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Form,e),r(Form,[{"key":"onSubmit","value":function onSubmit(e){e.preventDefault();for(var t=o.l.findDOMNode(this),n=[],r=t.getElementsByTagName("input"),a=0;a<r.length;a++)n.push(r[a]);var c={},i={};n.forEach((function(e){-1===e.className.indexOf("weui-switch")?"radio"!==e.type?"checkbox"!==e.type?c[e.name]=e.value:e.checked?i[e.name]?c[e.name].push(e.value):(i[e.name]=!0,c[e.name]=[e.value]):i[e.name]||(c[e.name]=[]):e.checked?(i[e.name]=!0,c[e.name]=e.value):i[e.name]||(c[e.name]=""):c[e.name]=e.checked}));for(var l=t.getElementsByTagName("textarea"),s=[],u=0;u<l.length;u++)s.push(l[u]);s.forEach((function(e){c[e.name]=e.value})),Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":c}}),this.props.onSubmit(e)}},{"key":"onReset","value":function onReset(e){e.preventDefault(),this.props.onReset()}},{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.style;return o.l.createElement("form",{"className":t,"style":n,"onSubmit":this.onSubmit,"onReset":this.onReset},this.props.children)}}]),Form}(o.l.Component);t.a=a},"582":function(e,t,n){e.exports={"complaintPage":"complaintPage_3vlVi3Gm","head":"head_12Y29uAc","content":"content_1gMssj3O","contentItem":"contentItem_HV1LN-rB","contentItemTitle":"contentItemTitle_22ehy5Gw","tags":"tags_BwgwVqRq","tagsItem":"tagsItem_2gxsffTC","tagsActive":"tagsActive_3fdHB1HN","describe":"describe_1jhftU8E","textarea":"textarea_vIlibTV1","textRight":"textRight_3lMfksgu","otherItem":"otherItem_2jgKmVFO","otherLeft":"otherLeft_2VenuGuH","otherText":"otherText_AmdoxnFY","submit":"submit_SB4-MKIJ"}},"641":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var o=n(1),r=n(131),a=n(3),c=n(43),i=n(348),l=n(615),s=n(485),u=n(422),p=n(582),m=n.n(p),f=n(12),d=n.n(f),h=n(306),g=n(308),b=n(68),y=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),v=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=function(e){function ComplaintIndex(){_classCallCheck(this,ComplaintIndex);var e=_possibleConstructorReturn(this,(ComplaintIndex.__proto__||Object.getPrototypeOf(ComplaintIndex)).apply(this,arguments));return e.config={"navigationStyle":"custom","backgroundTextStyle":"dark","enablePullDownRefresh":!0},e.state={"tags":[{"title":"快递问题","type":"POST","checkbox":!1},{"title":"订单问题","type":"ORDER","checkbox":!1},{"title":"质量问题","type":"GOOD","checkbox":!1},{"title":"客服问题","type":"SERVICE","checkbox":!1},{"title":"平台问题","type":"SYSTEM","checkbox":!1},{"title":"其他问题","type":"OTHER","checkbox":!1}],"maxlength":1e3,"valueLength":0,"images":[]},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ComplaintIndex,e),y(ComplaintIndex,[{"key":"componentDidMount","value":function componentDidMount(){}},{"key":"onSubmit","value":function onSubmit(e){var t=e.detail.value,n=this.state,o=n.tags,c=n.images,i=o.filter((function(e){return!0===e.checkbox}));t.type=i.map((function(e){return e.type})).join(","),t.images=c.join(",");t.type?t.content?t.name?t.telephone?!t.telephone||/^1(3|4|5|7|8|9)\d{9}$/.test(t.telephone)?Object(g.n)(t).then((function(){Object(r.d)({"title":"提交成功","icon":"success"}),setTimeout((function(){a.a.navigateBack({"delta":1})}),1e3)})):Object(r.d)({"title":"请输入正确的联系电话","icon":"none"}):Object(r.d)({"title":"请输入联系电话","icon":"none"}):Object(r.d)({"title":"请输入联系人","icon":"none"}):Object(r.d)({"title":"请输入问题描述","icon":"none"}):Object(r.d)({"title":"请选择投诉类型","icon":"none"})}},{"key":"onInput","value":function onInput(e){this.setState({"valueLength":e.target.value.length})}},{"key":"onChangeImg","value":function onChangeImg(e){this.setState({"images":e})}},{"key":"checkboxTag","value":function checkboxTag(e,t){this.state.tags[e].checkbox=!t,this.setState({"tags":this.state.tags})}},{"key":"render","value":function render(){var e=this,t=this.state,n=t.tags,r=t.maxlength,p=t.valueLength,f=t.images;return o.l.createElement(c.a,{"className":m.a.complaintPage},o.l.createElement(c.a,{"className":m.a.head},o.l.createElement(c.a,{"className":"f-s-28","onClick":function onClick(){return a.a.navigateBack({"delta":1})}},"返回"),o.l.createElement(c.a,{"className":"f-s-32"},"投诉"),o.l.createElement(c.a,{"onClick":function onClick(){return Object(b.n)()}},"主页")),o.l.createElement(c.a,{"className":m.a.content},o.l.createElement(c.a,{"className":m.a.contentItem},o.l.createElement("h4",{"className":m.a.contentItemTitle},"投诉类型（必填，可多选）"),o.l.createElement(c.a,{"className":m.a.tags},n.map((function(t,n){return o.l.createElement(c.a,{"className":d()(m.a.tagsItem,"f-g-5",t.checkbox&&m.a.tagsActive),"onClick":e.checkboxTag.bind(e,n,t.checkbox)},t.title)})))),o.l.createElement(i.a,{"onSubmit":this.onSubmit.bind(this)},o.l.createElement(c.a,{"className":m.a.contentItem},o.l.createElement("h4",{"className":m.a.contentItemTitle},"问题描述（必填）"),o.l.createElement(c.a,{"className":m.a.describe},o.l.createElement(l.a,{"className":m.a.textarea,"placeholder":"请输入留言","name":"content","maxlength":r,"onInput":this.onInput.bind(this)}),o.l.createElement(c.a,{"className":m.a.textRight},p,"/",r),o.l.createElement(h.g,{"list":f,"onChange":this.onChangeImg.bind(this)}))),o.l.createElement(c.a,{"className":m.a.contentItem},o.l.createElement(c.a,{"className":m.a.other},o.l.createElement(c.a,{"className":d()(m.a.otherItem,m.a.border)},o.l.createElement(c.a,{"className":m.a.otherLeft},"联系人"),o.l.createElement(s.a,{"name":"name","placeholder":"请留下您的姓名以便处理问题"})),o.l.createElement(c.a,{"className":d()(m.a.otherItem,m.a.border)},o.l.createElement(c.a,{"className":m.a.otherLeft},"联系电话"),o.l.createElement(s.a,{"name":"telephone","placeholder":"请留下您的手机号以便处理问题"})),o.l.createElement(c.a,{"className":m.a.otherItem},o.l.createElement(c.a,{"className":m.a.otherLeft},"订单编号"),o.l.createElement(l.a,{"className":m.a.otherText,"name":"orderId","placeholder":"可在我的订单查询复制订单编号,每个订单号以英文逗号隔开"})))),o.l.createElement(u.a,{"className":m.a.submit,"formType":"submit"},"提交投诉"))))}},{"key":"componentDidShow","value":function componentDidShow(){v(ComplaintIndex.prototype.__proto__||Object.getPrototypeOf(ComplaintIndex.prototype),"componentDidShow",this)&&v(ComplaintIndex.prototype.__proto__||Object.getPrototypeOf(ComplaintIndex.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){v(ComplaintIndex.prototype.__proto__||Object.getPrototypeOf(ComplaintIndex.prototype),"componentDidHide",this)&&v(ComplaintIndex.prototype.__proto__||Object.getPrototypeOf(ComplaintIndex.prototype),"componentDidHide",this).call(this)}}]),ComplaintIndex}(a.a.Component)}}]);