(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"311":function(e,t,n){"use strict";n.d(t,"a",(function(){return addGoodsComment})),n.d(t,"d",(function(){return getCommentPage})),n.d(t,"c",(function(){return getCommentInfo})),n.d(t,"e",(function(){return getRecommendPage})),n.d(t,"b",(function(){return getByOrderIdPage}));var o=n(9);function addGoodsComment(e){return o.a.post("/product-replies/add",e)}function getCommentPage(e){return o.a.get("/product-replies/get-page",{"params":e})}function getCommentInfo(e){return o.a.get("/product-replies/get-by-id/"+e)}function getRecommendPage(e){return o.a.get("/product-replies/get-recommend-page",{"params":e})}function getByOrderIdPage(e){return o.a.get("/product-replies/get-by-order-id/"+e)}},"317":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n(1),r=n(616),a=n(2),c=n(40),i=n(364),s=n(620),l=n(8),u=n.n(l),p=n(14),d=n(302),m=n(314),f=n.n(m),g=(n(318),n(303)),_=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function Index(e){_classCallCheck(this,Index);var t=_possibleConstructorReturn(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return t.state={"info":e.info},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,e),_(Index,[{"key":"onSeeImg","value":function onSeeImg(e,t,n){n.stopPropagation(),Object(r.a)({"current":t,"urls":e})}},{"key":"render","value":function render(){var e=this,t="comment-item",n=this.state.info,r=void 0===n?{}:n,a=this.props,l=a.showGoods,m=a.className,_=Object.assign(r.productInfo||{},r.productSnap||{}),b=r.userInfo||{};return o.l.createElement(c.a,{"className":u()(t,m)},o.l.createElement(c.a,{"className":t+"__head","onClick":function onClick(){return Object(d.i)(r.id)}},o.l.createElement(c.a,{"className":t+"__user"},o.l.createElement(c.a,{"className":t+"__user-avatar"},o.l.createElement("img",{"src":b.headImg||f.a})),o.l.createElement(c.a,{"className":t+"__user-info d-f f-d-c"},o.l.createElement(c.a,{"className":t+"__user-name t-o-e"},function hideName(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e.length>2){var t=e.substr(0,1),n=e.substr(-1,1);return t+"**"+n}return e}(b.nickName)),o.l.createElement(c.a,{"className":t+"__grade"},o.l.createElement(s.a,{"value":r.productScore,"size":16}))),o.l.createElement(c.a,{"className":t+"__user-time"},Object(p.g)(r.createdAt,"YYYY-MM-DD"))),o.l.createElement(c.a,{"className":t+"__content"},r.comment||"这家伙很懒，什么也没有留下。"),r.pics&&r.pics.length&&o.l.createElement(c.a,{"className":t+"__photo d-f f-w-w"},r.pics.map((function(n,a){return o.l.createElement(c.a,{"key":a,"className":t+"__photo-item","onClick":e.onSeeImg.bind(e,r.pics,n)},o.l.createElement("img",{"src":n}))})))),l&&o.l.createElement(c.a,{"className":t+"__goods","onClick":function onClick(){return Object(d.k)(_)}},o.l.createElement(c.a,{"className":t+"__goods-img"},o.l.createElement("img",{"src":Object(p.o)(_.images)})),o.l.createElement(c.a,{"className":t+"__goods-info d-f f-d-c j-c-b"},o.l.createElement(c.a,{"className":t+"__goods-name t-o-e"},_.name),_.specSnap&&o.l.createElement(c.a,{"className":t+"__goods-attr t-o-e-2"},_.specSnap),o.l.createElement(c.a,{"className":t+"__goods-other d-f j-c-b"},o.l.createElement(c.a,{"className":t+"__price d-f a-i-b"},o.l.createElement(g.G,{"goods":_,"priceSize":32,"className":"m-r-10"}),o.l.createElement(g.L,{"goods":_,"priceSize":28,"isNumber":!0})),o.l.createElement(i.a,{"disabled":!_.isOnSale,"className":t+"__goods-btn xf-btn xf-btn-round xf-btn-danger"},_.isOnSale?"立即抢购":"已下架")))))}}]),Index}(a.a.Component);b.options={"addGlobalClass":!0}},"318":function(e,t,n){},"510":function(e,t,n){},"581":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var o=n(1),r=n(121),a=n(2),c=n(40),i=(n(510),n(311)),s=n(14),l=n(303),u=n(317),p=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),d=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function Index(){_classCallCheck(this,Index);var e=_possibleConstructorReturn(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.config={"backgroundTextStyle":"dark","navigationBarTitleText":"商品评价"},e.state={"page":1,"limit":10,"loading":!0,"dataList":[],"loadStatus":"loading"},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,e),p(Index,[{"key":"componentWillMount","value":function componentWillMount(){this.getPage()}},{"key":"onReachBottom","value":function onReachBottom(){this.getPage()}},{"key":"getPage","value":function getPage(){var e=this,t=this.$router.params,n=this.state,o=n.page,r=n.limit,a=n.dataList;"noMore"!==n.loadStatus&&Object(i.d)({"page":o,"limit":10,"productId":t.id}).then((function(t){var n=t.data,c=n.list,i=n.totalCount;e.setState({"page":o+1,"loading":!1,"dataList":1===o?c:a.concat(c),"loadStatus":o*r>=i?"noMore":"loading"})}))}},{"key":"render","value":function render(){var e=this.state,t=e.loading,n=e.dataList,r=e.loadStatus;return o.l.createElement(c.a,{"className":"comment-page"},t&&o.l.createElement(l.E,{"isCover":!0}),o.l.createElement(c.a,{"className":"comment-list"},n.map((function(e){return o.l.createElement(u.a,{"key":e.id,"info":e,"className":"comment-box"})}))),!Object(s.v)(n,r)&&o.l.createElement(l.D,{"status":r}),Object(s.v)(n,r)&&o.l.createElement(c.a,{"className":"list-empty h-p-100"},o.l.createElement(l.m,null)))}},{"key":"componentDidMount","value":function componentDidMount(){d(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&d(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){d(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this)&&d(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this).call(this),this._offReachBottom=Object(r.a)({"callback":this.onReachBottom,"ctx":this,"onReachBottomDistance":void 0})}},{"key":"componentDidHide","value":function componentDidHide(){d(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&d(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this),this._offReachBottom&&this._offReachBottom()}}]),Index}(a.a.Component)}}]);