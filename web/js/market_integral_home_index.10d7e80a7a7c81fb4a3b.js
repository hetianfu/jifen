(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"304":function(e,t,n){"use strict";n.d(t,"x",(function(){return getUserInfo})),n.d(t,"w",(function(){return getUserCommissions})),n.d(t,"f",(function(){return asyncWechatInfo})),n.d(t,"q",(function(){return getMemberCount})),n.d(t,"r",(function(){return getMemberPermanent})),n.d(t,"m",(function(){return getCartPage})),n.d(t,"b",(function(){return addCart})),n.d(t,"l",(function(){return getCartInfo})),n.d(t,"i",(function(){return delBatchCart})),n.d(t,"C",(function(){return updateCart})),n.d(t,"D",(function(){return updateCartNumber})),n.d(t,"k",(function(){return getAddressList})),n.d(t,"a",(function(){return addAddress})),n.d(t,"B",(function(){return updateAddress})),n.d(t,"j",(function(){return getAddressInfo})),n.d(t,"A",(function(){return setDefaultAddress})),n.d(t,"h",(function(){return delAddressInfo})),n.d(t,"z",(function(){return getWalletPage})),n.d(t,"E",(function(){return userCharges})),n.d(t,"g",(function(){return buyMember})),n.d(t,"t",(function(){return getScoreConfig})),n.d(t,"v",(function(){return getSignScore})),n.d(t,"d",(function(){return addSignScore})),n.d(t,"u",(function(){return getScorePage})),n.d(t,"y",(function(){return getUserScore})),n.d(t,"s",(function(){return getMyCouponPage})),n.d(t,"n",(function(){return getCouponPage})),n.d(t,"c",(function(){return addCoupon})),n.d(t,"e",(function(){return applyDrawToWallet})),n.d(t,"p",(function(){return getGisciplePage})),n.d(t,"o",(function(){return getGiscipleDetailPage}));var r=n(9);n(4),Object.assign;function getUserInfo(){return r.a.get("/users/get-info",{},{"isAuth":!1})}function getUserCommissions(){return r.a.get("/user-commissions/get",{},{"isAuth":!1})}function asyncWechatInfo(e){return r.a.put("/users/async-wechat-info",e)}function getMemberCount(){return r.a.get("/users/count-vip-pay")}function getMemberPermanent(){return r.a.get("/users/permanent-vip-pay")}function getCartPage(e){return r.a.get("/users/get-shop-cart-page",{"params":e},{"isAuth":!1})}function addCart(e){return r.a.post("/users/add-shop-cart",e)}function getCartInfo(e){return r.a.get("/users/get-shop-cart-by-id/"+e)}function delBatchCart(e){return r.a.delete("/users/del-shop-cart",e)}function updateCart(e){return r.a.put("/users/update-shop-cart-by-id",e)}function updateCartNumber(e){return r.a.put("/users/update-shop-cart-number",e)}function getAddressList(){return r.a.get("/users/get-address-list")}function addAddress(e){return r.a.post("/users/add-address",e)}function updateAddress(e){return r.a.put("/users/update-address-by-id",e)}function getAddressInfo(e){return r.a.get("/users/get-address-by-id/"+e)}function setDefaultAddress(e){return r.a.put("/users/set-default-address",e)}function delAddressInfo(e){return r.a.delete("/users/del-address-by-id/"+e)}function getWalletPage(e){return r.a.request({"url":"/users/get-wallet-detail-page","data":e})}function userCharges(e){return r.a.post("/user-charges/charge",e)}function buyMember(e){return r.a.post("/user-charges/buy-vip",e)}function getScoreConfig(){return r.a.get("/user-scores/get-score-config")}function getSignScore(){return r.a.get("/user-scores/get-sign-score")}function addSignScore(){return r.a.post("/user-scores/sign-score")}function getScorePage(e){return r.a.get("/user-scores/get-detail-page",{"params":e})}function getUserScore(){return r.a.get("/user-scores/user-score")}function getMyCouponPage(e){return r.a.get("/users/get-my-coupon-page",{"params":e})}function getCouponPage(e){return r.a.get("/users/get-coupon-page",{"params":e})}function addCoupon(e){return r.a.post("/users/add-coupon",e)}function applyDrawToWallet(e){return r.a.post("/users/apply-draw-to-wallet",e)}function getGisciplePage(e){return r.a.get("/users/get-disciple-page",{"params":e})}function getGiscipleDetailPage(e){return r.a.get("/user-commissions/get-disciple-detail-page",{"params":e})}},"552":function(e,t,n){},"609":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return N}));var r=n(21),a=n.n(r),o=n(1),s=n(121),c=n(2),i=n(40),u=n(569),l=(n(552),n(20)),m=n(8),d=n.n(m),p=n(304),g=n(14),f=n(305),b=n(302),h=n(303),y=n(17),v=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),E=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){function Index(){_classCallCheck(this,Index);var e=_possibleConstructorReturn(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.config={"backgroundTextStyle":"dark","navigationBarTitleText":Object(y.e)()+"详情","navigationBarTextStyle":"black","navigationBarBackgroundColor":"#FFDD00"},e.state={"loading":!0,"typeKey":0,"page":1,"limit":15,"dataList":[],"scoreInfo":{},"loadStatus":"loading"},e}var t;return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,e),v(Index,[{"key":"componentWillMount","value":(t=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function step(r,a){try{var o=t[r](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then((function(e){step("next",e)}),(function(e){step("throw",e)}));e(s)}("next")}))}}(a.a.mark((function _callee(){return a.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPage();case 2:return e.next=4,this.getSignScore();case 4:case"end":return e.stop()}}),_callee,this)}))),function componentWillMount(){return t.apply(this,arguments)})},{"key":"onReachBottom","value":function onReachBottom(){this.getPage()}},{"key":"getPage","value":function getPage(){var e=this,t=this.state,n=t.page,r=t.limit,a=t.dataList;"noMore"!==t.loadStatus&&Object(p.u)({"page":n,"limit":r}).then((function(t){var o=t.data,s=o.list,c=o.totalCount;e.setState({"page":n+1,"dataList":1===n?s:a.concat(s),"loadStatus":n*r>=c?"noMore":"loading"})}))}},{"key":"getSignScore","value":function getSignScore(){var e=this;Object(p.y)().then((function(t){e.setState({"scoreInfo":t.data},(function(){e.setState({"loading":!1})}))}))}},{"key":"onSwitchType","value":function onSwitchType(e){this.setState({"typeKey":e})}},{"key":"render","value":function render(){var e=this.state,t=e.loading,n=e.typeKey,r=e.dataList,a=e.loadStatus,s=e.scoreInfo;return o.l.createElement(i.a,{"className":"integral-page"},t&&o.l.createElement(h.E,null),o.l.createElement(i.a,{"className":"integral-scroll"},o.l.createElement(i.a,{"className":"integral-header"},o.l.createElement(i.a,{"className":"current-box f-g-5 f-d-c"},o.l.createElement(i.a,{"className":"current-text"},"当前",Object(y.e)()),o.l.createElement(i.a,{"className":"current-num bnn-number"},s.totalScore),o.l.createElement(i.a,{"className":"current-line"})),o.l.createElement(i.a,{"className":"list d-f"},o.l.createElement(i.a,{"className":"list-item f-g-5 f-d-c"},o.l.createElement(i.a,{"className":"item-num bnn-number"},s.totalGet),o.l.createElement(i.a,{"className":"item-text"},"累计",Object(y.e)())),o.l.createElement(i.a,{"className":"list-item f-g-5 f-d-c"},o.l.createElement(i.a,{"className":"item-num bnn-number"},s.totalCost),o.l.createElement(i.a,{"className":"item-text"},"累计消耗")),o.l.createElement(i.a,{"className":"list-item f-g-5 f-d-c"},o.l.createElement(i.a,{"className":"item-num bnn-number"},s.todayGet),o.l.createElement(i.a,{"className":"item-text"},"今日获取"))),o.l.createElement(i.a,{"className":"nav-list d-f"},o.l.createElement(i.a,{"className":d()("nav-item f-g-5",0===n&&"active"),"onClick":this.onSwitchType.bind(this,0)},o.l.createElement(u.a,{"src":l.i+"/system/image/icon_integral_list.png","className":"nav-icon"}),o.l.createElement(i.a,{"className":"nav-text"},"分值明细")),o.l.createElement(i.a,{"className":d()("nav-item f-g-5",1===n&&"active"),"onClick":this.onSwitchType.bind(this,1)},o.l.createElement(u.a,{"src":l.i+"/system/image/icon_remind.png","className":"nav-icon"}),o.l.createElement(i.a,{"className":"nav-text"},"分值提升")))),0===n&&o.l.createElement(i.a,{"className":"integral-body"},o.l.createElement(i.a,{"className":"prompt-box f-g-4"},o.l.createElement(i.a,{"className":"prompt-icon bnn-icon"},""),o.l.createElement(i.a,{"className":"prompt-text t-o-e"},"提示：",Object(y.e)(),"不仅可以抵现还可以兑换商品")),o.l.createElement(i.a,{"className":"integral-list"},r.map((function(e,t){return o.l.createElement(i.a,{"key":t,"className":"integral-item thin-border__b d-f a-i-c j-c-b"},o.l.createElement(i.a,{"className":"integral-left"},o.l.createElement(i.a,{"className":"integral-title"},f.d[e.type]),o.l.createElement(i.a,{"className":"integral-time"},Object(g.g)(e.createdAt))),o.l.createElement(i.a,{"className":"integral-right"},e.score>0&&o.l.createElement(i.a,{"className":"integral-num bnn-number integral-plus"},"+",e.score),e.score<0&&o.l.createElement(i.a,{"className":"integral-num bnn-number integral-minus"},e.score)))}))),!Object(g.v)(r,a)&&o.l.createElement(h.D,{"status":a}),Object(g.v)(r,a)&&o.l.createElement(i.a,{"className":"list-empty"},o.l.createElement(h.m,null))),1===n&&o.l.createElement(i.a,{"className":"integral-body"},o.l.createElement(i.a,{"className":"promote-list"},o.l.createElement(i.a,{"className":"promote-item d-f f-g-4"},o.l.createElement(i.a,{"className":"img-box f-g-5"},o.l.createElement(u.a,{"src":l.i+"/system/image/icon_gift.png","className":"promote-img"})),o.l.createElement(i.a,{"className":"promote-title"},"购买商品可获得",Object(y.e)(),"奖励"),o.l.createElement(i.a,{"className":"promote-btn thin-border f-g-5","hoverClass":"hover-class--btn","onClick":function onClick(){return Object(b.l)()}},"赚",Object(y.e)())),o.l.createElement(i.a,{"className":"promote-item d-f f-g-4"},o.l.createElement(i.a,{"className":"img-box f-g-5"},o.l.createElement(u.a,{"src":l.i+"/system/image/icon_sign.png","className":"promote-img"})),o.l.createElement(i.a,{"className":"promote-title"},"每日签到可获得",Object(y.e)(),"奖励"),o.l.createElement(i.a,{"className":"promote-btn thin-border f-g-5","hoverClass":"hover-class--btn","onClick":function onClick(){return Object(b.m)()}},"赚",Object(y.e)()))))))}},{"key":"componentDidMount","value":function componentDidMount(){E(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&E(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){E(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this)&&E(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this).call(this),this._offReachBottom=Object(s.a)({"callback":this.onReachBottom,"ctx":this,"onReachBottomDistance":void 0})}},{"key":"componentDidHide","value":function componentDidHide(){E(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&E(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this),this._offReachBottom&&this._offReachBottom()}}]),Index}(c.a.Component)}}]);