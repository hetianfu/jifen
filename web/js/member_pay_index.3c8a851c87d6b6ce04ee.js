(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"304":function(e,t,n){"use strict";n.d(t,"x",(function(){return getUserInfo})),n.d(t,"w",(function(){return getUserCommissions})),n.d(t,"f",(function(){return asyncWechatInfo})),n.d(t,"q",(function(){return getMemberCount})),n.d(t,"r",(function(){return getMemberPermanent})),n.d(t,"m",(function(){return getCartPage})),n.d(t,"b",(function(){return addCart})),n.d(t,"l",(function(){return getCartInfo})),n.d(t,"i",(function(){return delBatchCart})),n.d(t,"C",(function(){return updateCart})),n.d(t,"D",(function(){return updateCartNumber})),n.d(t,"k",(function(){return getAddressList})),n.d(t,"a",(function(){return addAddress})),n.d(t,"B",(function(){return updateAddress})),n.d(t,"j",(function(){return getAddressInfo})),n.d(t,"A",(function(){return setDefaultAddress})),n.d(t,"h",(function(){return delAddressInfo})),n.d(t,"z",(function(){return getWalletPage})),n.d(t,"E",(function(){return userCharges})),n.d(t,"g",(function(){return buyMember})),n.d(t,"t",(function(){return getScoreConfig})),n.d(t,"v",(function(){return getSignScore})),n.d(t,"d",(function(){return addSignScore})),n.d(t,"u",(function(){return getScorePage})),n.d(t,"y",(function(){return getUserScore})),n.d(t,"s",(function(){return getMyCouponPage})),n.d(t,"n",(function(){return getCouponPage})),n.d(t,"c",(function(){return addCoupon})),n.d(t,"e",(function(){return applyDrawToWallet})),n.d(t,"p",(function(){return getGisciplePage})),n.d(t,"o",(function(){return getGiscipleDetailPage}));var r=n(9);n(4),Object.assign;function getUserInfo(){return r.a.get("/users/get-info",{},{"isAuth":!1})}function getUserCommissions(){return r.a.get("/user-commissions/get",{},{"isAuth":!1})}function asyncWechatInfo(e){return r.a.put("/users/async-wechat-info",e)}function getMemberCount(){return r.a.get("/users/count-vip-pay")}function getMemberPermanent(){return r.a.get("/users/permanent-vip-pay")}function getCartPage(e){return r.a.get("/users/get-shop-cart-page",{"params":e},{"isAuth":!1})}function addCart(e){return r.a.post("/users/add-shop-cart",e)}function getCartInfo(e){return r.a.get("/users/get-shop-cart-by-id/"+e)}function delBatchCart(e){return r.a.delete("/users/del-shop-cart",e)}function updateCart(e){return r.a.put("/users/update-shop-cart-by-id",e)}function updateCartNumber(e){return r.a.put("/users/update-shop-cart-number",e)}function getAddressList(){return r.a.get("/users/get-address-list")}function addAddress(e){return r.a.post("/users/add-address",e)}function updateAddress(e){return r.a.put("/users/update-address-by-id",e)}function getAddressInfo(e){return r.a.get("/users/get-address-by-id/"+e)}function setDefaultAddress(e){return r.a.put("/users/set-default-address",e)}function delAddressInfo(e){return r.a.delete("/users/del-address-by-id/"+e)}function getWalletPage(e){return r.a.request({"url":"/users/get-wallet-detail-page","data":e})}function userCharges(e){return r.a.post("/user-charges/charge",e)}function buyMember(e){return r.a.post("/user-charges/buy-vip",e)}function getScoreConfig(){return r.a.get("/user-scores/get-score-config")}function getSignScore(){return r.a.get("/user-scores/get-sign-score")}function addSignScore(){return r.a.post("/user-scores/sign-score")}function getScorePage(e){return r.a.get("/user-scores/get-detail-page",{"params":e})}function getUserScore(){return r.a.get("/user-scores/user-score")}function getMyCouponPage(e){return r.a.get("/users/get-my-coupon-page",{"params":e})}function getCouponPage(e){return r.a.get("/users/get-coupon-page",{"params":e})}function addCoupon(e){return r.a.post("/users/add-coupon",e)}function applyDrawToWallet(e){return r.a.post("/users/apply-draw-to-wallet",e)}function getGisciplePage(e){return r.a.get("/users/get-disciple-page",{"params":e})}function getGiscipleDetailPage(e){return r.a.get("/user-commissions/get-disciple-detail-page",{"params":e})}},"528":function(e,t,n){},"529":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),a=Object(r.k)("chooseWXPay",void 0,void 0,(function(e){return Object.assign(e,{"timestamp":Number.parseInt(e.timeStamp,10)})}))},"590":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var r=n(21),a=n.n(r),o=n(1),s=n(3),u=n(529),c=n(2),i=n(40),d=n(410),l=n(569),p=n(404),f=(n(528),n(302)),g=n(304),m=n(4),y=n(14),b=n(303),h=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),v=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=function(e){function Index(){_classCallCheck(this,Index);var e=_possibleConstructorReturn(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.config={"backgroundColor":"#FFDD00","backgroundTextStyle":"dark","navigationBarTitleText":"购买会员","navigationBarTextStyle":"black","navigationBarBackgroundColor":"#FFDD00"},e.state={"loading":!0,"userNum":0,"dataInfo":{},"userInfo":Object(s.b)(m.f)||{}},e}var t;return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,e),h(Index,[{"key":"componentWillMount","value":function componentWillMount(){this.getCount()}},{"key":"getCount","value":(t=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function step(r,a){try{var o=t[r](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then((function(e){step("next",e)}),(function(e){step("throw",e)}));e(s)}("next")}))}}(a.a.mark((function _callee(){var e,t=this;return a.a.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(g.q)();case 2:e=n.sent,Object(g.r)().then((function(n){t.setState({"loading":!1,"userNum":e.data,"dataInfo":n.data})}));case 4:case"end":return n.stop()}}),_callee,this)}))),function getCount(){return t.apply(this,arguments)})},{"key":"payMember","value":function payMember(){var e=this.state.dataInfo;Object(g.g)({"vipPayId":e.id,"amount":e.amount}).then((function(e){var t=e.data;Object(u.a)(t).then((function(){wx.hideLoading(),wx.showToast({"title":"支付成功","icon":"success"}),Object(f.C)()})).catch((function(){wx.hideLoading(),wx.showToast({"title":"支付取消","icon":"none"})}))}))}},{"key":"render","value":function render(){var e=this.state,t=e.loading,n=e.userNum,r=e.userInfo,a=e.dataInfo;return o.l.createElement(i.a,{"className":"pay-page"},t&&o.l.createElement(b.E,{"isCover":!0}),o.l.createElement(d.a,{"className":"pay-scroll"},o.l.createElement(i.a,{"className":"pay-head d-f a-i-c j-c-b"},o.l.createElement(i.a,{"className":"user-info f-g-4"},o.l.createElement(l.a,{"src":r.headImg,"className":"user-avatar"}),o.l.createElement(i.a,{"className":"user-name"},r.nickName)),o.l.createElement(i.a,{"className":"join-user"},o.l.createElement(i.a,{"className":"join-people"},o.l.createElement(p.a,{"className":"people-num"},n),"人"),"已加入会员权益")),o.l.createElement(i.a,{"className":"pay-body"},o.l.createElement(i.a,{"className":"pay-card goods-card"},o.l.createElement(i.a,{"className":"card-head"},o.l.createElement(i.a,{"className":"head-title"},"选择会员类型")),o.l.createElement(i.a,{"className":"card-body"},o.l.createElement(i.a,{"className":"card-body"},o.l.createElement(i.a,{"className":"card-item thin-border__b d-f a-i-c j-c-b"},o.l.createElement(i.a,{"className":"item-left"},o.l.createElement(i.a,{"className":"goods-name"},a.name),o.l.createElement(i.a,{"className":"goods-price d-f a-i-b"},o.l.createElement(i.a,{"className":"bnn-number sale-price f-s-36 m-r-10"},"￥",a.amount),o.l.createElement(i.a,{"className":"bnn-number origin-price f-s-24"},"￥",a.originAmount)),o.l.createElement(i.a,{"className":"goods-info f-g-4"},a.remark,o.l.createElement(i.a,{"className":"bnn-icon m-l-10"},"")))))))),o.l.createElement(i.a,{"className":"pay-foot--height"}),o.l.createElement(i.a,{"className":"pay-foot fy-popup fy-popup--bottom d-f a-i-c j-c-b"},o.l.createElement(i.a,{"className":"pay-info d-f a-i-b"},"合计：",o.l.createElement(i.a,{"className":"pay-amount bnn-number"},o.l.createElement(p.a,{"className":"price-unit"},"￥"),Object(y.d)(a.amount))),o.l.createElement(i.a,{"className":"pay-btn f-g-5","hoverClass":"hover-class--btn","onClick":this.payMember.bind(this)},"立即开通"))))}},{"key":"componentDidMount","value":function componentDidMount(){v(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&v(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){v(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this)&&v(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){v(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&v(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this)}}]),Index}(c.a.Component)}}]);