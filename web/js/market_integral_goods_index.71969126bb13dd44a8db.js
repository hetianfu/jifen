(window.webpackJsonp=window.webpackJsonp||[]).push([[24,4],{"306":function(e,t,n){"use strict";n.d(t,"a",(function(){return getPage})),n.d(t,"b",(function(){return infoById})),n.d(t,"c",(function(){return skuById}));var o=n(9);function getPage(e){return o.a.get("/products/get-page",{"params":e})}function infoById(e,t){return o.a.get("/products/get-by-id/"+e,t)}function skuById(e){return o.a.get("/products/get-sku-by-id/"+e)}},"308":function(e,t,n){"use strict";var o={"Mul":function Mul(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=e.toString(),r=t.toString(),a=void 0,A=void 0;return a=(o.split(".")[1]?o.split(".")[1].length:0)+(r.split(".")[1]?r.split(".")[1].length:0),A=Number(o.replace(".",""))*Number(r.replace(".",""))/Math.pow(10,a),Number(A.toFixed(n))},"Div":function Div(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=e.toString(),r=t.toString(),a=void 0,A=void 0;return a=(r.split(".")[1]?r.split(".")[1].length:0)-(o.split(".")[1]?o.split(".")[1].length:0),A=Number(o.replace(".",""))/Number(r.replace(".",""))*Math.pow(10,a),Number(A.toFixed(n))},"Add":function Add(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=e.toString(),r=t.toString(),a=o.split("."),A=r.split("."),i=2==a.length?a[1]:"",s=2==A.length?A[1]:"",c=Math.max(i.length,s.length),l=Math.pow(10,c),u=Number(((e*l+t*l)/l).toFixed(c));return Number(u.toFixed(n))},"Sub":function Sub(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return o.Add(e,-Number(t),n)}};t.a=o},"311":function(e,t,n){"use strict";n.d(t,"a",(function(){return addGoodsComment})),n.d(t,"d",(function(){return getCommentPage})),n.d(t,"c",(function(){return getCommentInfo})),n.d(t,"e",(function(){return getRecommendPage})),n.d(t,"b",(function(){return getByOrderIdPage}));var o=n(9);function addGoodsComment(e){return o.a.post("/product-replies/add",e)}function getCommentPage(e){return o.a.get("/product-replies/get-page",{"params":e})}function getCommentInfo(e){return o.a.get("/product-replies/get-by-id/"+e)}function getRecommendPage(e){return o.a.get("/product-replies/get-recommend-page",{"params":e})}function getByOrderIdPage(e){return o.a.get("/product-replies/get-by-order-id/"+e)}},"315":function(e,t,n){},"316":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var o=n(1),r=n(2),a=n(40),A=n(364),i=n(569),s=(n(326),n(302)),c=n(327),l=n.n(c),u=n(328),p=n.n(u),f=n(329),d=n.n(f),m=n(330),h=n.n(m),g=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function fun(){},y=function(e){function Index(){return _classCallCheck(this,Index),_possibleConstructorReturn(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,e),g(Index,[{"key":"render","value":function render(){var e=this.props,t=e.menus,n=void 0===t?[]:t,r=e.onShare,c={"home":{"name":"首页","icon":l.a,"onClick":s.l},"share":{"name":"分享","icon":h.a,"onClick":r},"wxShare":{"name":"分享","icon":h.a,"openType":"share","onClick":b},"cart":{"name":"购物车","icon":p.a,"onClick":s.g},"user":{"name":"我的","icon":d.a,"onClick":s.C}};return o.l.createElement(a.a,{"className":"goods-foot thin-border__t"},o.l.createElement(a.a,{"className":"goods-foot__left"},n.map((function(e){return o.l.createElement(A.a,{"key":e,"openType":c[e].openType,"className":"goods-foot__menu","onClick":c[e].onClick},o.l.createElement(i.a,{"className":"goods-foot__menu-icon","src":c[e].icon}),o.l.createElement(a.a,{"className":"goods-foot__menu-text"},c[e].name))}))),o.l.createElement(a.a,{"className":"goods-foot__right"},o.l.createElement(a.a,{"className":"goods-foot__btns"},this.props.children)))}}]),Index}(r.a.Component);y.options={"addGlobalClass":!0}},"320":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n(3),r=n(571),a=n(385),A=n(2),i=n(4),s=n(306),c=n(311),l=n(17),u=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function FyComponent(){_classCallCheck(this,FyComponent);var e=_possibleConstructorReturn(this,(FyComponent.__proto__||Object.getPrototypeOf(FyComponent)).apply(this,arguments)),t=e.$router.params;return e.state={"id":t.id,"opacity":0,"nodeKey":0,"nodeList":[],"initSku":!1,"userInfo":Object(o.b)(i.f)||{},"shareImg":"","goodsInfo":{},"goodsList":[],"comboList":[],"commentRes":{},"goodsImages":[],"showMore":!1,"loadingStatus":!0},e.rolling=!1,e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(FyComponent,e),u(FyComponent,[{"key":"onShareAppMessage","value":function onShareAppMessage(){return{"title":this.state.goodsInfo.name,"path":Object(l.i)()}}},{"key":"onScroll","value":function onScroll(e){var t=e.scrollTop,n=this.state,o=n.opacity,r=n.nodeKey,a=n.nodeList,A=(t/200).toFixed(2),i=A>=1?1:A;if(o!==i&&this.setState({"opacity":i}),this.rolling)return!1;var s=a.filter((function(e){return t>=e.top})).length-1;r!==s&&this.setState({"nodeKey":s})}},{"key":"getNodeLocation","value":function getNodeLocation(){var e=this,t=0,n=Object(r.a)(),o=[{"name":"商品","id":"#goods-info"},{"name":"拼团","id":"#goods-group"},{"name":"店铺","id":"#goods-shop"},{"name":"评价","id":"#goods-comment"},{"name":"详情","id":"#goods-desc"},{"name":"推荐","id":"#goods-hot"}];n.select("#goods-navbar").boundingClientRect((function(e){var n=e.height;t=n})),o.map((function(e){n.select(e.id).boundingClientRect((function(t){t&&(e.top=t.top)}))})),n.exec((function(){e.setState({"nodeList":o.filter((function(e){return e.top=Math.ceil(e.top-t),!isNaN(e.top)}))})}))}},{"key":"onSwitchNode","value":function onSwitchNode(e,t){var n=this;this.rolling=!0,this.setState({"nodeKey":t},(function(){Object(a.a)({"scrollTop":e.top,"duration":300})})),setTimeout((function(){n.rolling=!1}),400)}},{"key":"getGoodsPage","value":function getGoodsPage(){var e=this;Object(s.a)({"page":1,"limit":6}).then((function(t){var n=t.data;e.setState({"goodsList":n.list})}))}},{"key":"getCommentPage","value":function getCommentPage(){var e=this,t=this.$router.params;Object(c.d)({"page":1,"limit":2,"productId":t.id}).then((function(t){var n=t.data;e.setState({"commentRes":n})}))}}]),FyComponent}(A.a.Component);p.options={"addGlobalClass":!0}},"326":function(e,t,n){},"327":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA8CAMAAAAEyYk6AAAAclBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACa4vOeAAAAJXRSTlMAEeNHyX8wbgj38TyPZqLr1DZUIeDbzrV2TxbArg3Yg15DGpMpG4Hb4AAAAXJJREFUSMftltuSgjAMhisWDAUUOeMR0b7/K26y4lSXraY3jM7430hiP9LwB6bCJuikWm0z4aqg0r/a5m5cE+pBKnHA8i0S4bHPY0LrDZdLFC4/rOnyVODlitfpZqdRZ7hG+yVFy9lrrl3hQu80TthkL2C2YFf0f0sdNV2u7Z7HZELdWx8zWDxPn9i2oHtWF6vn0jooF0lFm/FmTN4mPzQj+Oh5GtxCbi99TeViEC8Ef0YwI4uL6BZy/YKr53sGZiYEkJN0j5ZFmRGUIHz82W2YkBlBX5RYWDgKt1sKNKd1BefogcCyc1cwQugLfsEJwfUbgdD68aBjBnzwkuo7lQEXhIN+ULFngifMHZNBZwwyJrjQujKRR1+mRwV2UJqomBwsJwcPk4Pp54DV24BK6+QpKMfgXGtF+Z0rGNOCht43NzAKtW4EeHQ2yvlg7yPnAXaqNEp5RpgITRSO/sREMBzR3GQOfV2t+JSqO3EnmDEFA/ADjFtfhJOhE1AAAAAASUVORK5CYII="},"328":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA9CAMAAAApvJHbAAAApVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABU/knhAAAANnRSTlMAp1gG95lm1FLnYPmuTRYJJe+HeXMP8+vk2svFwoxIQyobsqKflY+APTk3NTAT3rxcbWppPyBe7P9PAAAB7ElEQVRIx92WW3OiQBCFR8WAokaNKN5A4y3GeEk2+f7/T9tlHhZqneYyednK92JR7amC6XO6R30Tr/34DTEMhmt7NeDXTpby9pSEed9S370CdJQtbxsYKHtasLJXd+DBXj2Cjb36BBd7dcOBnj7AekleshZdgPfnJ6Y0rThVD2GfeIfyTHqpZWCWfMGhVpIQbn/VZ/ArhW0Ho/TJhZcq6hlE6VMTniqIH30IMlmD5wrqT3BVSr9aUJ6gaR+UZ2jbB2UC/X+Csi0t7sNEZXmFqSomPWNzUGTM/U2DkkZ21zTyIXlrCMtMBwS6STW493UX5hnjChyTagQzpTEHpdd+MKLF6gB7pbEJyhXq0kEWM4a10MRi3iCUDFTML6gZzFsyKBt4N26Udhn1BU5KYxGUHjgNdcexXFA8WIgbpZAlDJWBOXSL1em/5KCkyG9oCIpA8Rg5gxOUGKdbcUP4TgHATWpGGdyG1EuXIsa1dc6RFqH+V1aHzj4SpsKws/zMT74DUGuYGu0D7PKM5KM53Jci0LznXjkX3g7G96UFXL0NtGR1CF96Nq9MgzTQS0ZutwuvqtGCL9M9uq+CAchJ2EJrP4PQ+FGXpQuuElkP0NQNG99BEyuZ4xQYf5hKcQgMbvk3sXjk9YRSNOqe1U/gN2PHczYoirbdAAAAAElFTkSuQmCC"},"329":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAMAAADWZboaAAAAb1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABt6r1GAAAAJHRSTlMA6QsFJPXf2MHNoX9zUxfRkTMS77SIZ0QtyJqWW05JQDgcO71sDKMmAAACLklEQVRIx5ST266DIBBFEUUQtRcIpjY0Nen6/288D33pSZyx3a+LlQxzMUJSjcE750OsyfySOfCRMH8tPlfecY531udXYnsHyLF21hjb1ZgB7u2xmQLQLB8v26UBwuGXTz1QrPkXW4D+dFBtADfv9M3BqtccwV33wNVB1MwH8NCQmNbDKMERvFzyAr1I2x4WUfVQjZgKXmId9EZJD52AJrho6gUmAb3gqe42vOSCrKZa+UOObNRknLD44HXVQ9rffDjr6hmEG4BGVxuQ29SqZyW3aYWbpt5gFVCBUVNHKALaYNDUATalDZtsblobCwRZDVBEaBuYJThDo+zpBLkTLjLDpE1uAJ/2SPIwqFP/q7budhuEYTAM25BQQiA/KgUEKirou/9rHDC169AI0LM95698ZnvgqRV/zJxKHijoIYFrTys9A/JBO0YGUDb0pikB8Ei7BoU5rgwtTDWHUAMdEGmJGauyVIyZ1BEdYzqJN7IzdFx0zxIskuwe0Vmx8d7E9C+IQrusTK1Ny8zpQtAhce3SK1auqavjva5lbOA2UEf5s7NZXtReGCN8XeSZfdZ5FAyt9jGtxF7b7bhfwksuaIPIL0vcr0c6TFRBQYXCxP0aLCyApKddfQLAireSAXQRHRB1APjVDgnANR1UM5AMPxuLGzqs4dfu6zbKYNvRxGPj+wj+I/Dfp7Glk9rlXI6BexC8MCM5QNNpGnCkAEGnCUCRBNMHGJJuXNEHKr59Ab6rP9aCL2DrAAAAAElFTkSuQmCC"},"330":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAMAAADWZboaAAAAgVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABtFS1lAAAAKnRSTlMAkTUH91VT8J4aFOms3tjGYONOl3haDcy/s4N/ay7Tcj8npY+KRCERuUpBICVBAAACSklEQVRIx52W69aqIBRFCS1N81J27+t+n+//gAdHJZRxNNY/henYwGJtRZOmWSKFm+4Q993QLjDznFEG7ihjRzQGRm5oJ4Rg74Z6GSRXJ1T0h3BzQ4X04eiGihzI3VBxAl+6oeJWOtINvaalI51QsQ/g0Babysl2UKHi3tKR+zxMKaVRMQbuDdxllaI1qd4fmhx5XjyZ4aKzzbvGkXgzSO2OlPMHVvSi+mA/tjsyOpScH+5sH/bh9HVkFAPBKhJW5cbiTZ1QKkrQrs43R3oDIF2LBt1g+OHIawaEzVa7JpC9TfNK8k+00DqA0HwxAH8iWmkEbPXj8ZfYWwFnM263jYhZYvpyQgxhM2HuS6Z9vfHao2Uwr/VNlO3JP6AnHtr8FJVnYKU3O25f7iUwWt/sl1Y23Rj7coZg+su5xBfjYdmaXAK7qgIf+u2z1TT6BOZtybUPhVG87cJEcjTJt+OR8SaBuadN5UNUi688zAKeyqupc0iMubtavbsiQcuI8AJ8M0TG7/u7Xw5fSLoIj6tQoYb/usLQwryncvCgkiKXjzX1KnTnfx5irJcqH7E/G+uqNHqJYfG+IZA8z/f4SG99hUzUK/03fd+Tl5dH5RqDpargKzpQg5damp/Kj3ZQOmhXmWiVRrWE2qqys3KNqlQL2vsWtGF54WUMFJ6woTp5Tc1BSjUSqMSwodFH3utr3lVkshdWtJjDMKoPpeArsi/sqG/52xqilCrSjlo6qojRPc+C2vq4rsaOLoQN/W9/k5BOLTEVjBuiPrQs5x/xrVOkgKd70gAAAABJRU5ErkJggg=="},"332":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n(1),r=n(2),a=n(40),A=n(569),i=n(404),s=(n(333),n(8)),c=n.n(s),l=n(302),u=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function ShopInfoOne(){return _classCallCheck(this,ShopInfoOne),_possibleConstructorReturn(this,(ShopInfoOne.__proto__||Object.getPrototypeOf(ShopInfoOne)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ShopInfoOne,e),u(ShopInfoOne,[{"key":"render","value":function render(){var e="shop-info-one",t=this.props,n=t.info,r=void 0===n?{}:n,s=t.className;return o.l.createElement(a.a,{"className":c()(e,s),"onClick":function onClick(){return Object(l.A)(r.id)}},o.l.createElement(A.a,{"src":r.logo,"className":e+"-logo"}),o.l.createElement(a.a,{"className":e+"-name t-o-e"},r.shopName),o.l.createElement(a.a,{"className":e+"-more bnn-icon d-f a-i-c"},o.l.createElement(i.a,{"className":e+"-more-text"},"进店逛逛"),o.l.createElement(i.a,{"className":e+"-more-icon"},"")))}}]),ShopInfoOne}(r.a.Component);p.options={"addGlobalClass":!0}},"333":function(e,t,n){},"334":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(1),r=n(2),a=n(40),A=n(404),i=(n(335),n(8)),s=n.n(i),c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function ShopInfoTwo(){return _classCallCheck(this,ShopInfoTwo),_possibleConstructorReturn(this,(ShopInfoTwo.__proto__||Object.getPrototypeOf(ShopInfoTwo)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ShopInfoTwo,e),c(ShopInfoTwo,[{"key":"callPhone","value":function callPhone(e){var t=e.phone;if(!t)return!1;wx.makePhoneCall({"phoneNumber":t})}},{"key":"openMap","value":function openMap(e){var t=e.lat,n=e.lng,o=e.address,r=e.shopName;if(!t||!n)return!1;wx.openLocation({"name":r,"address":o,"latitude":Number(t),"longitude":Number(n)})}},{"key":"render","value":function render(){var e="shop-info-two",t=this.props,n=t.info,r=void 0===n?{}:n,i=t.className;return o.l.createElement(a.a,{"className":s()(e,i)},o.l.createElement(a.a,{"className":e+"-info"},o.l.createElement(a.a,{"className":e+"-info-left t-o-e"},r.shopName),o.l.createElement(a.a,{"className":e+"-info-right"},o.l.createElement(A.a,{"className":e+"-icon bnn-icon","onClick":this.callPhone.bind(this,r)},""),o.l.createElement(A.a,{"className":e+"-icon bnn-icon","onClick":this.openMap.bind(this,r)},""))),o.l.createElement(a.a,{"className":e+"-li"},r.businessTime),o.l.createElement(a.a,{"className":e+"-li"},r.address))}}]),ShopInfoTwo}(r.a.Component);l.options={"addGlobalClass":!0}},"335":function(e,t,n){},"339":function(e,t,n){"use strict";n(25);var o=n(1),r=n(66),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},A=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=function(e){function RichText(){return _classCallCheck(this,RichText),_possibleConstructorReturn(this,(RichText.__proto__||Object.getPrototypeOf(RichText)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(RichText,e),A(RichText,[{"key":"renderNodes","value":function renderNodes(e){if("text"===e.type)return o.l.createElement("span",{},e.text);var t=this.renderChildrens(e.children),n={"className":"","style":""};if(e.hasOwnProperty("attrs"))for(var r in e.attrs)"class"===r?n.className=e.attrs[r]||"":n[r]=e.attrs[r]||"";return o.l.createElement(e.name,n,t)}},{"key":"renderChildrens","value":function renderChildrens(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0!==t.length)return t.map((function(t,n){return"text"===t.type?t.text:e.renderNodes(t)}))}},{"key":"render","value":function render(){var e=this,t=this.props,n=t.nodes,A=t.className,i=function _objectWithoutProperties(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["nodes","className"]);return Array.isArray(n)?o.l.createElement("div",a({"className":A},Object(r.a)(this.props,["nodes","className"]),i),n.map((function(t,n){return e.renderNodes(t)}))):o.l.createElement("div",a({"className":A},Object(r.a)(this.props,["className"]),i,{"dangerouslySetInnerHTML":{"__html":n}}))}}]),RichText}(o.l.Component);t.a=i},"385":function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var o=n(0),r=void 0,a=void 0,A=function pageScrollTo(e){var t=e.scrollTop,n=e.duration,A=void 0===n?300:n,i=e.success,s=e.fail,c=e.complete;return new Promise((function(e,n){try{if(void 0===t)throw Error('"scrollTop" is required');var l=document.querySelector(".taro-tabbar__panel")||window;r||(r=l===window?function scrollFunc(e){if(void 0===e)return window.pageYOffset;window.scrollTo(0,e)}:function scrollFunc(e){if(void 0===e)return l.scrollTop;l.scrollTop=e});var u=r(),p=t,f=p-u,d=A/17-1,m=Object(o.f)(o.c,d);!function scroll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=u+f*m(t);if(r(n),t<d)a&&clearTimeout(a),a=setTimeout((function(){scroll(t+1)}),17);else{var o={"errMsg":"pageScrollTo:ok"};r(p),i&&i(o),c&&c(o),e(o)}}()}catch(e){var h={"errMsg":"pageScrollTo:fail "+e.message};s&&s(h),c&&c(h),n(h)}}))}},"560":function(e,t,n){},"561":function(e,t,n){},"627":function(e,t,n){"use strict";n.r(t);var o=n(1),r=n(40),a=n(404),A=n(339),i=n(364),s=(n(560),n(315),n(308)),c=n(8),l=n.n(c),u=n(306),p=n(336),f=n(14),d=n(302),m=n(320),h=n(2),g=n(569),b=(n(561),n(351)),y=n.n(b),v=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function RecordList(){return _classCallCheck(this,RecordList),_possibleConstructorReturn(this,(RecordList.__proto__||Object.getPrototypeOf(RecordList)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(RecordList,e),v(RecordList,[{"key":"render","value":function render(){var e=this.props,t=e.sale,n=e.origin,a=e.isSku,A=e.saleSize,i=void 0===A?36:A,s=e.className;return o.l.createElement(r.a,{"className":l()("goods-price",s)},o.l.createElement(r.a,{"className":"sale-price"},o.l.createElement(g.a,{"src":y.a,"className":"sale-price__unit"}),o.l.createElement(r.a,{"className":"sale-price__num f-s-"+i},Object(f.f)(t)),!!a&&o.l.createElement(r.a,{"className":"sale-price__text"},"起")),!a&&n>t&&o.l.createElement(r.a,{"className":"origin-price"},"￥",Object(f.f)(n)))}}]),RecordList}(h.a.Component);E.options={"addGlobalClass":!0};var N=n(303),C=n(316),_=n(332),w=n(334),O=n(305);n.d(t,"default",(function(){return P}));var S=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),k=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};function goods_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function goods_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j=function filterGoodsInfo(e){return e.saveMoney=s.a.Sub(Number(e.salePrice),Number(e.memberPrice)),e.unitName=e.unitSnap&&e.unitSnap.name||"件",e.isActivity=e.strategy,Object(f.j)(e),e},P=function(e){function Index(){goods_classCallCheck(this,Index);var e=goods_possibleConstructorReturn(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.config={"navigationStyle":"custom"},e}return function goods_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,e),S(Index,[{"key":"componentWillMount","value":function componentWillMount(){this.getGoodsInfo(),this.getGoodsPage(),this.getCommentPage()}},{"key":"getGoodsInfo","value":function getGoodsInfo(){var e=this,t=this.$router.params;Object(u.b)(t.id).then((function(t){var n=t.data;n.timestamp=Number(new Date),e.setState({"goodsInfo":j(n),"comboList":n.skuDetail||[],"goodsImages":n.images},(function(){e.setState({"loadingStatus":!1}),setTimeout((function(){e.getNodeLocation()}),200)}))})).catch((function(e){console.log(e),setTimeout((function(){wx.navigateBack()}),800)}))}},{"key":"setShowSelect","value":function setShowSelect(e){this.setState({"showSelect":e})}},{"key":"onConfirm","value":function onConfirm(e,t){console.log(e),this.setShowSelect(!1),Object(d.a)({"id":e.productId,"skuId":e.skuId,"number":t})}},{"key":"render","value":function render(){var e=this,t=this.state,n=t.opacity,s=t.nodeKey,c=t.nodeList,u=t.goodsInfo,m=t.goodsList,h=t.showSelect,g=t.showShareImg,b=t.shareImg,y=t.commentRes,v=t.loadingStatus,S=u.salesReport&&u.salesReport.map((function(e){return e.userInfo&&e.userInfo.headImg})),k=(100/c.length).toFixed(2);return o.l.createElement(r.a,{"className":"goods-page"},v&&o.l.createElement(N.E,null),o.l.createElement(N.s,{"opacity":n},o.l.createElement(r.a,{"className":"node-list"},c.map((function(t,n){return o.l.createElement(r.a,{"key":t.id,"className":l()("node-item f-g-5",s===n&&"node-item__active"),"onClick":e.onSwitchNode.bind(e,t,n)},t.name)})),o.l.createElement(r.a,{"className":"under-line","style":{"left":"calc("+s*k+"% + ("+k+"% / 2))"}}))),o.l.createElement(r.a,{"className":"goods-scroll"},o.l.createElement(r.a,{"id":"goods-info","className":"goods-card"},o.l.createElement(N.o,{"images":u.images,"video":{"url":u.video,"poster":u.videoCoverImg}}),o.l.createElement(r.a,{"className":"goods-head"},o.l.createElement(r.a,{"className":"d-f a-i-c j-c-b"},o.l.createElement(r.a,{"className":"price d-f a-i-b"},o.l.createElement(E,{"sale":u.salePrice,"origin":u.originPrice,"isSku":u.isSku,"saleSize":48})),o.l.createElement(r.a,{"className":"user-like f-g-5"},o.l.createElement(a.a,{"className":"like-icon bnn-icon m-r-10"},""),u.storeCount,"人喜欢")),o.l.createElement(r.a,{"className":"goods-name"},u.name),o.l.createElement(r.a,{"className":"stock-box d-f j-c-b"},o.l.createElement(r.a,{"className":""},"已兑换",u.salesNumber,u.unitName),o.l.createElement(r.a,{"className":""},"剩余库存",u.stockNumber,u.unitName)),o.l.createElement(r.a,{"className":"sales-record d-f j-c-b"},o.l.createElement(N.b,{"list":S,"showMore":!0}),o.l.createElement(r.a,{"className":"invite-btn d-f a-i-c","hoverClass":"hover-class--btn","onClick":this.showShareImg.bind(this)},"邀请好友一起抢")),o.l.createElement(r.a,{"className":"tip-list d-f f-w-w"},u.tips&&u.tips.map((function(e,t){return o.l.createElement(r.a,{"key":t,"className":"tip-item d-f a-i-c"},o.l.createElement(r.a,{"className":"bnn-icon tip-icon"},""),o.l.createElement(r.a,{"className":"tip-text l-h-o"},e))}))))),u.type===O.b.VIRTUAL&&o.l.createElement(r.a,{"className":"goods-card goods-card__body shop-card"},o.l.createElement(r.a,{"className":"goods-card__head"},o.l.createElement(N.R,null,"商家信息")),o.l.createElement(_.a,{"info":u.shopSnap,"className":"shop-card__head"}),o.l.createElement(r.a,{"className":"thin-border__b"}),o.l.createElement(w.a,{"info":u.shopSnap,"className":"shop-card__foot"})),y.list&&y.list.length&&o.l.createElement(r.a,{"id":"goods-comment","className":"goods-card goods-card__body comment-card"},o.l.createElement(r.a,{"className":"goods-card__head"},o.l.createElement(N.R,null,"用户评论")),o.l.createElement(r.a,{"className":"comment-list"},y.list.map((function(e){return o.l.createElement(N.e,{"key":e.id,"info":e,"className":"comment-item"})})),o.l.createElement(r.a,{"className":"see-more f-g-5","onClick":function onClick(){return Object(d.h)(u.id)}},"查看更多好评（",y.totalCount,"）"))),o.l.createElement(r.a,{"className":"goods-body"},u.description&&o.l.createElement(r.a,{"id":"goods-desc","className":"goods-card"},o.l.createElement(r.a,{"className":"goods-card__head"},o.l.createElement(N.R,null,"商品详情")),o.l.createElement(r.a,{"className":"rich-text-wrap goods-card__body"},o.l.createElement(A.a,{"nodes":Object(f.e)(u.description)}))),o.l.createElement(r.a,{"id":"goods-hot","className":"goods-card"},o.l.createElement(r.a,{"className":"goods-card__head"},o.l.createElement(N.R,null,"更多美好生活")),o.l.createElement(N.v,{"list":m}))),o.l.createElement(r.a,{"className":"goods-footer--height"})),o.l.createElement(C.a,{"menus":["home","share","user"],"onShare":this.showShareImg.bind(this)},o.l.createElement(i.a,{"disabled":u.disabled,"className":"goods-foot__btns-btn xf-btn xf-btn-primary","onClick":this.setShowSelect.bind(this)},u.disabledText||"立即兑换")),o.l.createElement(N.N,{"isOpened":g,"width":500,"height":890,"image":b,"onClose":this.showShareImg.bind(this,!1)}),o.l.createElement(p.d,{"goods":u,"isOpened":h,"onClose":this.setShowSelect.bind(this,!1),"onConfirm":this.onConfirm.bind(this)}),o.l.createElement(N.c,null))}},{"key":"componentDidMount","value":function componentDidMount(){k(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&k(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){k(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this)&&k(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){k(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&k(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this)}}]),Index}(m.a)}}]);