(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"310":function(e,t,n){"use strict";n.d(t,"b",(function(){return filterStyles})),n.d(t,"a",(function(){return filterGoodsInfo}));var o=n(311),r=n(6),i=n(17),a=n(2);function filterStyles(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[null,void 0,"","px","rpx","0rpx",!1],n={};return Object.keys(e).filter((function(o){-1==t.indexOf(e[o])&&(n[o]=e[o])})),n}function filterGoodsInfo(e){switch(e.shareAmount=r.a.head(e.sharedAmount),e.saveMoney=o.a.Sub(Number(e.salePrice),Number(e.memberPrice)),e.unitName=e.unitSnap&&e.unitSnap.name||"件",e.isActivity=!!e.strategy,e.description=e.description&&Object(a.e)(e.description),e.shareAmount=e.shareAmount&&Object(a.d)(e.shareAmount),e.type){case i.c.REAL:case i.c.VIRTUAL:case i.c.SCORE:e.disabled=!(e.isOnSale&&e.stockNumber),e.disabledText=e.isOnSale?e.stockNumber?"":"已售罄":"已下架"}var t=e.strategy;switch(t&&e.saleStrategy){case i.c.SECKILL:e.seconds=t.status?t.endSeconds:t.startSeconds,e.status=t.status,e.statusName={"-1":"已结束","0":"未开始"}[t.status],e.limitNumber=t.limitNumber,e.disabled=t.status<1,e.disabledText={"-1":"已结束","0":"未开始"}[t.status]}return e}},"311":function(e,t,n){"use strict";var o={"Mul":function Mul(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=e.toString(),r=t.toString(),i=void 0,a=void 0;return i=(o.split(".")[1]?o.split(".")[1].length:0)+(r.split(".")[1]?r.split(".")[1].length:0),a=Number(o.replace(".",""))*Number(r.replace(".",""))/Math.pow(10,i),Number(a.toFixed(n))},"Div":function Div(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=e.toString(),r=t.toString(),i=void 0,a=void 0;return i=(r.split(".")[1]?r.split(".")[1].length:0)-(o.split(".")[1]?o.split(".")[1].length:0),a=Number(o.replace(".",""))/Number(r.replace(".",""))*Math.pow(10,i),Number(a.toFixed(n))},"Add":function Add(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=e.toString(),r=t.toString(),i=o.split("."),a=r.split("."),s=2==i.length?i[1]:"",c=2==a.length?a[1]:"",l=Math.max(s.length,c.length),u=Math.pow(10,l),d=Number(((e*u+t*u)/u).toFixed(l));return Number(d.toFixed(n))},"Sub":function Sub(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return o.Add(e,-Number(t),n)}};t.a=o},"327":function(e,t,n){"use strict";n.d(t,"a",(function(){return getCustomPage}));var o=n(9);function getCustomPage(e){return o.a.get("/pag-configs/get-by-title/"+e)}},"332":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var o=n(1),r=n(3),i=n(43),a=n(663),s=n(12),c=n.n(s),l=n(2),u=n(310),d=n(68),f=(n(360),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p="carousel-two",m=function(e){function Index(){_classCallCheck(this,Index);var e=_possibleConstructorReturn(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.state={"current":0},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,e),f(Index,[{"key":"onChange","value":function onChange(e){var t=e.detail;this.setState({"current":t.current})}},{"key":"render","value":function render(){var e=this.state.current,t=this.props,n=(t.autoplay,t.list),r=void 0===n?[]:n,s=t.width,f=void 0===s?710:s,m=t.height,b=void 0===m?210:m,h=t.radius,g=void 0===h?10:h;return o.l.createElement(i.a,{"className":p},o.l.createElement(a.a,{"autoplay":!0,"circular":!0,"className":p+"__list","style":Object(u.b)({"height":Object(l.w)(b),"width":Object(l.w)(f),"borderRadius":Object(l.w)(g)}),"onChange":this.onChange.bind(this)},r.map((function(e,t){return o.l.createElement(a.b,{"key":t,"className":p+"__item","onClick":function onClick(){return Object(d.e)(e.url)}},o.l.createElement("img",{"src":e.img,"className":p+"__img"}))}))),o.l.createElement(i.a,{"className":p+"__dot-list"},r.map((function(t,n){return o.l.createElement(i.a,{"key":n,"className":c()(p+"__dot-item",e===n&&p+"__dot-active")})}))))}}]),Index}(r.a.Component)},"333":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(11),r=function stopPullDownRefresh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,n){var r=e.success,i=e.fail,a=e.complete,s={};o.a.eventCenter.trigger("__taroStopPullDownRefresh",{"successHandler":function successHandler(){r&&r(s),a&&a(s),t(s)},"errorHandler":function errorHandler(){i&&i(s),a&&a(s),n(s)}})}))}},"346":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var o=n(1),r=n(3),i=n(43),a=n(68),s=n(2),c=n(309),l=(n(363),n(306)),u=n(8),d=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function Index(){return _classCallCheck(this,Index),_possibleConstructorReturn(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,e),d(Index,[{"key":"render","value":function render(){var e=this.props,t=e.list,n=void 0===t?[]:t,r=e.marginTop,d=void 0===r?0:r,f=e.pageMargin,p=void 0===f?0:f,m=e.isCoverImg,b=(750-3*p)/2,h=Object(s.w)(Object(s.u)(b));return o.l.createElement(i.a,{"className":"goods-two","style":{"padding":"0 "+Object(s.w)(p),"marginTop":""+Object(s.w)(d)}},n.map((function(e,t){return o.l.createElement(i.a,{"key":e.id,"className":"goods-two__item","style":{"width":h},"onClick":function onClick(){return Object(a.m)(e)}},o.l.createElement(i.a,{"className":"goods-two__img","style":{"height":m?Object(s.w)(Object(s.u)(Math.ceil(.56*b))):h}},o.l.createElement(c.a,{"src":m&&e.coverImg,"info":e,"lazyLoad":!0})),o.l.createElement(i.a,{"className":"goods-two__info"},o.l.createElement(i.a,{"className":"goods-two__name t-o-e"},e.name),o.l.createElement(i.a,{"className":"goods-price d-f a-i-b"},Object(u.p)(e.needScore)&&o.l.createElement(l.L,{"goods":e,"priceSize":36}),o.l.createElement(l.Q,{"goods":e,"priceSize":32,"isNumber":!0})),!!e.salesNumber&&o.l.createElement(i.a,{"className":"salesNumber d-f j-c-b"},o.l.createElement("div",null,"兑换热度 ",Object(s.p)(e.salesNumber,"+")),o.l.createElement("s",{"className":"originPrice"},"￥",Number(e.originPrice)))))})))}}]),Index}(r.a.Component);f.options={"addGlobalClass":!0}},"360":function(e,t,n){},"363":function(e,t,n){},"393":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(0),r=void 0,i=void 0,a=function pageScrollTo(e){var t=e.scrollTop,n=e.duration,a=void 0===n?300:n,s=e.success,c=e.fail,l=e.complete;return new Promise((function(e,n){try{if(void 0===t)throw Error('"scrollTop" is required');var u=document.querySelector(".taro-tabbar__panel")||window;r||(r=u===window?function scrollFunc(e){if(void 0===e)return window.pageYOffset;window.scrollTo(0,e)}:function scrollFunc(e){if(void 0===e)return u.scrollTop;u.scrollTop=e});var d=r(),f=t,p=f-d,m=a/17-1,b=Object(o.f)(o.c,m);!function scroll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=d+p*b(t);if(r(n),t<m)i&&clearTimeout(i),i=setTimeout((function(){scroll(t+1)}),17);else{var o={"errMsg":"pageScrollTo:ok"};r(f),s&&s(o),l&&l(o),e(o)}}()}catch(e){var h={"errMsg":"pageScrollTo:fail "+e.message};c&&c(h),l&&l(h),n(h)}}))}},"394":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var o=n(1),r=n(393),i=n(333),a=n(3),s=n(43),c=n(454),l=n(532),u=n.n(l),d=n(12),f=n.n(d),p=n(346),m=n(306),b=n(312),h=n(8),g=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function Index(){_classCallCheck(this,Index);var e=_possibleConstructorReturn(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.state={"tabKey":"","isFixed":!1,"productList":[],"loadStatus":"loading","page":1,"totalCount":0},e.id=""+Number(new Date),e.tabId="tab-"+Number(new Date),e.boxId="box-"+Number(new Date),e.offsetTop=0,e.addNodeTop=0,e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,e),g(Index,[{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){var t=e.addNode;this.getNode(t)}},{"key":"componentDidMount","value":function componentDidMount(){var e=this,t=this.props,n=t.scroll,o=t.addNode;this.setState({"tabKey":this.props.list[0].url},(function(){Object(b.a)({"categoryId":e.state.tabKey||void 0}).then((function(){e.getList(),e.getNode(o)}))})),n.onReachBottom=function(){e.getList()},n.onPageScroll=function(t){var n=e.state.isFixed;t>e.offsetTop?!n&&e.setState({"isFixed":!0}):n&&e.setState({"isFixed":!1})}}},{"key":"getNode","value":function getNode(e){var t=document.getElementById(this.boxId),n=document.getElementById(this.tabId),o=0;e&&e.map((function(e){var t=document.getElementById(e);o+=t.offsetHeight})),this.offsetTop=o+t.offsetTop,this.addNodeTop=o,this.offsetHeight=n.offsetHeight}},{"key":"onSwitchTab","value":function onSwitchTab(e){var t=this;Object(r.a)({"duration":300,"scrollTop":this.offsetTop}),this.setState({"tabKey":e,"productList":[],"loadStatus":"loading"},(function(){Object(b.a)({"categoryId":e||void 0}).then((function(){t.getList()}))}))}},{"key":"getList","value":function getList(){var e=this,t=this.state,n=t.page,o=t.tabKey,r=t.productList,a=t.loadStatus;t.totalCount;"noMore"!==a&&Object(b.b)({"page":Object(h.k)(),"limit":10,"categoryId":o||void 0}).then((function(t){var o=Object(h.j)(),a=t.data,s=a.list,c=a.totalCount;e.setState({"page":n,"productList":r.length?r.concat(s):s,"loadStatus":o.length?"loading":"noMore","totalCount":c},(function(){Object(i.a)()}))}))}},{"key":"render","value":function render(){var e=this,t=this.state,n=t.tabKey,r=t.isFixed,i=t.productList,a=t.loadStatus,l=this.props.list,d=void 0===l?[]:l;return o.l.createElement(s.a,{"id":this.boxId,"className":u.a.goodsCategories},o.l.createElement(s.a,{"style":{"height":r?this.offsetHeight+"px":0}}),o.l.createElement(c.a,{"id":this.tabId,"scrollX":!0,"className":u.a.list+" "+(r?u.a.fixed:""),"style":{"top":r?this.addNodeTop:"","justifyContent":d.length<=4?"space-between":"flex-start"}},d.map((function(t){var r;return o.l.createElement(s.a,{"className":f()(u.a.listItem,(r={},_defineProperty(r,u.a.itemActive,n===t.url),_defineProperty(r,u.a.itemMargin,d.length>4),r)),"onClick":e.onSwitchTab.bind(e,t.url)},o.l.createElement(s.a,{"className":u.a.itemTitle},t.title),o.l.createElement(s.a,{"className":u.a.itemSubTitle},t.subTitle))}))),o.l.createElement(s.a,{"className":u.a.body},o.l.createElement(p.a,{"id":"goods-list","list":i,"pageMargin":30,"marginTop":30}),o.l.createElement(m.I,{"status":a})))}}]),Index}(a.a.Component)},"532":function(e,t,n){e.exports={"goodsCategories":"goodsCategories_L1ILkOgC","list":"list_3wqRiku_","listItem":"listItem_1BOJM5oT","itemTitle":"itemTitle_2wDllwC5","itemSubTitle":"itemSubTitle_1oB8utSM","itemActive":"itemActive_1488yT4s","itemMargin":"itemMargin_226Eg9jg","fixed":"fixed_2skoztUy","body":"body_3hZRvcMr"}}}]);