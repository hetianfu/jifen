(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"304":function(e,t,n){"use strict";n.d(t,"x",(function(){return getUserInfo})),n.d(t,"w",(function(){return getUserCommissions})),n.d(t,"f",(function(){return asyncWechatInfo})),n.d(t,"q",(function(){return getMemberCount})),n.d(t,"r",(function(){return getMemberPermanent})),n.d(t,"m",(function(){return getCartPage})),n.d(t,"b",(function(){return addCart})),n.d(t,"l",(function(){return getCartInfo})),n.d(t,"i",(function(){return delBatchCart})),n.d(t,"C",(function(){return updateCart})),n.d(t,"D",(function(){return updateCartNumber})),n.d(t,"k",(function(){return getAddressList})),n.d(t,"a",(function(){return addAddress})),n.d(t,"B",(function(){return updateAddress})),n.d(t,"j",(function(){return getAddressInfo})),n.d(t,"A",(function(){return setDefaultAddress})),n.d(t,"h",(function(){return delAddressInfo})),n.d(t,"z",(function(){return getWalletPage})),n.d(t,"E",(function(){return userCharges})),n.d(t,"g",(function(){return buyMember})),n.d(t,"t",(function(){return getScoreConfig})),n.d(t,"v",(function(){return getSignScore})),n.d(t,"d",(function(){return addSignScore})),n.d(t,"u",(function(){return getScorePage})),n.d(t,"y",(function(){return getUserScore})),n.d(t,"s",(function(){return getMyCouponPage})),n.d(t,"n",(function(){return getCouponPage})),n.d(t,"c",(function(){return addCoupon})),n.d(t,"e",(function(){return applyDrawToWallet})),n.d(t,"p",(function(){return getGisciplePage})),n.d(t,"o",(function(){return getGiscipleDetailPage}));var r=n(9);n(4),Object.assign;function getUserInfo(){return r.a.get("/users/get-info",{},{"isAuth":!1})}function getUserCommissions(){return r.a.get("/user-commissions/get",{},{"isAuth":!1})}function asyncWechatInfo(e){return r.a.put("/users/async-wechat-info",e)}function getMemberCount(){return r.a.get("/users/count-vip-pay")}function getMemberPermanent(){return r.a.get("/users/permanent-vip-pay")}function getCartPage(e){return r.a.get("/users/get-shop-cart-page",{"params":e},{"isAuth":!1})}function addCart(e){return r.a.post("/users/add-shop-cart",e)}function getCartInfo(e){return r.a.get("/users/get-shop-cart-by-id/"+e)}function delBatchCart(e){return r.a.delete("/users/del-shop-cart",e)}function updateCart(e){return r.a.put("/users/update-shop-cart-by-id",e)}function updateCartNumber(e){return r.a.put("/users/update-shop-cart-number",e)}function getAddressList(){return r.a.get("/users/get-address-list")}function addAddress(e){return r.a.post("/users/add-address",e)}function updateAddress(e){return r.a.put("/users/update-address-by-id",e)}function getAddressInfo(e){return r.a.get("/users/get-address-by-id/"+e)}function setDefaultAddress(e){return r.a.put("/users/set-default-address",e)}function delAddressInfo(e){return r.a.delete("/users/del-address-by-id/"+e)}function getWalletPage(e){return r.a.request({"url":"/users/get-wallet-detail-page","data":e})}function userCharges(e){return r.a.post("/user-charges/charge",e)}function buyMember(e){return r.a.post("/user-charges/buy-vip",e)}function getScoreConfig(){return r.a.get("/user-scores/get-score-config")}function getSignScore(){return r.a.get("/user-scores/get-sign-score")}function addSignScore(){return r.a.post("/user-scores/sign-score")}function getScorePage(e){return r.a.get("/user-scores/get-detail-page",{"params":e})}function getUserScore(){return r.a.get("/user-scores/user-score")}function getMyCouponPage(e){return r.a.get("/users/get-my-coupon-page",{"params":e})}function getCouponPage(e){return r.a.get("/users/get-coupon-page",{"params":e})}function addCoupon(e){return r.a.post("/users/add-coupon",e)}function applyDrawToWallet(e){return r.a.post("/users/apply-draw-to-wallet",e)}function getGisciplePage(e){return r.a.get("/users/get-disciple-page",{"params":e})}function getGiscipleDetailPage(e){return r.a.get("/user-commissions/get-disciple-detail-page",{"params":e})}},"306":function(e,t,n){"use strict";n.d(t,"a",(function(){return getPage})),n.d(t,"b",(function(){return infoById})),n.d(t,"c",(function(){return skuById}));var r=n(9);function getPage(e){return r.a.get("/products/get-page",{"params":e})}function infoById(e,t){return r.a.get("/products/get-by-id/"+e,t)}function skuById(e){return r.a.get("/products/get-sku-by-id/"+e)}},"525":function(e,t,n){},"526":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHYAAAAXCAMAAADp0UvcAAAAXVBMVEUAAAD22rz64cX538L017jy1LTw0LDryabmwZzguZLetIzWqH3UpXjRoXTPnnDNm2zJlGP33b/MmGnoxKHbsIbYrIHKlmbtzKrjvZfivJbtzazKlWXZrYPcsYjpxqKzvdZcAAAAAXRSTlMAQObYZgAAAK1JREFUSMftllkOwiAARB/d9720hdr7H9Mff0yMIRgMRuYCLwyTB0RRBHEcwzgKEEJAkiSQpilkWQZq2yDPc7jmGYqigH0/oCxLqKoKbssC57pCXdfQNA20bQtd10Hf9zBNEqTWMAzDE3b8EHu+x04gpQ12NjitGfa/YlKyMi3Z/d0edlgdJvW1WOrCvmT/LaVeYI8wKePYl+zPpFxZ6gqW+glLSQcPn7d/qceS7yA+NrWyM+w8AAAAAElFTkSuQmCC"},"527":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHYAAAAXCAMAAADp0UvcAAAAXVBMVEUAAAD33L/v0K/tzKrqyKXoxKDlwJvguJDdtIvWqHzNmmvLmGjKlWXIk2L12rv538L64cTRoXPz17jPnW/x07Lar4XTo3fiu5XYq4Dy1LTYrILjvJbTpXjPnnDbsIcP8BNKAAAAAXRSTlMAQObYZgAAAMtJREFUSMftlUkOgzAQBIt9x2CTxYD5/zNz4hIRwSArOQR/oDSemm6apoG6rqGqKijLEowx4Poe7vcZiqKA53OE222BPM8hyzJ4PCZI0xSSJIE4jiGKIgjDEIbBgtYa2raFIAhAKQVd121jnYP+DTuKsdaClWDNivU9bbBi/+t9UOrYbqdjn6zFu52/abJxgmlFJl9K+b9beVy4LaWW80q1AqyfafWllIe7FVTBfvHtp9R0KqWUKKW8FZ+6lPKrlP3BbgeByZ4zeRv7AtKFNzV+xUfBAAAAAElFTkSuQmCC"},"589":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var r=n(21),a=n.n(r),o=n(1),s=n(3),c=n(2),u=n(40),i=n(569),l=n(617),d=n(404),p=n(8),g=n.n(p),f=(n(525),n(20)),m=n(14),y=n(306),A=n(304),b=n(303),h=n(4),v=n(302),E=n(526),I=n.n(E),C=n(527),P=n.n(C),x=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),N=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function Index(){_classCallCheck(this,Index);var e=_possibleConstructorReturn(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.config={"backgroundTextStyle":"dark","navigationBarTitleText":"会员+","navigationBarTextStyle":"white","navigationBarBackgroundColor":"#2a2a2a"},e.state={"status":!1,"loading":!0,"userInfo":Object(s.b)(h.f)||{},"imgHeight":0,"dataInfo":{},"goodsList":[]},e}var t;return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,e),x(Index,[{"key":"onSwitchStatus","value":function onSwitchStatus(e){this.setState({"status":e})}},{"key":"componentWillMount","value":function componentWillMount(){this.getList(),this.getGoodsPage()}},{"key":"getList","value":(t=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function step(r,a){try{var o=t[r](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then((function(e){step("next",e)}),(function(e){step("throw",e)}));e(s)}("next")}))}}(a.a.mark((function _callee(){var e=this;return a.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(A.r)().then((function(t){e.setState({"dataInfo":t.data})}));case 2:case"end":return t.stop()}}),_callee,this)}))),function getList(){return t.apply(this,arguments)})},{"key":"onLoadImage","value":function onLoadImage(e){var t=e.detail.height;this.setState({"imgHeight":t})}},{"key":"getGoodsPage","value":function getGoodsPage(){var e=this;Object(y.a)({"page":1,"limit":6}).then((function(t){var n=t.data.list;e.setState({"loading":!1,"goodsList":n})}))}},{"key":"render","value":function render(){var e=this.state,t=e.goodsList,n=e.imgHeight,r=e.loading,a=e.status,s=e.userInfo,c=e.dataInfo,p=a?"height: "+(240+n)+"rpx":"";return o.l.createElement(u.a,{"className":"member-page"},r&&o.l.createElement(b.E,{"isCover":!0}),o.l.createElement(u.a,{"className":"user-info f-g-4"},o.l.createElement(u.a,{"className":"user-avatar"},o.l.createElement(i.a,{"src":s.headImg})),o.l.createElement(u.a,{"className":"user-name"},s.nickName)),o.l.createElement(l.a,{"className":"card-list","style":p,"nextMargin":"30rpx","previousMargin":"30rpx"},o.l.createElement(l.b,{"className":"card-item"},o.l.createElement(u.a,{"className":"basics-info d-f f-d-c j-c-b"},o.l.createElement(u.a,{"className":"card-top d-f j-c-b"},o.l.createElement(u.a,null,o.l.createElement(u.a,{"className":"card-title"},c.name),o.l.createElement(u.a,{"className":"card-time"},c.remark)),o.l.createElement(u.a,{"className":"card-price bnn-number"},o.l.createElement(u.a,{"className":"sale-price"},o.l.createElement(d.a,{"className":"price-unit"},"￥"),Object(m.d)(c.amount)),o.l.createElement(u.a,{"className":"origin-price"},"￥",Object(m.d)(c.originAmount)))),o.l.createElement(u.a,{"className":"card-bottom"},"欢迎成为会员")),o.l.createElement(u.a,{"className":g()("equity-info",a&&"equity--active")},o.l.createElement(u.a,{"className":"equity-head d-f a-i-c j-c-b"},o.l.createElement(u.a,{"className":"equity-title"},"查看会员权益"),o.l.createElement(u.a,{"className":"equity-status d-f a-i-c","onClick":this.onSwitchStatus.bind(this,!a)},a&&o.l.createElement(u.a,{"className":"status-text"},"收起"),!a&&o.l.createElement(u.a,{"className":"status-text"},"展开"),o.l.createElement(u.a,{"className":"status-icon bnn-icon"},""))),o.l.createElement(u.a,{"className":"equity-body"},o.l.createElement(i.a,{"src":f.i+"/system/image/member_equity.png","className":"equity-img","onLoad":this.onLoadImage.bind(this),"style":"height: "+n+"rpx"}))))),o.l.createElement(u.a,{"className":"card-line"}),o.l.createElement(u.a,{"className":"card-member card-exclusive"},o.l.createElement(u.a,{"className":"card-head f-g-5"},o.l.createElement(i.a,{"src":I.a,"className":"head-icon"}),o.l.createElement(d.a,{"className":"head-title"},"商品推荐"),o.l.createElement(i.a,{"src":P.a,"className":"head-icon"})),o.l.createElement(u.a,{"className":"card-body"},o.l.createElement(b.v,{"list":t}))),!s.isVip&&c.name&&o.l.createElement(u.a,{"className":"card-menu--height"}),!s.isVip&&c.name&&o.l.createElement(u.a,{"className":"card-menu"},o.l.createElement(u.a,{"className":"btn-buy f-g-5","hoverClass":"hover-class--btn","onClick":function onClick(){return Object(v.q)()}},"立即开通")))}},{"key":"componentDidMount","value":function componentDidMount(){N(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&N(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){N(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this)&&N(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){N(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&N(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this)}}]),Index}(c.a.Component)}}]);