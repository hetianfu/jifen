(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"304":function(e,t,n){"use strict";n.d(t,"x",(function(){return getUserInfo})),n.d(t,"w",(function(){return getUserCommissions})),n.d(t,"f",(function(){return asyncWechatInfo})),n.d(t,"q",(function(){return getMemberCount})),n.d(t,"r",(function(){return getMemberPermanent})),n.d(t,"m",(function(){return getCartPage})),n.d(t,"b",(function(){return addCart})),n.d(t,"l",(function(){return getCartInfo})),n.d(t,"i",(function(){return delBatchCart})),n.d(t,"C",(function(){return updateCart})),n.d(t,"D",(function(){return updateCartNumber})),n.d(t,"k",(function(){return getAddressList})),n.d(t,"a",(function(){return addAddress})),n.d(t,"B",(function(){return updateAddress})),n.d(t,"j",(function(){return getAddressInfo})),n.d(t,"A",(function(){return setDefaultAddress})),n.d(t,"h",(function(){return delAddressInfo})),n.d(t,"z",(function(){return getWalletPage})),n.d(t,"E",(function(){return userCharges})),n.d(t,"g",(function(){return buyMember})),n.d(t,"t",(function(){return getScoreConfig})),n.d(t,"v",(function(){return getSignScore})),n.d(t,"d",(function(){return addSignScore})),n.d(t,"u",(function(){return getScorePage})),n.d(t,"y",(function(){return getUserScore})),n.d(t,"s",(function(){return getMyCouponPage})),n.d(t,"n",(function(){return getCouponPage})),n.d(t,"c",(function(){return addCoupon})),n.d(t,"e",(function(){return applyDrawToWallet})),n.d(t,"p",(function(){return getGisciplePage})),n.d(t,"o",(function(){return getGiscipleDetailPage}));var r=n(9);n(4),Object.assign;function getUserInfo(){return r.a.get("/users/get-info",{},{"isAuth":!1})}function getUserCommissions(){return r.a.get("/user-commissions/get",{},{"isAuth":!1})}function asyncWechatInfo(e){return r.a.put("/users/async-wechat-info",e)}function getMemberCount(){return r.a.get("/users/count-vip-pay")}function getMemberPermanent(){return r.a.get("/users/permanent-vip-pay")}function getCartPage(e){return r.a.get("/users/get-shop-cart-page",{"params":e},{"isAuth":!1})}function addCart(e){return r.a.post("/users/add-shop-cart",e)}function getCartInfo(e){return r.a.get("/users/get-shop-cart-by-id/"+e)}function delBatchCart(e){return r.a.delete("/users/del-shop-cart",e)}function updateCart(e){return r.a.put("/users/update-shop-cart-by-id",e)}function updateCartNumber(e){return r.a.put("/users/update-shop-cart-number",e)}function getAddressList(){return r.a.get("/users/get-address-list")}function addAddress(e){return r.a.post("/users/add-address",e)}function updateAddress(e){return r.a.put("/users/update-address-by-id",e)}function getAddressInfo(e){return r.a.get("/users/get-address-by-id/"+e)}function setDefaultAddress(e){return r.a.put("/users/set-default-address",e)}function delAddressInfo(e){return r.a.delete("/users/del-address-by-id/"+e)}function getWalletPage(e){return r.a.request({"url":"/users/get-wallet-detail-page","data":e})}function userCharges(e){return r.a.post("/user-charges/charge",e)}function buyMember(e){return r.a.post("/user-charges/buy-vip",e)}function getScoreConfig(){return r.a.get("/user-scores/get-score-config")}function getSignScore(){return r.a.get("/user-scores/get-sign-score")}function addSignScore(){return r.a.post("/user-scores/sign-score")}function getScorePage(e){return r.a.get("/user-scores/get-detail-page",{"params":e})}function getUserScore(){return r.a.get("/user-scores/user-score")}function getMyCouponPage(e){return r.a.get("/users/get-my-coupon-page",{"params":e})}function getCouponPage(e){return r.a.get("/users/get-coupon-page",{"params":e})}function addCoupon(e){return r.a.post("/users/add-coupon",e)}function applyDrawToWallet(e){return r.a.post("/users/apply-draw-to-wallet",e)}function getGisciplePage(e){return r.a.get("/users/get-disciple-page",{"params":e})}function getGiscipleDetailPage(e){return r.a.get("/user-commissions/get-disciple-detail-page",{"params":e})}},"534":function(e,t,n){},"595":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var r=n(21),a=n.n(r),o=n(1),s=n(2),u=n(40),c=n(410),i=n(569),l=n(404),d=(n(534),n(304)),p=n(14),f=n(303),g=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),m=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function Index(){_classCallCheck(this,Index);var e=_possibleConstructorReturn(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));e.config={"backgroundTextStyle":"dark","navigationBarTitleText":"我的团队"};var t=e.$router.params,n=isNaN(Number(t.type))?0:Number(t.type);return e.state={"page":1,"limit":10,"loading":!0,"current":n,"typeKey":n,"typeList":[{"title":"我的推广人","val":""},{"title":"推广订单","val":0}],"dataList":[],"loadStatus":"loading"},e}var t;return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,e),g(Index,[{"key":"componentWillMount","value":function componentWillMount(){this.getPage()}},{"key":"getPage","value":(t=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function step(r,a){try{var o=t[r](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then((function(e){step("next",e)}),(function(e){step("throw",e)}));e(s)}("next")}))}}(a.a.mark((function _callee(){var e,t,n,r,o,s,u,c,i,l;return a.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.state,t=e.page,n=e.limit,r=e.dataList,o=e.loadStatus,s=e.typeKey,"noMore"!==o){a.next=3;break}return a.abrupt("return");case 3:if(u={},0!==s){a.next=10;break}return a.next=7,Object(d.p)({"page":t,"limit":n});case 7:u=a.sent,a.next=13;break;case 10:return a.next=12,Object(d.o)({"page":t,"limit":n});case 12:u=a.sent;case 13:c=u.data,i=c.list,l=c.totalCount,this.setState({"page":t+1,"loading":!1,"dataList":1===t?i:r.concat(i),"loadStatus":t*n>=l?"noMore":"loading"});case 15:case"end":return a.stop()}}),_callee,this)}))),function getPage(){return t.apply(this,arguments)})},{"key":"onSwitchTab","value":function onSwitchTab(e){var t=this;this.setState({"page":1,"typeKey":e,"dataList":[],"loadStatus":"loading"},(function(){t.getPage()}))}},{"key":"render","value":function render(){var e=this.state,t=e.current,n=e.loading,r=e.typeKey,a=e.typeList,s=e.dataList,d=e.loadStatus;return o.l.createElement(u.a,{"className":"team-page"},n&&o.l.createElement(f.E,{"isCover":!0}),o.l.createElement(f.Q,{"list":a,"current":t,"className":"thin-border__b","onClick":this.onSwitchTab.bind(this)}),o.l.createElement(c.a,{"scrollY":!0,"className":"team-body","onScrollToLower":this.getPage.bind(this)},0===r&&!!s.length&&o.l.createElement(u.a,{"className":"user-list"},s.map((function(e){return o.l.createElement(u.a,{"key":e.id,"className":"user-info d-f f-d-c"},o.l.createElement(u.a,{"className":"info-top f-g-4"},o.l.createElement(i.a,{"src":e.headImg,"className":"user-avatar"}),o.l.createElement(u.a,{"className":"user-other"},o.l.createElement(u.a,{"className":"user-name t-o-e"},e.nickName),o.l.createElement(u.a,{"className":"user-income"},"累计贡献：",o.l.createElement(l.a,{"className":"bnn-number income-money"},"￥",Object(p.d)(e.contribution))))),o.l.createElement(u.a,{"className":"info-bottom f-g-4 thin-border__t"},o.l.createElement(u.a,{"className":"join-time"},"加入时间: ",Object(p.g)(e.createdAt,"YYYY年MM月DD日 HH:mm:ss"))))}))),1===r&&!!s.length&&o.l.createElement(u.a,{"className":"order-list"},s.map((function(e){var t=e.userSnap||{},n=e.orderInfo||{},r=n.cartSnap||[];return o.l.createElement(u.a,{"key":e.id,"className":"order-info"},o.l.createElement(u.a,{"className":"info-head d-f a-i-c j-c-b"},o.l.createElement(u.a,{"className":"user-info f-g-4"},o.l.createElement(i.a,{"src":t.headImg,"className":"user-avatar"}),o.l.createElement(u.a,{"className":"user-name t-o-e"},t.nickName)),o.l.createElement(u.a,{"className":"join-time"},Object(p.g)(e.createdAt,"YYYY-MM-DD HH:mm"))),o.l.createElement(u.a,{"className":"info-body thin-border__t thin-border__b"},o.l.createElement(f.J,{"list":r})),o.l.createElement(u.a,{"className":"info-foot d-f a-i-c j-c-b"},o.l.createElement(u.a,{"className":"order-amount d-f a-i-c"},"付款金额：",o.l.createElement(l.a,{"className":"bnn-number pay-amount"},"￥",Object(p.d)(n.payAmount))),o.l.createElement(u.a,{"className":"order-amount d-f a-i-c"},"收益：",o.l.createElement(l.a,{"className":"bnn-number income-amount"},"￥",Object(p.d)(e.amount)))))}))),!Object(p.v)(s,d)&&o.l.createElement(f.D,{"status":d}),Object(p.v)(s,d)&&o.l.createElement(u.a,{"className":"list-empty"},o.l.createElement(f.m,{"type":"order"}))))}},{"key":"componentDidMount","value":function componentDidMount(){m(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&m(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){m(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this)&&m(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){m(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&m(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this)}}]),Index}(s.a.Component)}}]);