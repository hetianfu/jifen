(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"395":function(t,e,o){"use strict";o.d(e,"a",(function(){return getCategoryList}));var n=o(9);function getCategoryList(){return n.a.get("/categories/get-list")}},"589":function(t,e,o){},"646":function(t,e,o){"use strict";o.r(e),o.d(e,"default",(function(){return b}));var n=o(1),a=o(3),i=o(43),r=o(454),c=o(12),l=o.n(c),s=o(312),u=o(68),d=o(16),p=o(395),y=o(306),f=(o(589),o(2)),m=o(309),g=function(){function defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,o){return e&&defineProperties(t.prototype,e),o&&defineProperties(t,o),t}}(),h=function get(t,e,o){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var a=Object.getPrototypeOf(t);return null===a?void 0:get(a,e,o)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(o):void 0};function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var b=function(t){function Index(){_classCallCheck(this,Index);var t=_possibleConstructorReturn(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return t.config={"backgroundTextStyle":"dark","navigationBarTitleText":"商品分类"},t.state={"page":1,"limit":10,"ctyKey":0,"ctyList":[],"loading":!1,"dataList":[],"loadStatus":"loading"},t}return function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Index,t),g(Index,[{"key":"componentDidMount","value":function componentDidMount(){this.getList()}},{"key":"getList","value":function getList(){var t=this;Object(p.a)().then((function(e){var o=e.data;t.setState({"ctyList":o},(function(){t.getGoods()}))}))}},{"key":"getGoods","value":function getGoods(){var t=this,e=this.state,o=e.page,n=e.limit,a=e.ctyKey,i=e.ctyList,r=e.dataList;"noMore"!==e.loadStatus&&Object(s.b)({"page":o,"limit":n,"categoryId":i[a].id}).then((function(e){var a=e.data,i=a.list,c=a.totalCount;t.setState({"page":o+1,"dataList":1===o?i:r.concat(i),"loadStatus":o*n>=c?"noMore":"loading"},(function(){t.setState({"loading":!1})}))}))}},{"key":"onSwitchCty","value":function onSwitchCty(t){var e=this;document.getElementById("dataScroll").scrollIntoView(),this.setState({"page":1,"limit":10,"ctyKey":t,"dataList":[],"loadStatus":"loading"},(function(){e.getGoods()}))}},{"key":"render","value":function render(){var t=this,e=this.state,o=e.loading,a=e.ctyKey,c=e.ctyList,s=e.dataList;return n.l.createElement(i.a,{"className":"ctyGoods-page xf-page"},o&&n.l.createElement(y.J,null),n.l.createElement(i.a,{"className":"page-body","style":{"paddingBottom":d.o+"px"}},n.l.createElement(r.a,{"id":"tab-bar","scrollY":!0,"className":"cty-list","style":{"height":"calc(100vh - "+d.o+"px)"}},c.map((function(e,o){return n.l.createElement(i.a,{"key":e.id,"className":l()("cty-item",{"cty-active":a===o}),"onClick":t.onSwitchCty.bind(t,o)},e.name)}))),n.l.createElement(i.a,{"className":"cty-right"},n.l.createElement(i.a,{"id":"dataScroll","className":"cty-box"},s.map((function(t,e){return n.l.createElement(i.a,{"key":e,"className":"cty-goods","onClick":function onClick(){return Object(u.m)(t)}},n.l.createElement(i.a,{"className":"cty-goods_img"},n.l.createElement(m.a,{"info":t,"lazyLoad":!0}),"s",t.salesNumber&&n.l.createElement(i.a,{"className":"salesNumber"},"热度 ",Object(f.p)(t.salesNumber,"+"))),n.l.createElement(i.a,{"className":"cty-goods_name t-o-e-2"},t.name),n.l.createElement(i.a,{"className":"d-f a-i-b m-t-10"},n.l.createElement(y.L,{"goods":t,"priceSize":30,"className":"m-r-10"}),n.l.createElement(y.Q,{"goods":t,"priceSize":28})))}))))),n.l.createElement(y.U,null))}},{"key":"componentDidShow","value":function componentDidShow(){h(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this)&&h(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){h(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&h(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this)}}]),Index}(a.a.Component)}}]);