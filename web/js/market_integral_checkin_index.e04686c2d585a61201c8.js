(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"304":function(e,t,n){"use strict";n.d(t,"x",(function(){return getUserInfo})),n.d(t,"w",(function(){return getUserCommissions})),n.d(t,"f",(function(){return asyncWechatInfo})),n.d(t,"q",(function(){return getMemberCount})),n.d(t,"r",(function(){return getMemberPermanent})),n.d(t,"m",(function(){return getCartPage})),n.d(t,"b",(function(){return addCart})),n.d(t,"l",(function(){return getCartInfo})),n.d(t,"i",(function(){return delBatchCart})),n.d(t,"C",(function(){return updateCart})),n.d(t,"D",(function(){return updateCartNumber})),n.d(t,"k",(function(){return getAddressList})),n.d(t,"a",(function(){return addAddress})),n.d(t,"B",(function(){return updateAddress})),n.d(t,"j",(function(){return getAddressInfo})),n.d(t,"A",(function(){return setDefaultAddress})),n.d(t,"h",(function(){return delAddressInfo})),n.d(t,"z",(function(){return getWalletPage})),n.d(t,"E",(function(){return userCharges})),n.d(t,"g",(function(){return buyMember})),n.d(t,"t",(function(){return getScoreConfig})),n.d(t,"v",(function(){return getSignScore})),n.d(t,"d",(function(){return addSignScore})),n.d(t,"u",(function(){return getScorePage})),n.d(t,"y",(function(){return getUserScore})),n.d(t,"s",(function(){return getMyCouponPage})),n.d(t,"n",(function(){return getCouponPage})),n.d(t,"c",(function(){return addCoupon})),n.d(t,"e",(function(){return applyDrawToWallet})),n.d(t,"p",(function(){return getGisciplePage})),n.d(t,"o",(function(){return getGiscipleDetailPage}));var r=n(9);n(4),Object.assign;function getUserInfo(){return r.a.get("/users/get-info",{},{"isAuth":!1})}function getUserCommissions(){return r.a.get("/user-commissions/get",{},{"isAuth":!1})}function asyncWechatInfo(e){return r.a.put("/users/async-wechat-info",e)}function getMemberCount(){return r.a.get("/users/count-vip-pay")}function getMemberPermanent(){return r.a.get("/users/permanent-vip-pay")}function getCartPage(e){return r.a.get("/users/get-shop-cart-page",{"params":e},{"isAuth":!1})}function addCart(e){return r.a.post("/users/add-shop-cart",e)}function getCartInfo(e){return r.a.get("/users/get-shop-cart-by-id/"+e)}function delBatchCart(e){return r.a.delete("/users/del-shop-cart",e)}function updateCart(e){return r.a.put("/users/update-shop-cart-by-id",e)}function updateCartNumber(e){return r.a.put("/users/update-shop-cart-number",e)}function getAddressList(){return r.a.get("/users/get-address-list")}function addAddress(e){return r.a.post("/users/add-address",e)}function updateAddress(e){return r.a.put("/users/update-address-by-id",e)}function getAddressInfo(e){return r.a.get("/users/get-address-by-id/"+e)}function setDefaultAddress(e){return r.a.put("/users/set-default-address",e)}function delAddressInfo(e){return r.a.delete("/users/del-address-by-id/"+e)}function getWalletPage(e){return r.a.request({"url":"/users/get-wallet-detail-page","data":e})}function userCharges(e){return r.a.post("/user-charges/charge",e)}function buyMember(e){return r.a.post("/user-charges/buy-vip",e)}function getScoreConfig(){return r.a.get("/user-scores/get-score-config")}function getSignScore(){return r.a.get("/user-scores/get-sign-score")}function addSignScore(){return r.a.post("/user-scores/sign-score")}function getScorePage(e){return r.a.get("/user-scores/get-detail-page",{"params":e})}function getUserScore(){return r.a.get("/user-scores/user-score")}function getMyCouponPage(e){return r.a.get("/users/get-my-coupon-page",{"params":e})}function getCouponPage(e){return r.a.get("/users/get-coupon-page",{"params":e})}function addCoupon(e){return r.a.post("/users/add-coupon",e)}function applyDrawToWallet(e){return r.a.post("/users/apply-draw-to-wallet",e)}function getGisciplePage(e){return r.a.get("/users/get-disciple-page",{"params":e})}function getGiscipleDetailPage(e){return r.a.get("/user-commissions/get-disciple-detail-page",{"params":e})}},"553":function(e,t,n){},"610":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var r=n(21),a=n.n(r),o=n(1),c=n(126),s=n(2),i=n(40),u=n(569),l=n(404),d=n(364),f=n(8),p=n.n(f),m=(n(553),n(304)),g=n(14),y=n(305),b=n(17),h=n(302),E=n(303),N=n(336),v=n(314),C=n.n(v),_=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),I=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var k=function(e){function Index(){_classCallCheck(this,Index);var e=_possibleConstructorReturn(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.config={"backgroundTextStyle":"dark","navigationBarTitleText":b.e+"签到","navigationBarTextStyle":"black","navigationBarBackgroundColor":"#FFDD00"},e.state={"loading":!0,"dayList":[],"userInfo":Object(b.j)(),"signDays":[0,0,0,0],"scoreInfo":{},"scoreList":[]},e}var t;return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,e),_(Index,[{"key":"componentWillMount","value":function componentWillMount(){this.getScoreConfig(),this.getScoreInfo()}},{"key":"getScoreInfo","value":(t=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function step(r,a){try{var o=t[r](a),c=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(c).then((function(e){step("next",e)}),(function(e){step("throw",e)}));e(c)}("next")}))}}(a.a.mark((function _callee(){var e,t,n=this;return a.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(m.v)().then((function(e){return e.data}));case 2:return e=r.sent,r.next=5,Object(m.u)({"page":1,"limit":3,"type":y.c.SIGN}).then((function(e){return e.data&&e.data.list}));case 5:t=r.sent,this.setState({"signDays":Object(g.a)(e.signDays||0,4).split(""),"scoreList":t,"scoreInfo":e||{}},(function(){n.setState({"loading":!1})}));case 7:case"end":return r.stop()}}),_callee,this)}))),function getScoreInfo(){return t.apply(this,arguments)})},{"key":"getScoreConfig","value":function getScoreConfig(){var e=this;Object(m.t)().then((function(t){e.setState({"dayList":t.data})}))}},{"key":"signScore","value":function signScore(){var e=this;Object(c.b)({"mask":!0,"title":"加载中..."}),Object(m.d)().then((function(){Object(c.a)(),Object(c.d)({"title":"签到成功"}),e.getScoreInfo()}))}},{"key":"render","value":function render(){var e=this.state,t=e.loading,n=e.dayList,r=e.userInfo,a=e.signDays,c=e.scoreList,s=e.scoreInfo;return o.l.createElement(i.a,{"className":"checkin-page"},t&&o.l.createElement(E.E,null),o.l.createElement(i.a,{"className":"checkin-scroll"},o.l.createElement(i.a,{"className":"checkin-head d-f a-i-c"},o.l.createElement(i.a,{"className":"user-info f-g-4"},o.l.createElement(u.a,{"src":r.headImg||C.a,"className":"user-avatar"}),o.l.createElement(i.a,{"className":"other-info"},o.l.createElement(i.a,{"className":"user-name l-h-1"},r.nickName),o.l.createElement(i.a,{"className":"user-integral f-g-5 l-h-1"},Object(b.e)(),"：",s.totalScore))),o.l.createElement(i.a,{"className":"integral-detail f-g-5","onClick":function onClick(){return Object(h.o)()}},o.l.createElement(l.a,{"className":"detail-icon bnn-icon"},""),"明细")),o.l.createElement(i.a,{"className":"checkin-body"},o.l.createElement(i.a,{"className":"checkin-day d-f f-d-c"},o.l.createElement(i.a,{"className":"day-list d-f f-w-w"},n.map((function(e,t){return o.l.createElement(i.a,{"key":t,"className":p()("day-item d-f f-d-c a-i-c",t+1<=s.currencyDay&&"active")},o.l.createElement(i.a,{"className":"day-title"},e.name),o.l.createElement(i.a,{"className":"day-icon bnn-icon"},""),o.l.createElement(i.a,{"className":"day-num bnn-number"},"+",e.number))}))),s.isSign?o.l.createElement(d.a,{"className":"checkin-btn f-g-5","onClick":function onClick(){return Object(h.l)()}},"返回首页"):o.l.createElement(d.a,{"className":"checkin-btn f-g-5","onClick":this.signScore.bind(this)},"立即签到")),o.l.createElement(i.a,{"className":"split-box d-f j-c-b"},o.l.createElement(i.a,{"className":"cut-off-rule"},o.l.createElement(i.a,{"className":"line"},o.l.createElement(i.a,{"className":"dot dot-top"}),o.l.createElement(i.a,{"className":"dot dot-bottom"}))),o.l.createElement(i.a,{"className":"cut-off-rule"},o.l.createElement(i.a,{"className":"line"},o.l.createElement(i.a,{"className":"dot dot-top"}),o.l.createElement(i.a,{"className":"dot dot-bottom"}))),o.l.createElement(i.a,{"className":"cut-off-rule"},o.l.createElement(i.a,{"className":"line"},o.l.createElement(i.a,{"className":"dot dot-top"}),o.l.createElement(i.a,{"className":"dot dot-bottom"})))),o.l.createElement(i.a,{"className":"checkin-record"},o.l.createElement(i.a,{"className":"checkin-title f-g-5"},"已累计签到"),o.l.createElement(i.a,{"className":"time-box f-g-8"},o.l.createElement(i.a,{"className":"time-list d-f bnn-number"},a.map((function(e){return o.l.createElement(i.a,{"key":e,"className":"time-item f-g-5"},e)}))),o.l.createElement(i.a,{"className":"time-title"},"天")),o.l.createElement(i.a,{"className":"checkin-explain thin-border__b"},Object(b.e)(),"可叠加。一定要坚持签到哦~"),o.l.createElement(N.c,{"list":c}),o.l.createElement(i.a,{"className":"list-more f-g-5","onClick":function onClick(){return Object(h.o)({"title":"签到记录","type":y.c.SIGN})}},o.l.createElement(i.a,{"className":"more-title"},"点击查看更多"),o.l.createElement(i.a,{"className":"bnn-icon more-icon"},""))))))}},{"key":"componentDidMount","value":function componentDidMount(){I(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&I(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){I(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this)&&I(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){I(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&I(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this)}}]),Index}(s.a.Component)}}]);