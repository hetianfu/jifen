(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"329":function(e,t,n){var o=n(330);"string"==typeof o&&(o=[[e.i,o,""]]);var r={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(70)(o,r);o.locals&&(e.exports=o.locals)},"330":function(e,t,n){(t=n(69)(!1)).push([e.i,"button {\n  position: relative;\n  display: block;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n  padding-left: 14px;\n  padding-right: 14px;\n  box-sizing: border-box;\n  font-size: 18px;\n  text-align: center;\n  text-decoration: none;\n  line-height: 2.55555556;\n  border-radius: 5px;\n  -webkit-tap-highlight-color: transparent;\n  overflow: hidden;\n  color: #000000;\n  background-color: #F8F8F8;\n}\n\nbutton[plain] {\n  color: #353535;\n  border: 1px solid #353535;\n  background-color: transparent;\n}\n\nbutton[plain][disabled] {\n  color: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  background-color: #F7F7F7;\n}\n\nbutton[type=primary] {\n  color: #FFFFFF;\n  background-color: #1AAD19;\n}\n\nbutton[type=primary][plain] {\n  color: #1aad19;\n  border: 1px solid #1aad19;\n  background-color: transparent;\n}\n\nbutton[type=primary][plain][disabled] {\n  color: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  background-color: #F7F7F7;\n}\n",""]),e.exports=t},"348":function(e,t,n){"use strict";n(27);var o=n(1),r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=function(e){function Form(){_classCallCheck(this,Form);var e=_possibleConstructorReturn(this,(Form.__proto__||Object.getPrototypeOf(Form)).apply(this,arguments));return e.Forms=[],e.onSubmit=e.onSubmit.bind(e),e.onReset=e.onReset.bind(e),e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Form,e),r(Form,[{"key":"onSubmit","value":function onSubmit(e){e.preventDefault();for(var t=o.l.findDOMNode(this),n=[],r=t.getElementsByTagName("input"),i=0;i<r.length;i++)n.push(r[i]);var a={},u={};n.forEach((function(e){-1===e.className.indexOf("weui-switch")?"radio"!==e.type?"checkbox"!==e.type?a[e.name]=e.value:e.checked?u[e.name]?a[e.name].push(e.value):(u[e.name]=!0,a[e.name]=[e.value]):u[e.name]||(a[e.name]=[]):e.checked?(u[e.name]=!0,a[e.name]=e.value):u[e.name]||(a[e.name]=""):a[e.name]=e.checked}));for(var s=t.getElementsByTagName("textarea"),c=[],l=0;l<s.length;l++)c.push(s[l]);c.forEach((function(e){a[e.name]=e.value})),Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":a}}),this.props.onSubmit(e)}},{"key":"onReset","value":function onReset(e){e.preventDefault(),this.props.onReset()}},{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.style;return o.l.createElement("form",{"className":t,"style":n,"onSubmit":this.onSubmit,"onReset":this.onReset},this.props.children)}}]),Form}(o.l.Component);t.a=i},"351":function(e,t,n){var o=n(352);"string"==typeof o&&(o=[[e.i,o,""]]);var r={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(70)(o,r);o.locals&&(e.exports=o.locals)},"352":function(e,t,n){(t=n(69)(!1)).push([e.i,"input {\n  display: block;\n  height: 24px;\n  text-align: inherit;\n  text-overflow: clip;\n  overflow: hidden;\n  white-space: nowrap;\n}\n",""]),e.exports=t},"402":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(3),r=n(6),i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(e){function FyComponent(e){_classCallCheck(this,FyComponent);var t=_possibleConstructorReturn(this,(FyComponent.__proto__||Object.getPrototypeOf(FyComponent)).apply(this,arguments));return t.timer=void 0,t.seconds=e.seconds,t.prevProps={},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(FyComponent,e),i(FyComponent,[{"key":"componentDidMount","value":function componentDidMount(){this.prevProps=r.a.cloneDeep(this.props),this.setTimer(this.prevProps.seconds)}},{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){JSON.stringify(this.prevProps)!==JSON.stringify(e)&&(this.prevProps=r.a.cloneDeep(e),this.clearTimer(),this.setTimer(e.seconds))}},{"key":"componentWillUnmount","value":function componentWillUnmount(){this.clearTimer()}},{"key":"setTimer","value":function setTimer(e){this.seconds=e,this.timer||this.countdown()}},{"key":"clearTimer","value":function clearTimer(){this.timer&&(clearTimeout(this.timer),this.timer=void 0)}},{"key":"countdown","value":function countdown(){var e=this;if(void 0!==this.seconds){if(this.onCallBack&&this.onCallBack(this.seconds),this.seconds--,this.seconds<0)return this.clearTimer(),void(this.onTimeUp&&this.onTimeUp());this.timer=setTimeout((function(){e.countdown()}),1e3)}}},{"key":"formatNum","value":function formatNum(e){return e<10?"0"+e:""+e}}]),FyComponent}(o.a.Component);a.options={"addGlobalClass":!0}},"422":function(e,t,n){"use strict";n(27);var o=n(1),r=n(71),i=n(12),a=n.n(i),u=(n(329),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),s=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function Button(){_classCallCheck(this,Button);var e=_possibleConstructorReturn(this,(Button.__proto__||Object.getPrototypeOf(Button)).apply(this,arguments));return e.state={"hover":!1,"touch":!1},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Button,e),s(Button,[{"key":"componentWillUnmount","value":function componentWillUnmount(){this.startTimer&&clearTimeout(this.startTimer),this.endTimer&&clearTimeout(this.endTimer)}},{"key":"render","value":function render(){var e,t=this,n=this.props,i=n.children,s=n.disabled,c=n.className,l=n.style,p=n.onClick,f=n.onTouchStart,d=n.onTouchEnd,h=n.hoverClass,m=void 0===h?"button-hover":h,b=n.hoverStartTime,y=void 0===b?20:b,v=n.hoverStayTime,g=void 0===v?70:v,_=n.size,O=n.plain,w=n.loading,C=void 0!==w&&w,k=n.type,x=void 0===k?"default":k,P=c||a()("weui-btn",(_defineProperty(e={},""+m,this.state.hover&&!s&&"none"!==m),_defineProperty(e,"weui-btn_plain-"+x,O),_defineProperty(e,"weui-btn_"+x,!O&&x),_defineProperty(e,"weui-btn_mini","mini"===_),_defineProperty(e,"weui-btn_loading",C),_defineProperty(e,"weui-btn_disabled",s),e));return o.l.createElement("button",u({},Object(r.a)(this.props,["hoverClass","onTouchStart","onTouchEnd"]),{"className":P,"style":l,"onClick":p,"disabled":s,"onTouchStart":function _onTouchStart(e){t.setState((function(){return{"touch":!0}})),m&&"none"!==m&&!s&&(t.startTimer=setTimeout((function(){t.state.touch&&t.setState((function(){return{"hover":!0}}))}),y)),f&&f(e)},"onTouchEnd":function _onTouchEnd(e){t.setState((function(){return{"touch":!1}})),m&&"none"!==m&&!s&&(t.endTimer=setTimeout((function(){t.state.touch||t.setState((function(){return{"hover":!1}}))}),g)),d&&d(e)}}),C&&o.l.createElement("i",{"class":"weui-loading"}),i)}}]),Button}(o.l.Component);t.a=c},"485":function(e,t,n){"use strict";n(27);var o=n(1),r=n(71),i=n(12),a=n.n(i),u=(n(351),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),s=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function getTrueType(e,t,n){if(!e)throw new Error("unexpected type");return"search"===t&&(e="search"),n&&(e="password"),"digit"===e&&(e="number"),e}var c=function(e){function Input(){_classCallCheck(this,Input);var e=_possibleConstructorReturn(this,(Input.__proto__||Object.getPrototypeOf(Input)).apply(this,arguments));return e.onInput=e.onInput.bind(e),e.onFocus=e.onFocus.bind(e),e.onBlur=e.onBlur.bind(e),e.onKeyDown=e.onKeyDown.bind(e),e.handleComposition=e.handleComposition.bind(e),e.isOnComposition=!1,e.onInputExcuted=!1,e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Input,e),s(Input,[{"key":"componentDidMount","value":function componentDidMount(){"file"===this.props.type&&this.inputRef.addEventListener("change",this.onInput)}},{"key":"componentWillUnmount","value":function componentWillUnmount(){"file"===this.props.type&&this.inputRef.removeEventListener("change",this.onInput)}},{"key":"onInput","value":function onInput(e){var t=this.props,n=t.type,o=t.maxLength,r=t.confirmType,i=t.password,a=t.onInput,onInput=void 0===a?"":a,u=t.onChange,s=void 0===u?"":u;if(!this.isOnComposition&&!this.onInputExcuted){var c=e.target.value,l=getTrueType(n,r,i);if(this.onInputExcuted=!0,"number"===l&&c&&o<=c.length&&(c=c.substring(0,o),e.target.value=c),Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":c}}),!(["number","file"].indexOf(l)>=0)){var p=e.target.selectionEnd;setTimeout((function(){e.target.selectionStart=p,e.target.selectionEnd=p}))}if(s)return s(e);if(onInput)return onInput(e)}}},{"key":"onFocus","value":function onFocus(e){var onFocus=this.props.onFocus;this.onInputExcuted=!1,Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onFocus&&onFocus(e)}},{"key":"onBlur","value":function onBlur(e){var onBlur=this.props.onBlur;Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onBlur&&onBlur(e)}},{"key":"onKeyDown","value":function onKeyDown(e){var t=this.props,n=t.onConfirm,onKeyDown=t.onKeyDown;this.onInputExcuted=!1,onKeyDown&&onKeyDown(e),13===e.keyCode&&n&&(Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),n(e))}},{"key":"handleComposition","value":function handleComposition(e){e.target instanceof HTMLInputElement&&("compositionend"===e.type?(this.isOnComposition=!1,this.onInputExcuted=!1,this.onInput(e)):this.isOnComposition=!0)}},{"key":"render","value":function render(){var e=this,t=this.props,n=t.className,i=void 0===n?"":n,s=t.placeholder,c=t.type,l=void 0===c?"text":c,p=t.password,f=t.disabled,d=t.maxLength,h=t.confirmType,m=void 0===h?"":h,b=t.focus,y=void 0!==b&&b,v=t.value,g=a()("weui-input",i),_=Object(r.a)(this.props,["className","placeholder","disabled","max","onChange","onFocus","onBlur","type","focus"]);return"value"in this.props&&(_.value=function fixControlledValue(e){return null==e?"":e}(v)),o.l.createElement("input",u({"ref":function ref(t){e.inputRef=t}},_,{"className":g,"placeholder":s,"disabled":f,"maxlength":d,"onInput":this.onInput,"onFocus":this.onFocus,"onBlur":this.onBlur,"autofocus":y,"onKeyDown":this.onKeyDown,"type":getTrueType(l,m,p),"onCompositionStart":this.handleComposition,"onCompositionEnd":this.handleComposition}))}}]),Input}(o.l.Component);c.defaultProps={"type":"text"},t.a=c},"547":function(e,t,n){},"671":function(e,t,n){"use strict";n.r(t);var o=n(1),r=n(131),i=n(4),a=n(3),u=n(43),s=n(348),c=n(485),l=n(422),p=n(402),f=(n(547),n(9));var d=n(5),h=n(8);n.d(t,"default",(function(){return v}));var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},b=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),y=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(n):void 0};var v=function(e){function Index(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).call(this,e));return t.config={"navigationBarTitleText":"用户授权"},t.state={"seconds":void 0},t.telephone="",t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,e),b(Index,[{"key":"onInput","value":function onInput(e){var t=e.detail.value;this.telephone=t}},{"key":"onSendCode","value":function onSendCode(){this.seconds>0||(this.telephone?(this.setTimer(120),Object(r.b)({"title":"请稍后","mask":!0}),function sendRegMsg(e){return f.a.post("/sms/send-reg-msg",{"telephone":e})}(this.telephone).then((function(){Object(r.d)({"icon":"none","title":"发送成功"})}))):Object(r.d)({"title":"请输入手机号","icon":"none"}))}},{"key":"onCallBack","value":function onCallBack(e){this.setState({"seconds":this.formatNum(e)})}},{"key":"onSubmit","value":function onSubmit(e){var t=e.detail.value,n=Object(i.b)(d.e);if(n&&(t.sourceId=n),t.telephone)if(t.code){var o=Object(i.b)("OPEN_ID");Object(r.b)({"title":"请稍后","mask":!0}),function msgReg(e){return f.a.post("/sms/msg-reg",e)}(m({},t,{"openId":o})).then((function(e){var t=e.data;Object(h.x)(t.token),Object(i.d)(d.e),Object(i.f)(d.b,t.token),Object(i.f)(d.f,t.userInfo),Object(r.a)(),Object(r.d)({"icon":"none","title":"登录成功","duration":2e3}),a.a.navigateBack()}))}else Object(r.d)({"title":"请输入验证码","icon":"none"});else Object(r.d)({"title":"请输入手机号","icon":"none"})}},{"key":"render","value":function render(){var e=this.state.seconds;return o.l.createElement(u.a,{"className":"login-page xf-page d-f f-g-5"},o.l.createElement(s.a,{"className":"login-form","onSubmit":this.onSubmit.bind(this)},o.l.createElement(u.a,{"className":"form-item"},o.l.createElement(c.a,{"name":"telephone","type":"number","maxLength":11,"className":"form-input","placeholder":"请输入手机号","onInput":this.onInput.bind(this)})),o.l.createElement(u.a,{"className":"form-item"},o.l.createElement(c.a,{"name":"code","type":"number","maxLength":6,"className":"form-input","placeholder":"动态密码"}),o.l.createElement(u.a,{"className":"form-code","onClick":this.onSendCode.bind(this)},e>0?e+"秒后重新获取":"获取动态密码")),o.l.createElement(l.a,{"className":"form-bnt xf-btn xf-btn-round xf-btn-primary","formType":"submit"},"登录")))}},{"key":"componentDidMount","value":function componentDidMount(){y(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&y(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){y(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this)&&y(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){y(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&y(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this)}}]),Index}(p.a)}}]);