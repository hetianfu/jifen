(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"331":function(e,t,n){"use strict";n.d(t,"b",(function(){return getNewsPage})),n.d(t,"a",(function(){return getNewsDetail})),n.d(t,"c",(function(){return getNewsType}));var o=n(9);function getNewsPage(e){return o.a.get("/informations/get-information-page",{"params":e})}function getNewsDetail(e){return o.a.get("/informations/get-information-by-id/"+e)}function getNewsType(){return o.a.get("/informations/get-category-list?isSystem=0")}},"535":function(e,t,n){},"596":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var o=n(21),a=n.n(o),r=n(1),i=n(121),c=n(2),s=n(40),l=n(410),u=n(569),p=n(404),f=(n(535),n(8)),d=n.n(f),m=n(302),y=n(14),g=n(331),h=n(17),b=n(303),v=n(20),_=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),w=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,n)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(n):void 0};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=function(e){function Index(){_classCallCheck(this,Index);var e=_possibleConstructorReturn(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.config={"backgroundColor":"#ccc","backgroundTextStyle":"dark","navigationBarTitleText":"新闻资讯"},e.state={"loading":!0,"page":1,"limit":10,"typeKey":0,"dataList":[],"typeList":[],"loadStatus":"loading"},e}var t;return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,e),_(Index,[{"key":"componentWillMount","value":function componentWillMount(){this.getType(),this.getPage()}},{"key":"onShareAppMessage","value":function onShareAppMessage(){return{"title":v.c,"path":Object(h.i)()}}},{"key":"onReachBottom","value":function onReachBottom(){this.getPage()}},{"key":"getType","value":(t=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function step(o,a){try{var r=t[o](a),i=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(i).then((function(e){step("next",e)}),(function(e){step("throw",e)}));e(i)}("next")}))}}(a.a.mark((function _callee(){var e,t;return a.a.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(g.c)();case 2:e=n.sent,(t=e.data).unshift({"title":"全部"}),this.setState({"typeList":t});case 6:case"end":return n.stop()}}),_callee,this)}))),function getType(){return t.apply(this,arguments)})},{"key":"getPage","value":function getPage(){var e=this,t=this.state,n=t.page,o=t.limit,a=t.dataList,r=t.loadStatus,i=t.typeKey,c=t.typeList[i]||{};if("noMore"!==r){var s={"page":n,"limit":o};c.id&&(s.cid=c.id),Object(g.b)(s).then((function(t){var r=t.data,i=r.list,c=r.totalCount;e.setState({"page":n+1,"loading":!1,"dataList":1===n?i:a.concat(i),"loadStatus":n*o>=c?"noMore":"loading"})}))}}},{"key":"onSwitchTab","value":function onSwitchTab(e){var t=this;this.setState({"page":1,"typeKey":e,"dataList":[],"loadStatus":"loading"},(function(){t.getPage()}))}},{"key":"render","value":function render(){var e=this,t=this.state,n=t.typeKey,o=t.dataList,a=t.loading,i=t.loadStatus,c=t.typeList;return r.l.createElement(s.a,{"className":"page"},a&&r.l.createElement(b.E,{"isCover":!0}),r.l.createElement(s.a,{"className":"tab-list--height"}),r.l.createElement(s.a,{"className":"tab-list fy-popup fy-popup--top thin-border__t"},r.l.createElement(l.a,{"scrollX":!0,"className":"tab-scroll"},c.map((function(t,o){return r.l.createElement(s.a,{"key":o,"className":d()("tab-item f-g-5",n===o&&"active"),"onClick":e.onSwitchTab.bind(e,o)},t.title)})))),r.l.createElement(l.a,{"scrollY":!0,"className":"page-body"},r.l.createElement(s.a,{"className":"news-list"},o.map((function(e){return r.l.createElement(s.a,{"key":e.id,"className":"news-item","onClick":function onClick(){return Object(m.r)(e.id)}},r.l.createElement(u.a,{"src":e.coverImg,"className":"news-img","lazyLoad":!0}),r.l.createElement(s.a,{"className":"news-info d-f f-d-c j-c-b"},r.l.createElement(s.a,{"className":"news-title t-o-e"},e.title),r.l.createElement(s.a,{"className":"news-subtitle t-o-e-2"},e.subTitle),r.l.createElement(s.a,{"className":"news-foot d-f a-i-b j-c-b"},r.l.createElement(s.a,{"className":"see-number d-f a-i-c"},r.l.createElement(p.a,{"className":"bnn-icon m-r-10"},""),e.readNumber),r.l.createElement(s.a,null,Object(y.g)(e.createdAt,"YY-MM-DD HH:mm")))))}))),Object(y.v)(o,i)&&r.l.createElement(b.m,null),!Object(y.v)(o,i)&&r.l.createElement(b.D,{"status":i})))}},{"key":"componentDidMount","value":function componentDidMount(){w(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&w(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){w(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this)&&w(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this).call(this),this._offReachBottom=Object(i.a)({"callback":this.onReachBottom,"ctx":this,"onReachBottomDistance":void 0})}},{"key":"componentDidHide","value":function componentDidHide(){w(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&w(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this),this._offReachBottom&&this._offReachBottom()}}]),Index}(c.a.Component)}}]);