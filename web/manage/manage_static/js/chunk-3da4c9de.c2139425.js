(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3da4c9de"],{"0289":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{md:4,sm:24}},[a("a-input",{attrs:{placeholder:"卡券名称"},model:{value:e.queryParam.title,callback:function(t){e.$set(e.queryParam,"title",t)},expression:"queryParam.title"}})],1),a("a-col",{attrs:{md:4,sm:24}},[a("fuzzy-search-user",{model:{value:e.queryParam.userId,callback:function(t){e.$set(e.queryParam,"userId",t)},expression:"queryParam.userId"}})],1),a("a-col",{attrs:{md:6,sm:24}},[a("a-range-picker",{staticClass:"width-percent-100",on:{change:e.createTimeChange},model:{value:e.queryParam.time,callback:function(t){e.$set(e.queryParam,"time",t)},expression:"queryParam.time"}})],1),a("a-col",{attrs:{md:4,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons"},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")]),a("a-button",{staticClass:"margin-left-8",on:{click:function(){return e.queryParam={}}}},[e._v("重置")])],1)])],1)],1),a("s-table",{ref:"table",attrs:{rowKey:function(e,t){return t},columns:e.columns,data:e.loadData,pagination:e.pagination},scopedSlots:e._u([{key:"checkEmployeeSnap",fn:function(t){return[e._v(e._s(t.telephone))]}},{key:"couponType",fn:function(t){return["COUNTS"===t?a("span",[e._v("记次/时商品")]):e._e(),"VIR"===t?a("span",[e._v("虚拟商品")]):e._e(),"REAL"===t?a("span",[e._v("实物商品")]):e._e()]}},{key:"shopBillAmount",fn:function(t){return a("span",{},[e._v(e._s(e._f("moneyFormat")(t)))])}},{key:"userInfo",fn:function(e){return[a("s-table-user",{attrs:{info:e}})]}},{key:"number",fn:function(t){return[e._v(e._s(t)+" 张")]}},{key:"createdAt",fn:function(t){return[e._v(e._s(e._f("parseTime")(t)))]}}])})],1)],1)},n=[],c=(a("d81d"),a("5530")),o=a("f121"),i=a("73df"),u=a("5b92"),s=a("2af9"),l={name:"CouponRecord",components:{STableUser:s["t"],STable:s["p"],HeadInfo:s["k"],FuzzySearchUser:s["h"]},data:function(){var e=this;return{COUPON_TYPE:o["f"],COUPON_STATUS:o["c"],queryParam:{createdAt:[]},pagination:{pageSize:10,current:1},columns:[{title:"卡券名称",dataIndex:"title",width:400},{title:"用户信息",dataIndex:"userSnap",scopedSlots:{customRender:"userInfo"}},{title:"核销人电话",dataIndex:"checkEmployeeSnap",scopedSlots:{customRender:"checkEmployeeSnap"}},{title:"核销金额",dataIndex:"shopBillAmount",scopedSlots:{customRender:"shopBillAmount"}},{title:"核销数量",dataIndex:"number",scopedSlots:{customRender:"number"}},{title:"核销时间",dataIndex:"createdAt",scopedSlots:{customRender:"createdAt"}}],loadData:function(t){var a=t.pageNo,r=t.pageSize,n=e.queryParam,o=n.title,s=n.userId,l=n.createdAt,p={page:a,limit:r,title:o||void 0,userId:s||void 0,geCreatedAt:l[0]||void 0,leCreatedAt:l[1]||void 0};return Object(u["c"])(p).then((function(t){var n=t.data,o=n.list,u=n.header,s=n.totalCount;e.header=Object(c["a"])({},u);var l=o.map((function(e){var t=new i["g"];return t.setAttributes(e).renderData()}));return{pageNo:a,pageSize:r,data:l,totalCount:s}}))},header:{},userList:[]}},methods:{createTimeChange:function(e,t){this.queryParam.createdAt=t}}},p=l,d=a("2877"),b=Object(d["a"])(p,r,n,!1,null,null,null);t["default"]=b.exports},"5b92":function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return s}));var r=a("365c"),n=a("b775"),c=r["b"].userCoupons;function o(e){return Object(n["b"])({url:c.getCouponPage,method:"get",params:e})}function i(e){return Object(n["b"])({url:c.getCheckOrderRecordPage,method:"get",params:e})}function u(e){return Object(n["b"])({url:c.changeUserCoupon,method:"patch",data:e})}function s(e){return Object(n["b"])({url:c.delUserCoupon+e,method:"delete"})}},"73df":function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"h",(function(){return f})),a.d(t,"c",(function(){return j})),a.d(t,"d",(function(){return y})),a.d(t,"f",(function(){return g})),a.d(t,"g",(function(){return S})),a.d(t,"a",(function(){return T})),a.d(t,"e",(function(){return _}));a("4ec9"),a("a9e3"),a("b64b"),a("d3b7"),a("25f0"),a("3ca3"),a("ddb0");var r=a("b85c"),n=a("2909"),c=a("53ca"),o=a("d4ec"),i=a("bee2"),u=a("2ef0"),s=function(){function e(){Object(o["a"])(this,e)}return Object(i["a"])(e,[{key:"setAttributes",value:function(e){var t=this,a=new Map,r=this.attributes();for(var n in r)a.set(r[n],n);for(var c in e)if(e.hasOwnProperty(c)&&a.get(c)){var o=this.getType;switch(o(t[c])){case"boolean":t[c]=!!e[c];break;case"string":t[c]=e[c]?e[c]:t[c];break;case"object":t[c]="object"===o(e[c])?e[c]:t[c];break;case"array":t[c]="array"===o(e[c])?e[c]:t[c];break;case"number":t[c]=e[c]?Number(e[c]):t[c];break;default:t[c]=e[c]}}return t}},{key:"toObject",value:function(e){var t={},a=this;for(var r in e){var n=Object(c["a"])(e[r]);if("string"===n)t[r]=a[e[r]];else if("function"===n){var o=e[r].apply();null!==o&&(t[r]=o)}}return t}},{key:"fields",value:function(){var e=this.attributes();return Object(u["zipObject"])(e,e)}},{key:"attributes",value:function(){var e=this,t=[];return t.push.apply(t,Object(n["a"])(Object.keys(e))),t}},{key:"delFields",value:function(e,t){var a,n=Object(r["a"])(t);try{for(n.s();!(a=n.n()).done;){var c=a.value;delete e[c]}}catch(o){n.e(o)}finally{n.f()}}},{key:"getType",value:function(e){var t=Object.prototype.toString.apply(e);switch(t){case"[object String]":t="string";break;case"[object Number]":t="number";break;case"[object Boolean]":t="boolean";break;case"[object Undefined]":t="undefined";break;case"[object Null]":t="null";break;case"[object Object]":t="object";break;case"[object Array]":t="array";break;case"[object Function]":t="function";break}return t}}]),e}(),l=(a("b0c0"),a("45eb")),p=a("7e84"),d=a("262e"),b=a("2caf"),h=function(e){Object(d["a"])(a,e);var t=Object(b["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.call(this),e.id="",e.name="",e.employeeNumber="",e.telephone="",e.sex=0,e.email="",e.departmentIds=[],e.updatedAt=0,e.userSnap={},e.mpOpenId="",e.mpSendMsg=0,e.openId="",e.status=0,e.roleList=[],e.isAdmin=0,e.shopId="",e.account="",e.shopInfo="",e.password="",e}return Object(i["a"])(a,[{key:"renderData",value:function(){var e=this,t=Object(l["a"])(Object(p["a"])(a.prototype),"fields",this).call(this);return t["updateAt"]=function(){return 1e3*e.updateAt},Object(l["a"])(Object(p["a"])(a.prototype),"toObject",this).call(this,t)}}]),a}(s),f=h,O=function(e){Object(d["a"])(a,e);var t=Object(b["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.call(this),e.id="",e.orderId="",e.status="",e.payAmount=0,e.updateTime=0,e.productType="",e.cartSnap=[],e.userSnap={},e.addressSnap={},e.cooperateShopSnap={},e.batchNumber="",e.trackingNumber="",e.trackingName="",e.addressSnap={},e.sharingAmount=0,e.createTime=0,e.incomeAmount=0,e.remark="",e.distribute="",e.productType="",e.expressName="",e.expressNo="",e.freightAmount="",e.couponInfo={},e.deductScore=0,e.connectSnap={},e.cooperateShopAddressSnap={},e.sendSnap={},e.sendType=0,e}return Object(i["a"])(a,[{key:"renderData",value:function(){var e=this,t=Object(l["a"])(Object(p["a"])(a.prototype),"fields",this).call(this),r=this.productType;return"POST"===r&&(t["info"]=function(){return Object(u["get"])(e,"addressSnap")}),"GROUP_BUY"===r&&(t["info"]=function(){return Object(u["get"])(e,"cooperateShopSnap")}),Object(l["a"])(Object(p["a"])(a.prototype),"delFields",this).call(this,t,["cooperateShopSnap"]),Object(l["a"])(Object(p["a"])(a.prototype),"toObject",this).call(this,t)}},{key:"renderInfo",value:function(){var e=this,t=Object(l["a"])(Object(p["a"])(a.prototype),"fields",this).call(this),r=this.productType;return"POST"===r&&(t["consigneeName"]=function(){return Object(u["get"])(e,"addressSnap.name")},t["consigneeStreet"]=function(){return Object(u["get"])(e,"addressSnap.street")},t["consigneeRoom"]=function(){return Object(u["get"])(e,"addressSnap.room")},t["consigneeTelephone"]=function(){return Object(u["get"])(e,"addressSnap.telephone")}),"GROUP_BUY"===r&&(t["shopName"]=function(){return Object(u["get"])(e,"cooperateShopSnap.shopName")},t["shopLogo"]=function(){return Object(u["get"])(e,"cooperateShopSnap.logo")},t["shopAddress"]=function(){return Object(u["get"])(e,"cooperateShopSnap.address")}),Object(l["a"])(Object(p["a"])(a.prototype),"delFields",this).call(this,t,[]),Object(l["a"])(Object(p["a"])(a.prototype),"toObject",this).call(this,t)}}]),a}(s),j=O,m=function(e){Object(d["a"])(a,e);var t=Object(b["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.call(this),e.id="",e.name="",e.type="",e.number=0,e.amount=0,e.coverImg="",e.unitSnap={},e.categorySnap={},e.skuDetail=[],e.specSnap="",e}return Object(i["a"])(a,[{key:"renderData",value:function(){var e=this,t=Object(l["a"])(Object(p["a"])(a.prototype),"fields",this).call(this);return t["unitName"]=function(){return Object(u["get"])(e,"unitSnap.name")},t["categoryName"]=function(){return Object(u["get"])(e,"categorySnap.name")},Object(l["a"])(Object(p["a"])(a.prototype),"delFields",this).call(this,t,["unitSnap","categorySnap"]),Object(l["a"])(Object(p["a"])(a.prototype),"toObject",this).call(this,t)}}]),a}(s),y=m,v=function(e){Object(d["a"])(a,e);var t=Object(b["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.call(this),e.id="",e.title="",e.couponType="",e.status=0,e.leftNumber=0,e.usedNumber=0,e.totalNumber=0,e.userSnap={},e.updateTime=0,e.orderId="",e.createdAt=0,e.expireTime=0,e}return Object(i["a"])(a,[{key:"renderData",value:function(){var e=Object(l["a"])(Object(p["a"])(a.prototype),"fields",this).call(this);return Object(l["a"])(Object(p["a"])(a.prototype),"toObject",this).call(this,e)}}]),a}(s),g=v,k=function(e){Object(d["a"])(a,e);var t=Object(b["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.call(this),e.id="",e.title="",e.couponType="",e.number=0,e.userSnap={},e.checkEmployeeSnap="",e.checkEmployeeName="",e.createdAt=0,e.shopBillAmount=0,e.title="",e}return Object(i["a"])(a,[{key:"renderData",value:function(){var e=Object(l["a"])(Object(p["a"])(a.prototype),"fields",this).call(this);return Object(l["a"])(Object(p["a"])(a.prototype),"toObject",this).call(this,e)}}]),a}(s),S=k,A=function(e){Object(d["a"])(a,e);var t=Object(b["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.call(this),e.id=0,e.name="",e.path="",e.parentId=0,e.meta={},e.show=0,e.title="",e.icon="",e.component="",e.createTime=0,e.isMenu=0,e.key="",e.redirect="",e.servicePath="",e.requestMethod="",e.sort=0,e}return Object(i["a"])(a,[{key:"MenuList",value:function(){var e=this,t=Object(l["a"])(Object(p["a"])(a.prototype),"fields",this).call(this);return t["redirect"]=function(){return""===e.redirect?void 0:e.redirect},Object(l["a"])(Object(p["a"])(a.prototype),"toObject",this).call(this,t)}},{key:"renderData",value:function(){var e=Object(l["a"])(Object(p["a"])(a.prototype),"fields",this).call(this);return Object(l["a"])(Object(p["a"])(a.prototype),"toObject",this).call(this,e)}},{key:"exportData",value:function(){var e=this,t=Object(l["a"])(Object(p["a"])(a.prototype),"fields",this).call(this);return t["meta"]=function(){return{icon:e.icon,title:e.title,show:e.show,key:e.key}},t["show"]=function(){},t["title"]=function(){},t["icon"]=function(){},t["key"]=function(){},t["createTime"]=function(){},Object(l["a"])(Object(p["a"])(a.prototype),"toObject",this).call(this,t)}}]),a}(s),T=A,I=function(e){Object(d["a"])(a,e);var t=Object(b["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.call(this),e.id=0,e.parentId=0,e.sort=0,e.status=0,e.title="",e.createdAt=0,e}return Object(i["a"])(a,[{key:"RoleList",value:function(){var e=this,t=Object(l["a"])(Object(p["a"])(a.prototype),"fields",this).call(this);return t["createdAt"]=function(){return e.createdAt},Object(l["a"])(Object(p["a"])(a.prototype),"toObject",this).call(this,t)}},{key:"exportData",value:function(){var e=Object(l["a"])(Object(p["a"])(a.prototype),"fields",this).call(this);return Object(l["a"])(Object(p["a"])(a.prototype),"toObject",this).call(this,e)}},{key:"renderData",value:function(){var e=Object(l["a"])(Object(p["a"])(a.prototype),"fields",this).call(this);return e["createdAt"]=function(){},Object(l["a"])(Object(p["a"])(a.prototype),"toObject",this).call(this,e)}}]),a}(s),_=I}}]);