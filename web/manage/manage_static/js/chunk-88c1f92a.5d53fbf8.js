(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-88c1f92a"],{b6b9:function(t,a,e){},bd8b:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("a-row",{staticClass:"margin-bottom-16",attrs:{gutter:16}},t._l(t.staList,(function(a,s){return e("a-col",{key:s,attrs:{span:4}},[e("a-card",{staticClass:"width-percent-100",attrs:{title:a.name,bordered:!1}},[e("div",{staticClass:"amount-slot-class",attrs:{slot:"extra"},slot:"extra"},[t._v("元")]),e("div",{staticClass:"header-class"},[t._v(t._s(t._f("moneyFormat")(a.amount||0)))])])],1)})),1),e("a-card",[e("a-row",{staticClass:"margin-bottom-16",attrs:{gutter:10}},[e("a-col",{attrs:{span:4}},[e("fuzzy-search-user",{model:{value:t.queryParam.userId,callback:function(a){t.$set(t.queryParam,"userId",a)},expression:"queryParam.userId"}})],1),e("a-col",{attrs:{span:3}},[e("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"审核状态",allowClear:""},model:{value:t.queryParam.status,callback:function(a){t.$set(t.queryParam,"status",a)},expression:"queryParam.status"}},t._l(t.staList,(function(a,s){return e("a-select-option",{key:s,attrs:{value:a.value}},[t._v(t._s(a.name))])})),1)],1),e("a-col",{attrs:{span:3}},[e("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"提现方式",allowClear:""},model:{value:t.queryParam.payType,callback:function(a){t.$set(t.queryParam,"payType",a)},expression:"queryParam.payType"}},[e("a-select-option",{attrs:{value:"wx"}},[t._v("微信")]),e("a-select-option",{attrs:{value:"wallet"}},[t._v("钱包")])],1)],1),e("a-col",{attrs:{span:8}},[e("a-button",{attrs:{type:"primary"},on:{click:function(a){return t.$refs.table.refresh(!0)}}},[t._v("查询")]),e("a-button",{staticClass:"margin-left-10",on:{click:function(){return t.queryParam={}}}},[t._v("重置")])],1)],1),e("s-table",{ref:"table",attrs:{rowKey:function(t,a){return a},columns:t.columns,data:t.loadData,pagination:t.pagination},scopedSlots:t._u([{key:"userSnap",fn:function(a,s){return[e("div",{staticClass:"userSnapClass"},[e("img",{staticClass:"hedaImgClass",attrs:{src:s.userSnap.headImg}}),e("a-popover",{attrs:{placement:"topLeft"}},[e("template",{slot:"content"},[t._v(" "+t._s(s.userSnap.nickName)+" ")]),e("div",{staticClass:"nickNameClass"},[t._v(t._s(s.userSnap.nickName))])],2)],1)]}},{key:"payType",fn:function(a){return[t._v(" "+t._s("wx"===a?"微信":"钱包")+" ")]}},{key:"amount",fn:function(a,e){return[t._v(" ￥ "+t._s(e.amount*e.isDeduct)+" ")]}},{key:"status",fn:function(a){return t._l(t.staList,(function(s){return a===s.value?e("a-tag",{key:s.value,attrs:{color:s.color}},[t._v(t._s(s.name))]):t._e()}))}},{key:"createdAt",fn:function(a){return[t._v(t._s(t._f("parseTime")(a)))]}},{key:"action",fn:function(a,s){return[0===s.status?e("a",{on:{click:function(a){return t.handleApprove(s)}}},[t._v("同意")]):t._e(),0===s.status?e("a-divider",{attrs:{type:"vertical"}}):t._e(),0===s.status?e("a",{on:{click:function(a){return t.handleForbid(s)}}},[t._v("拒绝")]):t._e(),0===s.status?e("a-divider",{attrs:{type:"vertical"}}):t._e(),e("a",{on:{click:function(a){return t.handleInfo(s)}}},[t._v("详情")])]}}])})],1),e("a-modal",{attrs:{title:"提现申请详情",footer:null,width:"800px"},model:{value:t.applyInfo.visible,callback:function(a){t.$set(t.applyInfo,"visible",a)},expression:"applyInfo.visible"}},[e("detail-list",{attrs:{col:2,title:"用户信息"}},[e("detail-list-item",{attrs:{term:"用户Id"}},[t._v(t._s(t.applyInfo.userSnap.id))]),e("detail-list-item",{attrs:{term:"用户昵称"}},[t._v(t._s(t.applyInfo.userSnap.nickName))]),e("detail-list-item",{attrs:{term:"编号"}},[t._v(t._s(t.applyInfo.userSnap.code))]),e("detail-list-item",{attrs:{term:"联系电话"}},[t._v(t._s(t.applyInfo.userSnap.telephone))])],1),e("a-row",{staticClass:"row-class"},[e("a-col",{staticClass:"col-title",attrs:{span:24}},[t._v(" 订单信息 ")]),e("a-col",{staticStyle:{padding:"15px"},attrs:{span:24}},[e("a-row",[e("a-col",{staticClass:"margin-bottom-16",attrs:{span:12}},[t._v(" 订单编号："+t._s(t.applyInfo.info.orderId)+" ")]),e("a-col",{staticClass:"margin-bottom-16",attrs:{span:12}},[t._v(" 提现方式："),e("span",{style:{color:"wx"===t.applyInfo.info.payType?"#87d068":"#e79c2a"}},[t._v(" "+t._s("wx"===t.applyInfo.info.payType?"微信":"钱包"))])]),e("a-col",{staticClass:"margin-bottom-16",attrs:{span:12}},[t._v(" 提现金额：￥ "+t._s(t.applyInfo.info.amount*t.applyInfo.info.isDeduct))]),e("a-col",{staticClass:"margin-bottom-16",attrs:{span:12}},[t._v(" 订单状态："),t._l(t.staList,(function(a){return t.applyInfo.info.status===a.value?e("span",{key:a.value,style:{color:a.color}},[t._v(t._s(a.name))]):t._e()}))],2)],1)],1)],1),e("a-row",{staticClass:"row-class margin-top-24"},[e("a-col",{staticClass:"col-title",attrs:{span:24}},[t._v(" 审核结果 ")]),e("a-col",{staticStyle:{padding:"15px",height:"150px"},attrs:{span:24}},[t._l(t.staList,(function(a){return t.applyInfo.info.status===a.value?e("span",{key:a.value},[t._v(t._s(a.name))]):t._e()})),-1===t.applyInfo.info.status?e("div",{staticClass:"margin-top-24"},[t._v("拒绝原因："+t._s(t.applyInfo.info.failMsg))]):t._e()],2)],1)],1),e("a-modal",{attrs:{title:"拒绝原因"},on:{ok:t.getHandleForbid},model:{value:t.forbid.visible,callback:function(a){t.$set(t.forbid,"visible",a)},expression:"forbid.visible"}},[e("a-form",{attrs:{form:t.forbid.form}},[e("a-form-item",{attrs:{label:"拒绝申请原因"}},[e("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["failMsg",{rules:[{required:!0,message:"请输入拒绝原因"}]}],expression:"['failMsg', { rules: [{ required: true, message: '请输入拒绝原因' }] }]"}],attrs:{placeholder:"请输入拒绝申请原因"}})],1)],1)],1)],1)},n=[],r=(e("c740"),e("d81d"),e("5530")),o=e("cd05"),i=e("2af9"),l=e("c16f"),c=e("2ef0"),u=l["a"].Item,p={components:{STable:i["p"],DetailList:l["a"],DetailListItem:u,FuzzySearchUser:i["h"]},data:function(){var t=this;return{queryParam:{},applyInfo:{visible:!1,userSnap:{},info:{}},forbid:{id:null,form:null,visible:!1},staList:[{name:"已拒绝",value:-1,color:"#e36387"},{name:"待审核",value:0,color:"#ffcb74"},{name:"已同意",value:1,color:"#87d068"}],columns:[{title:"用户信息",dataIndex:"userSnap",scopedSlots:{customRender:"userSnap"},width:"15%"},{title:"联系电话",dataIndex:"userSnap.telephone",scopedSlots:{customRender:"userSnap.telephone"},width:200},{title:"提现方式",dataIndex:"payType",scopedSlots:{customRender:"payType"}},{title:"金额",dataIndex:"amount",scopedSlots:{customRender:"amount"}},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"创建时间",dataIndex:"createdAt",scopedSlots:{customRender:"createdAt"}},{title:"操作",scopedSlots:{customRender:"action"},width:"15%"}],pagination:{pageSize:10,current:1},loadData:function(a){var e=a.pageNo,s=a.pageSize,n=t.queryParam,r=n.status,i=n.payType,l=n.userId,u={page:e,limit:s,status:r,payType:i,userId:l||void 0};return Object(o["d"])(u).then((function(a){var n=a.data,r=n.list,o=n.totalCount,i=n.header,l=Object(c["cloneDeep"])(t.staList);return l.map((function(t){var a=i.findIndex((function(a){return t.value===a.status}));t.amount=a>=0&&i[a]["amount"]||0})),t.staList=l,{pageNo:e,pageSize:s,data:r,totalCount:o}}))}}},created:function(){},methods:{handleInfo:function(t){var a=this;Object(o["c"])(t.id).then((function(t){a.applyInfo.info=t.data,a.applyInfo.userSnap=t.data.userSnap,a.applyInfo.visible=!0}))},handleApprove:function(t){var a=this.$refs.table,e=this.$notification.success;this.$confirm({title:"提示",content:"是否同意提现申请",onOk:function(){Object(o["a"])({id:t.id}).then((function(t){e({message:"成功",description:"已同意"}),a.refresh(!0)}))}})},handleForbid:function(t){this.forbid={id:t.id,visible:!0,form:this.$form.createForm(this)}},getHandleForbid:function(){var t=this,a=this.forbid,e=a.form,s=a.id,n=this.$refs.table,i=this.$notification.success;e.validateFields((function(a,e){a||Object(o["b"])(Object(r["a"])({id:s},e)).then((function(a){i({message:"成功",description:"已拒绝"}),n.refresh(!0),t.forbid.visible=!1}))}))}}},d=p,f=(e("e8db"),e("2877")),m=Object(f["a"])(d,s,n,!1,null,"13608028",null);a["default"]=m.exports},c16f:function(t,a,e){"use strict";var s,n,r=e("fa43"),o=r["a"],i=o,l=e("2877"),c=Object(l["a"])(i,s,n,!1,null,null,null);a["a"]=c.exports},cd05:function(t,a,e){"use strict";e.d(a,"f",(function(){return o})),e.d(a,"e",(function(){return i})),e.d(a,"d",(function(){return l})),e.d(a,"c",(function(){return c})),e.d(a,"a",(function(){return u})),e.d(a,"b",(function(){return p}));var s=e("365c"),n=e("b775"),r=s["b"].finance;function o(t){return Object(n["b"])({url:r.getSystemFinancePage,method:"get",params:t})}function i(t){return Object(n["b"])({url:r.getSystemFinanceById+t,method:"get"})}function l(t){return Object(n["b"])({url:r.getPageUserDrawApply,method:"get",params:t})}function c(t){return Object(n["b"])({url:r.getByIdUserDrawApply+t,method:"get"})}function u(t){return Object(n["b"])({url:r.approveById,method:"patch",data:t})}function p(t){return Object(n["b"])({url:r.forbidById,method:"patch",data:t})}},e8db:function(t,a,e){"use strict";e("b6b9")}}]);