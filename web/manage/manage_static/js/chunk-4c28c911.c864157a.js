(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c28c911"],{"4b57":function(t,e,a){"use strict";a("a6dc")},"73a6":function(t,e,a){"use strict";a("c880")},"96be":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-view",{staticClass:"platform-order-info",attrs:{title:"单号 ："+t.info.orderId,logo:t.userInfo.headImg}},[a("detail-list",{staticClass:"detail-layout",attrs:{slot:"headerContent",size:"small",col:2},slot:"headerContent"},[a("detail-list-item",{attrs:{term:"用户ID"}},[t._v(t._s(t.userInfo.id))]),a("detail-list-item",{attrs:{term:"用户昵称"}},[t._v(t._s(t.userInfo.nickName))]),a("detail-list-item",{attrs:{term:"联系电话"}},[t._v(t._s(t.userInfo.telephone))])],1),a("a-row",{staticClass:"status-list",attrs:{slot:"extra"},slot:"extra"},[a("a-col",{attrs:{xs:12,sm:12}},[a("div",{staticClass:"text"},[t._v("状态")]),a("div",{staticClass:"heading"},[t._v(" "+t._s(1===t.info.isDel?"已删除":"正常")+" ")])])],1),a("a-card",{attrs:{title:"评论详情"}},[a("a-table",{ref:"table",staticClass:"product-table",attrs:{rowKey:function(t,e){return e},columns:t.columns,dataSource:[t.info],pagination:!1},scopedSlots:t._u([{key:"salePrice",fn:function(e,a){return[t._v(" "+t._s(a.productInfo.salePrice)+" ")]}},{key:"productScore",fn:function(e){return[t._v(" "+t._s(e)+" ")]}},{key:"isRecommend",fn:function(e){return[t._v(" "+t._s(1===e?"已推荐":"未推荐")+" ")]}},{key:"action",fn:function(e,s){return[a("a",{on:{click:function(e){return t.getProductPage(s)}}},[t._v("修改商品")])]}}])},[t.productInfo?a("template",{slot:"coverImg"},[a("img",{staticClass:"coverImg-class",attrs:{src:t.productInfo.coverImg}})]):t._e(),t.productInfo?a("template",{slot:"productInfo"},[a("div",{staticClass:"display-flex"},[a("a-popover",{attrs:{placement:"topLeft"}},[a("template",{slot:"content"},[t._v(" "+t._s(t.productInfo.name)+" ")]),a("div",{staticClass:"margin-top-8"},[t._v(t._s(t._f("textOverflowEllipsis")(t.productInfo.name,0,8)))])],2)],1)]):t._e()],2),t.info.comment?a("detail-list",{staticClass:"margin-top-16",attrs:{title:"评论内容",col:2}},[t._v(" "+t._s(t.info.comment)+" ")]):t._e(),t.info.pics?a("detail-list",{staticClass:"margin-top-16",attrs:{title:"评论图片",col:2}},[a("viewer",{staticClass:"image-box",attrs:{images:t.info.pics}},t._l(t.info.pics,(function(t,e){return a("img",{key:e,staticStyle:{width:"150px","margin-left":"15px","margin-bottom":"15px"},attrs:{src:t}})})),0)],1):t._e()],1),a("product-list",{on:{select:t.selectProduct},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}})],1)},o=[],n=a("2af9"),i=a("4c79"),r=a("c8c3"),c=a("c16f"),l=a("17eb"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:"修改商品",width:"900px",footer:null,bodyStyle:{minHeight:"685px"}},on:{cancel:t.onCancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("a-row",{staticClass:"margin-bottom-8",attrs:{gutter:10}},[a("a-col",{attrs:{md:4,sm:24}},[a("a-input",{attrs:{allowClear:"",placeholder:"商品名称"},model:{value:t.queryParam.name,callback:function(e){t.$set(t.queryParam,"name",e)},expression:"queryParam.name"}})],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-select",{staticClass:"width-percent-100",attrs:{allowClear:"",placeholder:"商品类型"},model:{value:t.queryParam.type,callback:function(e){t.$set(t.queryParam,"type",e)},expression:"queryParam.type"}},[a("a-select-option",{attrs:{value:"REAL"}},[t._v("实物商品")]),a("a-select-option",{attrs:{value:"VIRTUAL"}},[t._v("虚拟商品")])],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-cascader",{staticClass:"width-percent-100",attrs:{options:t.categoryOptions,fieldNames:{label:"name",value:"id",children:"children"},placeholder:"商品分类",changeOnSelect:"",allowClear:""},model:{value:t.queryParam.categoryId,callback:function(e){t.$set(t.queryParam,"categoryId",e)},expression:"queryParam.categoryId"}})],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-select",{staticClass:"width-percent-100",attrs:{allowClear:"",placeholder:"商品规格"},model:{value:t.queryParam.isSku,callback:function(e){t.$set(t.queryParam,"isSku",e)},expression:"queryParam.isSku"}},[a("a-select-option",{attrs:{value:0}},[t._v("单规格")]),a("a-select-option",{attrs:{value:1}},[t._v("多规格")])],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons"},[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.$refs.table.refresh(!0)}}},[t._v("搜索")])],1)])],1),a("s-table",{ref:"table",attrs:{rowKey:function(t,e){return e},data:t.loadData,columns:t.columns,size:"small",scroll:{y:500},pagination:t.pagination},scopedSlots:t._u([{key:"name",fn:function(t){return[a("preview",{attrs:{img:t.images[0],name:t.name}})]}},{key:"categorySnap",fn:function(e,s){return[a("a-popover",{attrs:{placement:"topLeft",overlayStyle:{"max-width":"400px"}}},[a("template",{slot:"content"},[t._v(t._s(e.join("、")))]),a("div",{staticClass:"categorySnap-class display-flex"},t._l(s.categoryId,(function(e,s){return a("div",{key:s},t._l(t.categoryList,(function(s,o){return s.id===e?a("a-tag",{key:o,staticClass:"categorySnap-tag"},[t._v(t._s(s.name))]):t._e()})),1)})),0)],2)]}},{key:"isOnSale",fn:function(e,a){return[t._v(" "+t._s(1===a.isOnSale?"已上架":"已下架")+" ")]}},{key:"action",fn:function(e,s){return[a("a-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleSelect(s)}}},[t._v("选择")])]}}])})],1)},d=[],p=(a("b0c0"),a("66da")),m=a("ed08"),f={components:{STable:n["p"],preview:n["w"]},props:{value:{type:Boolean,default:!1}},watch:{value:function(t){this.visible=t}},model:{prop:"value",event:"change"},data:function(){var t=this;return{queryParam:{},data:[],pagination:{pageSize:10,current:1},categoryOptions:[],categoryList:[],columns:[{title:"商品信息",scopedSlots:{customRender:"name"}},{title:"商品分类",dataIndex:"categorySnap",scopedSlots:{customRender:"categorySnap"},width:180},{title:"售价",dataIndex:"salePrice",scopedSlots:{customRender:"salePrice"},width:100},{title:"上架",dataIndex:"isOnSale",scopedSlots:{customRender:"isOnSale"},width:100},{title:"操作",scopedSlots:{customRender:"action"},width:100}],loadData:function(e){var a=e.pageSize,s=e.pageNo,o=t.queryParam,n=o.name,r=o.type,c=o.categoryId,l=o.isSku,u={page:s,limit:a,name:n||void 0,type:r,isSku:l,categoryId:c,saleStrategy:"NORMAL"};return Object(i["k"])(u).then((function(t){var e=t.data,o=e.list,n=e.totalCount;return{pageNo:s,pageSize:a,data:o||[],totalCount:n}}))},visible:!1}},created:function(){this.getCategoryList()},methods:{getCategoryList:function(){var t=this;Object(p["e"])().then((function(e){var a=e.data;t.categoryList=a,t.categoryOptions=Object(m["u"])(a)}))},onConfirm:function(){},onCancel:function(){this.$emit("change",!1)},handleSelect:function(t){this.$emit("select",t)}}},v=f,g=(a("73a6"),a("2877")),y=Object(g["a"])(v,u,d,!1,null,"992fbb16",null),h=y.exports,b=c["a"].Item,I={components:{Template:l["a"],STable:n["p"],PageView:r["a"],DetailList:c["a"],DetailListItem:b,productList:h},data:function(){var t=this.$route.params.id;return{id:t,info:{},userInfo:{},productInfo:{},visible:!1,columns:[{title:"商品图片",dataIndex:"coverImg",scopedSlots:{customRender:"coverImg"}},{title:"商品信息",dataIndex:"productInfo",scopedSlots:{customRender:"productInfo"}},{title:"商品价格",dataIndex:"productInfo.salePrice"},{title:"商品分数",dataIndex:"productScore",scopedSlots:{customRender:"productScore"}},{title:"评论推荐",dataIndex:"isRecommend",scopedSlots:{customRender:"isRecommend"}},{title:"操作",scopedSlots:{customRender:"action"}}]}},created:function(){this.getByIdProductReplies()},methods:{getByIdProductReplies:function(){var t=this;Object(i["h"])(this.id).then((function(e){t.info=e.data,t.userInfo=e.data.userInfo,t.productInfo=e.data.productInfo}))},getProductPage:function(){this.visible=!0},selectProduct:function(t){var e=this,a=this.$notification.success;Object(i["r"])({id:this.id,productId:t.id}).then((function(t){a({message:"成功",description:"修改成功"}),e.visible=!1,e.getByIdProductReplies()}))}}},_=I,S=(a("4b57"),Object(g["a"])(_,s,o,!1,null,"0612bb99",null));e["default"]=S.exports},a6dc:function(t,e,a){},c16f:function(t,e,a){"use strict";var s,o,n=a("fa43"),i=n["a"],r=i,c=a("2877"),l=Object(c["a"])(r,s,o,!1,null,null,null);e["a"]=l.exports},c880:function(t,e,a){}}]);