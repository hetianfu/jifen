(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-228d53d8"],{"65af":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return m}));a("99af");var n=a("365c"),r=a("b775"),o=n["b"].weChat;function i(e){return Object(r["b"])({url:o.getIndexPageConfig,method:"get",params:e})}function s(e){return Object(r["b"])({url:o.wxSubscribeMsgsGetPage,method:"get",params:e})}function c(e){return Object(r["b"])({url:"".concat(o.wxSubscribeMsgsDelById).concat(e),method:"delete"})}function l(e){return Object(r["b"])({url:o.updateSystemConfigById,method:"patch",data:e})}function u(e){return Object(r["b"])({url:o.updateByIdSystemConfig,method:"patch",data:e})}function d(e){return Object(r["b"])({url:o.getWxMenu,method:"get",params:e})}function m(e){return Object(r["b"])({url:o.saveWxMenu,method:"post",data:e})}},"66e8":function(e,t,a){"use strict";a("a248")},7505:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-card",[a("s-table",{ref:"table",attrs:{columns:e.columns,data:e.loadData,rowKey:function(e,t){return t},pagination:!1},scopedSlots:e._u([{key:"status",fn:function(t,n){return[a("a-switch",{attrs:{"checked-children":"显示","un-checked-children":"隐藏",loading:n.loading,checked:Boolean(Number(n.status))},on:{click:function(t){return e.onChangeStatus(n,t)}}})]}},{key:"type",fn:function(t,n){return e._l(e.COMBINED_CONFIG_TYPE,(function(t,r){return n.type===t.value?a("a-tag",{key:r,attrs:{color:t.color}},[e._v(e._s(t.name))]):e._e()}))}},{key:"showOrder",fn:function(t,n){return[a("edit-name",{attrs:{text:n.showOrder,scope:n},on:{change:function(t){return e.onEditChange(n.cid,"showOrder",t)}}})]}},{key:"action",fn:function(t,n){return[a("a-dropdown",{attrs:{trigger:["click"]}},[a("a",[e._v("操作 "),a("a-icon",{attrs:{type:"down"}})],1),a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},["NORMAL"===n.type?a("a-menu-item",{on:{click:function(t){return e.handleToNormal(n)}}},[a("a",[e._v("数据列表")])]):e._e(),"PRODUCT"===n.type?a("a-menu-item",{on:{click:function(t){return e.handleToPorduct(n)}}},[a("a",[e._v("商品列表")])]):e._e(),"STRATEGY"===n.type?a("a-menu-item",{on:{click:function(t){return e.handleToStrategy(n)}}},[a("a",[e._v("活动列表")])]):e._e(),"PINK"===n.type?a("a-menu-item",{on:{click:function(t){return e.handleToPink(n)}}},[a("a",[e._v("拼团列表")])]):e._e(),a("a-menu-item",{on:{click:function(t){return e.handleMord(n)}}},[a("a",[e._v("扩展")])]),a("a-menu-item",{on:{click:function(t){return e.getEditHandle(n)}}},[a("a",[e._v("编辑")])])],1)],1)]}}])}),a("a-modal",{attrs:{title:"编辑",width:"600px"},on:{ok:e.onChangeEdit},model:{value:e.config.visible,callback:function(t){e.$set(e.config,"visible",t)},expression:"config.visible"}},[a("a-form",{staticClass:"addArrMal",attrs:{form:e.config.form,"label-col":{span:4},"wrapper-col":{span:19}}},[a("a-form-item",{attrs:{label:"配置类型"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["type",{initialValue:"NORMAL"},{rules:[{required:!0,message:"请选择配置类型"}]}],expression:"['type', { initialValue: 'NORMAL' }, { rules: [{ required: true, message: '请选择配置类型' }] }]"}],staticStyle:{width:"200px"},attrs:{disabled:"",placeholder:"选择配置类型"}},e._l(e.COMBINED_CONFIG_TYPE,(function(t,n){return a("a-select-option",{key:n,attrs:{value:t.value}},[e._v(e._s(t.name))])})),1)],1),a("a-form-item",{attrs:{label:"数据组名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入数据组名称"}]}],expression:"['name', { rules: [{ required: true, message: '请输入数据组名称' }] }]"}],attrs:{placeholder:"请输入数据组名称"}})],1),a("a-form-item",{attrs:{label:"数据组简介"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["info"],expression:"['info']"}],attrs:{placeholder:"请输入数据组简介"}})],1),a("a-form-item",{attrs:{label:"限制条数"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["limitNumber"],expression:"['limitNumber']"}],attrs:{placeholder:"0"}})],1),a("a-form-item",{attrs:{label:"渲染方式："}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["renderType"],expression:"['renderType']"}],staticStyle:{width:"200px"}},e._l(Object.keys(e.renderType),(function(t,n){return a("a-select-opt-group",{key:n},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(e.renderType[t]["name"]))]),e._l(e.renderType[t]["list"],(function(n,r){return a("a-select-option",{key:r,attrs:{value:t+"-"+n.value}},[e._v(e._s(n.label))])}))],2)})),1)],1)],1)],1),a("a-modal",{attrs:{title:e.more.title},on:{ok:e.getMoreHandle},model:{value:e.more.visible,callback:function(t){e.$set(e.more,"visible",t)},expression:"more.visible"}},[a("a-form",{attrs:{form:e.more.form,"label-col":{span:4},"wrapper-col":{span:19}}},[a("a-form-item",{attrs:{label:"封面图",extra:"（注：封面图片尺寸为750 * 316(可自定义)）"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["coverImg"],expression:"['coverImg']"}],staticClass:"display-none"}),a("upload-image",{attrs:{value:e.moreImg.coverImg,action:e.action,headers:e.headers},on:{change:e.handleChangeCoverImg}})],1),a("a-form-item",{attrs:{label:"名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["moreName"],expression:"['moreName']"}],attrs:{placeholder:"请输入名称"}})],1),a("a-form-item",{attrs:{label:"跳转路径"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["moreUrl"],expression:"['moreUrl']"}],attrs:{placeholder:"请输入跳转路径"}})],1)],1)],1)],1)],1)},r=[],o=(a("99af"),a("d81d"),a("b0c0"),a("a9e3"),a("d3b7"),a("ac1f"),a("1276"),a("15fd")),i=a("ade3"),s=a("5530"),c=a("5880"),l=a("88bc"),u=a.n(l),d=a("2ef0"),m=a("65af"),f=a("f955"),p=a("2af9"),h=a("e47b"),b=a("f121"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"editable-cell"},[e.editable?a("div",{staticClass:"editable-cell-input-wrapper"},[a("a-input",{staticClass:"input-class",attrs:{value:e.value},on:{change:e.handleChange,pressEnter:e.check}}),a("a-icon",{staticClass:"editable-cell-icon-check",attrs:{type:"check"},on:{click:e.check}})],1):a("div",{staticClass:"editable-cell-text-wrapper input-class"},[a("a-popover",{attrs:{placement:"topLeft",arrowPointAtCenter:""}},[a("template",{slot:"content"},[e._v(e._s(e.value))]),a("span",[e._v(e._s(e._f("textOverflowEllipsis")(e.value,0,10)))])],2),a("a-icon",{staticClass:"editable-cell-icon",attrs:{type:"edit"},on:{click:e.edit}})],1)])},v=[],y={props:{text:{type:String,required:!0},scope:{type:Object,required:!0}},data:function(){return{value:this.text,row:this.scope,editable:!1}},watch:{text:function(e){this.value=e},scope:function(e){this.row=e}},methods:{handleChange:function(e){var t=e.target.value;this.value=t},check:function(){this.editable=!1,this.$emit("change",this.value)},edit:function(){this.editable=!0}}},O=y,j=(a("869e"),a("2877")),w=Object(j["a"])(O,g,v,!1,null,"4dac453b",null),I=w.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload"},[a("a-upload",{attrs:{action:e.action,headers:e.headers,"show-upload-list":!1,beforeUpload:e.onBeforeUpload,"list-type":"picture-card"},on:{change:e.onChangeUpload}},[a("div",[e.image?a("div",{staticClass:"tubiao"},[a("a-icon",{staticClass:"delete",attrs:{type:"delete"},on:{click:e.handleDel}})],1):e._e(),e.image&&"loading"!==e.image?a("img",{staticClass:"image",attrs:{src:e.image,alt:"avatar"}}):a("div",[a("a-icon",{attrs:{type:e.image?"loading":"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v(e._s(e.image?"文件上传中":"上传"))])],1)])])],1)},C=[],S=a("ed08"),x={props:{value:{type:String,default:""},action:{type:String,required:!0},showUploadList:{type:Boolean,default:!0}},model:{prop:"value",event:"change"},watch:{value:function(e){this.image=e}},data:function(){var e=this.value,t=Object(S["i"])();return{headers:t,image:e}},methods:{onBeforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||this.$message.error("你只能上传 JPG或PNG 文件！");var a=e.size/1024/1024<2;return a||this.$message.error("图像必须小于2MB！"),t&&a},onChangeUpload:function(e){var t=e.file;e.fileList;if("uploading"===t.status&&(this.image="loading"),"done"===t.status){var a=t.response.data;this.image=a.accessUrl,this.$emit("change",a.accessUrl)}},handleDel:function(e){e.stopPropagation(),this.image="",this.$emit("change","")}}},N=x,k=(a("66e8"),Object(j["a"])(N,_,C,!1,null,null,null)),T=k.exports,D=a("365c"),P={components:{STable:p["p"],EditName:I,UploadImage:T,GroupDataExtend:p["j"]},data:function(){var e=Object(S["i"])();return{renderType:h,headers:e,action:D["b"].uploadImgs.addSystemImage,moreImg:{coverImg:""},more:{visible:!1,form:null,title:"编辑扩展"},parentId:null,COMBINED_CONFIG_TYPE:b["a"],config:{form:null,visible:!1},columns:[{title:"ID",dataIndex:"id",scopedSlots:{customRender:"id"},width:90},{title:"数据组字段",dataIndex:"configName",scopedSlots:{customRender:"configName"}},{title:"数据组名称",dataIndex:"name",scopedSlots:{customRender:"name"},ellipsis:!0},{title:"类型",dataIndex:"type",scopedSlots:{customRender:"type"}},{title:"简介",dataIndex:"info",scopedSlots:{customRender:"info"}},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"限制条数",dataIndex:"limitNumber",scopedSlots:{customRender:"limitNumber"},width:90},{title:"排序",dataIndex:"showOrder",scopedSlots:{customRender:"showOrder"},width:90},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"}}],loadData:function(e){var t=e.pageNo,a=e.pageSize,n=e.sortOrder,r=void 0===n?"ascend":n,o={page:t,limit:a,orders:{show_order:"ascend"===r?"asc":"desc"}};return Object(m["a"])(o).then((function(e){e.data.map((function(e){e.loading=!1}));var n=e.data;return{pageNo:t,pageSize:a,data:n,totalCount:0}}))}}},created:function(){},methods:Object(s["a"])(Object(s["a"])({},Object(c["mapActions"])(["setGroupData"])),{},{handleMord:function(e){var t=this;this.more.form=this.$form.createForm(this),this.more.visible=!0,this.more.id=e.id,new Promise((function(e){setTimeout(e,0)})).then((function(){null!==e.spreads?t.moreImg.coverImg=e.spreads.coverImg:t.moreImg.coverImg=void 0,t.more.form.setFieldsValue(u()(e.spreads,["moreName","moreUrl","coverImg"]))}))},handleChangeCoverImg:function(e){this.more.form.setFieldsValue({coverImg:e})},getMoreHandle:function(){var e=this,t=this.more,a=t.form,n=t.id,r=this.$refs.table,o=this.$notification.success;a.validateFields((function(t,a){t||Object(f["p"])({id:n,spreads:Object(s["a"])({},a)}).then((function(t){o({message:"成功",description:"修改成功"}),r.refresh(),e.more.visible=!1}))}))},onChangeStatus:function(e,t){var a=this;e.loading=!0,e.status=Number(t);var n={id:e.cid,status:e.status};Object(m["e"])(n).then((function(t){setTimeout((function(){e.loading=!1,a.$message.success("修改成功")}),500)}))},onEditChange:function(e,t,a){var n=this;void 0===a&&(a=null),Object(m["e"])(Object(i["a"])({id:e},t,a)).then((function(e){n.$message.success("修改成功"),n.$refs.table.refresh()}))},getEditHandle:function(e){var t=this;this.parentId=e.id,this.config.form=this.$form.createForm(this),new Promise((function(e){setTimeout(e,0)})).then((function(){e.renderType="".concat(e.configName,"-").concat(e.showMod),t.config.form.setFieldsValue(u()(e,["name","info","type","limitNumber","renderType"]))})),this.config.visible=!0},onChangeEdit:function(){var e=this,t=this.$refs.table,a=this.$notification.success,n=this.parentId;this.config.form.validateFields((function(r,i){var c=Object(s["a"])(Object(s["a"])({},i),{},{id:n}),l=(c.renderType,Object(o["a"])(c,["renderType"])),u=i.renderType&&i.renderType.split("-");l.showMod=Object(d["last"])(u),l.configName=Object(d["head"])(u),r||Object(f["p"])(l).then((function(n){a({message:"成功",description:"修改成功"}),t.refresh(),e.config.visible=!1}))}))},handleToNormal:function(e){this.setGroupData(e),this.$router.push({name:"NormalData",params:{gid:e.id}})},handleToPorduct:function(e){this.setGroupData(e),this.$router.push({name:"ProductData",params:{gid:e.id}})},handleToStrategy:function(e){this.setGroupData(e),this.$router.push({name:"StrategyData",params:{gid:e.id}})},handleToPink:function(e){this.setGroupData(e),this.$router.push({name:"PinkData",params:{gid:e.id}})},getDelHandle:function(e){var t=this.$refs.table,a=this.$notification.success;this.$confirm({title:"警告",content:"是否删除[ ".concat(e.name," ]"),onOk:function(){Object(f["f"])(e.id).then((function(e){a({message:"成功",description:"删除成功"}),t.refresh()}))}})}})},$=P,G=Object(j["a"])($,n,r,!1,null,null,null);t["default"]=G.exports},"869e":function(e,t,a){"use strict";a("a63e")},a248:function(e,t,a){},a63e:function(e,t,a){},e47b:function(e){e.exports=JSON.parse('{"ads":{"name":"广告","list":[{"label":"自定义广告渲染1","value":1},{"label":"自定义广告渲染1","value":2},{"label":"田字格展示方式","value":3}]},"category":{"name":"分类","list":[{"label":"四列一排","value":4},{"label":"五列一排","value":5}]},"news":{"name":"新闻资讯","list":[{"label":"自定义1","value":1}]},"diy":{"name":"商品","list":[{"label":"自定义商品渲染1","value":1},{"label":"自定义商品渲染2","value":2},{"label":"自定义商品渲染3","value":3},{"label":"自定义商品渲染4","value":4},{"label":"自定义商品渲染5","value":5},{"label":"商品渲染6（限秒杀）","value":6},{"label":"自定义商品渲染7","value":7},{"label":"自定义广告渲染8","value":8},{"label":"自定义广告渲染9","value":9}]}}')},f955:function(e,t,a){"use strict";a.d(t,"n",(function(){return i})),a.d(t,"l",(function(){return s})),a.d(t,"r",(function(){return c})),a.d(t,"o",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"h",(function(){return m})),a.d(t,"e",(function(){return f})),a.d(t,"m",(function(){return p})),a.d(t,"b",(function(){return h})),a.d(t,"p",(function(){return b})),a.d(t,"f",(function(){return g})),a.d(t,"i",(function(){return v})),a.d(t,"k",(function(){return y})),a.d(t,"j",(function(){return O})),a.d(t,"c",(function(){return j})),a.d(t,"g",(function(){return w})),a.d(t,"q",(function(){return I}));a("99af");var n=a("365c"),r=a("b775"),o=n["b"].maintain;function i(e){return Object(r["b"])({url:o.getTabPage,method:"get",params:e})}function s(e){return Object(r["b"])({url:o.getSystemConfigPage,method:"get",params:e})}function c(e){return Object(r["b"])({url:o.updateTabById,method:"patch",data:e})}function l(e){return Object(r["b"])({url:o.updateSystemConfigById,method:"patch",data:e})}function u(e){return Object(r["b"])({url:o.addTab,method:"post",data:e})}function d(e){return Object(r["b"])({url:o.addSystemConfig,method:"post",data:e})}function m(e){return Object(r["b"])({url:"".concat(o.delTabById).concat(e),method:"delete"})}function f(e){return Object(r["b"])({url:"".concat(o.delSystemConfigById).concat(e),method:"delete"})}function p(e){return Object(r["b"])({url:o.getSystemGroupPage,method:"get",params:e})}function h(e){return Object(r["b"])({url:o.addSystemGroup,method:"post",data:e})}function b(e){return Object(r["b"])({url:o.updateSystemGroupById,method:"patch",data:e})}function g(e){return Object(r["b"])({url:"".concat(o.delSystemGroupById).concat(e),method:"delete"})}function v(e){return Object(r["b"])({url:o.getNormalGroupDataPag,method:"get",params:e})}function y(e){return Object(r["b"])({url:o.getStrategyGroupDataPag,method:"get",params:e})}function O(e){return Object(r["b"])({url:o.getProductGroupDataPag,method:"get",params:e})}function j(e){return Object(r["b"])({url:o.addSystemGroupData,method:"post",data:e})}function w(e){return Object(r["b"])({url:"".concat(o.delSystemGroupDataById).concat(e),method:"delete"})}function I(e){return Object(r["b"])({url:o.updateSystemGroupDataById,method:"patch",data:e})}}}]);