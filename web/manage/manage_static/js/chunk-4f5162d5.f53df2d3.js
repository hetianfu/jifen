(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f5162d5"],{"00d8":function(e,t){(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&a.rotl(e,8)|4278255360&a.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=a.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],a=0,r=0;a<e.length;a++,r+=8)t[r>>>5]|=e[a]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],a=0;a<32*e.length;a+=8)t.push(e[a>>>5]>>>24-a%32&255);return t},bytesToHex:function(e){for(var t=[],a=0;a<e.length;a++)t.push((e[a]>>>4).toString(16)),t.push((15&e[a]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],a=0;a<e.length;a+=2)t.push(parseInt(e.substr(a,2),16));return t},bytesToBase64:function(e){for(var a=[],r=0;r<e.length;r+=3)for(var n=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?a.push(t.charAt(n>>>6*(3-o)&63)):a.push("=");return a.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var a=[],r=0,n=0;r<e.length;n=++r%4)0!=n&&a.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*n+8)-1)<<2*n|t.indexOf(e.charAt(r))>>>6-2*n);return a}};e.exports=a})()},"044b":function(e,t){function a(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function r(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&a(e.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(a(e)||r(e)||!!e._isBuffer)}},6821:function(e,t,a){(function(){var t=a("00d8"),r=a("9a634").utf8,n=a("044b"),o=a("9a634").bin,i=function(e,a){e.constructor==String?e=a&&"binary"===a.encoding?o.stringToBytes(e):r.stringToBytes(e):n(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var s=t.bytesToWords(e),c=8*e.length,u=1732584193,l=-271733879,d=-1732584194,p=271733878,f=0;f<s.length;f++)s[f]=16711935&(s[f]<<8|s[f]>>>24)|4278255360&(s[f]<<24|s[f]>>>8);s[c>>>5]|=128<<c%32,s[14+(c+64>>>9<<4)]=c;var m=i._ff,h=i._gg,b=i._hh,v=i._ii;for(f=0;f<s.length;f+=16){var y=u,g=l,O=d,j=p;u=m(u,l,d,p,s[f+0],7,-680876936),p=m(p,u,l,d,s[f+1],12,-389564586),d=m(d,p,u,l,s[f+2],17,606105819),l=m(l,d,p,u,s[f+3],22,-1044525330),u=m(u,l,d,p,s[f+4],7,-176418897),p=m(p,u,l,d,s[f+5],12,1200080426),d=m(d,p,u,l,s[f+6],17,-1473231341),l=m(l,d,p,u,s[f+7],22,-45705983),u=m(u,l,d,p,s[f+8],7,1770035416),p=m(p,u,l,d,s[f+9],12,-1958414417),d=m(d,p,u,l,s[f+10],17,-42063),l=m(l,d,p,u,s[f+11],22,-1990404162),u=m(u,l,d,p,s[f+12],7,1804603682),p=m(p,u,l,d,s[f+13],12,-40341101),d=m(d,p,u,l,s[f+14],17,-1502002290),l=m(l,d,p,u,s[f+15],22,1236535329),u=h(u,l,d,p,s[f+1],5,-165796510),p=h(p,u,l,d,s[f+6],9,-1069501632),d=h(d,p,u,l,s[f+11],14,643717713),l=h(l,d,p,u,s[f+0],20,-373897302),u=h(u,l,d,p,s[f+5],5,-701558691),p=h(p,u,l,d,s[f+10],9,38016083),d=h(d,p,u,l,s[f+15],14,-660478335),l=h(l,d,p,u,s[f+4],20,-405537848),u=h(u,l,d,p,s[f+9],5,568446438),p=h(p,u,l,d,s[f+14],9,-1019803690),d=h(d,p,u,l,s[f+3],14,-187363961),l=h(l,d,p,u,s[f+8],20,1163531501),u=h(u,l,d,p,s[f+13],5,-1444681467),p=h(p,u,l,d,s[f+2],9,-51403784),d=h(d,p,u,l,s[f+7],14,1735328473),l=h(l,d,p,u,s[f+12],20,-1926607734),u=b(u,l,d,p,s[f+5],4,-378558),p=b(p,u,l,d,s[f+8],11,-2022574463),d=b(d,p,u,l,s[f+11],16,1839030562),l=b(l,d,p,u,s[f+14],23,-35309556),u=b(u,l,d,p,s[f+1],4,-1530992060),p=b(p,u,l,d,s[f+4],11,1272893353),d=b(d,p,u,l,s[f+7],16,-155497632),l=b(l,d,p,u,s[f+10],23,-1094730640),u=b(u,l,d,p,s[f+13],4,681279174),p=b(p,u,l,d,s[f+0],11,-358537222),d=b(d,p,u,l,s[f+3],16,-722521979),l=b(l,d,p,u,s[f+6],23,76029189),u=b(u,l,d,p,s[f+9],4,-640364487),p=b(p,u,l,d,s[f+12],11,-421815835),d=b(d,p,u,l,s[f+15],16,530742520),l=b(l,d,p,u,s[f+2],23,-995338651),u=v(u,l,d,p,s[f+0],6,-198630844),p=v(p,u,l,d,s[f+7],10,1126891415),d=v(d,p,u,l,s[f+14],15,-1416354905),l=v(l,d,p,u,s[f+5],21,-57434055),u=v(u,l,d,p,s[f+12],6,1700485571),p=v(p,u,l,d,s[f+3],10,-1894986606),d=v(d,p,u,l,s[f+10],15,-1051523),l=v(l,d,p,u,s[f+1],21,-2054922799),u=v(u,l,d,p,s[f+8],6,1873313359),p=v(p,u,l,d,s[f+15],10,-30611744),d=v(d,p,u,l,s[f+6],15,-1560198380),l=v(l,d,p,u,s[f+13],21,1309151649),u=v(u,l,d,p,s[f+4],6,-145523070),p=v(p,u,l,d,s[f+11],10,-1120210379),d=v(d,p,u,l,s[f+2],15,718787259),l=v(l,d,p,u,s[f+9],21,-343485551),u=u+y>>>0,l=l+g>>>0,d=d+O>>>0,p=p+j>>>0}return t.endian([u,l,d,p])};i._ff=function(e,t,a,r,n,o,i){var s=e+(t&a|~t&r)+(n>>>0)+i;return(s<<o|s>>>32-o)+t},i._gg=function(e,t,a,r,n,o,i){var s=e+(t&r|a&~r)+(n>>>0)+i;return(s<<o|s>>>32-o)+t},i._hh=function(e,t,a,r,n,o,i){var s=e+(t^a^r)+(n>>>0)+i;return(s<<o|s>>>32-o)+t},i._ii=function(e,t,a,r,n,o,i){var s=e+(a^(t|~r))+(n>>>0)+i;return(s<<o|s>>>32-o)+t},i._blocksize=16,i._digestsize=16,e.exports=function(e,a){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(i(e,a));return a&&a.asBytes?r:a&&a.asString?o.bytesToString(r):t.bytesToHex(r)}})()},"73df":function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"h",(function(){return h})),a.d(t,"c",(function(){return v})),a.d(t,"d",(function(){return g})),a.d(t,"f",(function(){return j})),a.d(t,"g",(function(){return k})),a.d(t,"a",(function(){return T})),a.d(t,"e",(function(){return C}));a("4ec9"),a("a9e3"),a("b64b"),a("d3b7"),a("25f0"),a("3ca3"),a("ddb0");var r=a("b85c"),n=a("2909"),o=a("53ca"),i=a("d4ec"),s=a("bee2"),c=a("2ef0"),u=function(){function e(){Object(i["a"])(this,e)}return Object(s["a"])(e,[{key:"setAttributes",value:function(e){var t=this,a=new Map,r=this.attributes();for(var n in r)a.set(r[n],n);for(var o in e)if(e.hasOwnProperty(o)&&a.get(o)){var i=this.getType;switch(i(t[o])){case"boolean":t[o]=!!e[o];break;case"string":t[o]=e[o]?e[o]:t[o];break;case"object":t[o]="object"===i(e[o])?e[o]:t[o];break;case"array":t[o]="array"===i(e[o])?e[o]:t[o];break;case"number":t[o]=e[o]?Number(e[o]):t[o];break;default:t[o]=e[o]}}return t}},{key:"toObject",value:function(e){var t={},a=this;for(var r in e){var n=Object(o["a"])(e[r]);if("string"===n)t[r]=a[e[r]];else if("function"===n){var i=e[r].apply();null!==i&&(t[r]=i)}}return t}},{key:"fields",value:function(){var e=this.attributes();return Object(c["zipObject"])(e,e)}},{key:"attributes",value:function(){var e=this,t=[];return t.push.apply(t,Object(n["a"])(Object.keys(e))),t}},{key:"delFields",value:function(e,t){var a,n=Object(r["a"])(t);try{for(n.s();!(a=n.n()).done;){var o=a.value;delete e[o]}}catch(i){n.e(i)}finally{n.f()}}},{key:"getType",value:function(e){var t=Object.prototype.toString.apply(e);switch(t){case"[object String]":t="string";break;case"[object Number]":t="number";break;case"[object Boolean]":t="boolean";break;case"[object Undefined]":t="undefined";break;case"[object Null]":t="null";break;case"[object Object]":t="object";break;case"[object Array]":t="array";break;case"[object Function]":t="function";break}return t}}]),e}(),l=(a("b0c0"),a("45eb")),d=a("7e84"),p=a("262e"),f=a("2caf"),m=function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.call(this),e.id="",e.name="",e.employeeNumber="",e.telephone="",e.sex=0,e.email="",e.departmentIds=[],e.updatedAt=0,e.userSnap={},e.mpOpenId="",e.mpSendMsg=0,e.openId="",e.status=0,e.roleList=[],e.isAdmin=0,e.shopId="",e.account="",e.shopInfo="",e.password="",e}return Object(s["a"])(a,[{key:"renderData",value:function(){var e=this,t=Object(l["a"])(Object(d["a"])(a.prototype),"fields",this).call(this);return t["updateAt"]=function(){return 1e3*e.updateAt},Object(l["a"])(Object(d["a"])(a.prototype),"toObject",this).call(this,t)}}]),a}(u),h=m,b=function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.call(this),e.id="",e.orderId="",e.status="",e.payAmount=0,e.updateTime=0,e.productType="",e.cartSnap=[],e.userSnap={},e.addressSnap={},e.cooperateShopSnap={},e.batchNumber="",e.trackingNumber="",e.trackingName="",e.addressSnap={},e.sharingAmount=0,e.createTime=0,e.incomeAmount=0,e.remark="",e.distribute="",e.productType="",e.expressName="",e.expressNo="",e.freightAmount="",e.couponInfo={},e.deductScore=0,e.connectSnap={},e.cooperateShopAddressSnap={},e.sendSnap={},e.sendType=0,e}return Object(s["a"])(a,[{key:"renderData",value:function(){var e=this,t=Object(l["a"])(Object(d["a"])(a.prototype),"fields",this).call(this),r=this.productType;return"POST"===r&&(t["info"]=function(){return Object(c["get"])(e,"addressSnap")}),"GROUP_BUY"===r&&(t["info"]=function(){return Object(c["get"])(e,"cooperateShopSnap")}),Object(l["a"])(Object(d["a"])(a.prototype),"delFields",this).call(this,t,["cooperateShopSnap"]),Object(l["a"])(Object(d["a"])(a.prototype),"toObject",this).call(this,t)}},{key:"renderInfo",value:function(){var e=this,t=Object(l["a"])(Object(d["a"])(a.prototype),"fields",this).call(this),r=this.productType;return"POST"===r&&(t["consigneeName"]=function(){return Object(c["get"])(e,"addressSnap.name")},t["consigneeStreet"]=function(){return Object(c["get"])(e,"addressSnap.street")},t["consigneeRoom"]=function(){return Object(c["get"])(e,"addressSnap.room")},t["consigneeTelephone"]=function(){return Object(c["get"])(e,"addressSnap.telephone")}),"GROUP_BUY"===r&&(t["shopName"]=function(){return Object(c["get"])(e,"cooperateShopSnap.shopName")},t["shopLogo"]=function(){return Object(c["get"])(e,"cooperateShopSnap.logo")},t["shopAddress"]=function(){return Object(c["get"])(e,"cooperateShopSnap.address")}),Object(l["a"])(Object(d["a"])(a.prototype),"delFields",this).call(this,t,[]),Object(l["a"])(Object(d["a"])(a.prototype),"toObject",this).call(this,t)}}]),a}(u),v=b,y=function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.call(this),e.id="",e.name="",e.type="",e.number=0,e.amount=0,e.coverImg="",e.unitSnap={},e.categorySnap={},e.skuDetail=[],e.specSnap="",e}return Object(s["a"])(a,[{key:"renderData",value:function(){var e=this,t=Object(l["a"])(Object(d["a"])(a.prototype),"fields",this).call(this);return t["unitName"]=function(){return Object(c["get"])(e,"unitSnap.name")},t["categoryName"]=function(){return Object(c["get"])(e,"categorySnap.name")},Object(l["a"])(Object(d["a"])(a.prototype),"delFields",this).call(this,t,["unitSnap","categorySnap"]),Object(l["a"])(Object(d["a"])(a.prototype),"toObject",this).call(this,t)}}]),a}(u),g=y,O=function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.call(this),e.id="",e.title="",e.couponType="",e.status=0,e.leftNumber=0,e.usedNumber=0,e.totalNumber=0,e.userSnap={},e.updateTime=0,e.orderId="",e.createdAt=0,e.expireTime=0,e}return Object(s["a"])(a,[{key:"renderData",value:function(){var e=Object(l["a"])(Object(d["a"])(a.prototype),"fields",this).call(this);return Object(l["a"])(Object(d["a"])(a.prototype),"toObject",this).call(this,e)}}]),a}(u),j=O,S=function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.call(this),e.id="",e.title="",e.couponType="",e.number=0,e.userSnap={},e.checkEmployeeSnap="",e.checkEmployeeName="",e.createdAt=0,e.shopBillAmount=0,e.title="",e}return Object(s["a"])(a,[{key:"renderData",value:function(){var e=Object(l["a"])(Object(d["a"])(a.prototype),"fields",this).call(this);return Object(l["a"])(Object(d["a"])(a.prototype),"toObject",this).call(this,e)}}]),a}(u),k=S,w=function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.call(this),e.id=0,e.name="",e.path="",e.parentId=0,e.meta={},e.show=0,e.title="",e.icon="",e.component="",e.createTime=0,e.isMenu=0,e.key="",e.redirect="",e.servicePath="",e.requestMethod="",e.sort=0,e}return Object(s["a"])(a,[{key:"MenuList",value:function(){var e=this,t=Object(l["a"])(Object(d["a"])(a.prototype),"fields",this).call(this);return t["redirect"]=function(){return""===e.redirect?void 0:e.redirect},Object(l["a"])(Object(d["a"])(a.prototype),"toObject",this).call(this,t)}},{key:"renderData",value:function(){var e=Object(l["a"])(Object(d["a"])(a.prototype),"fields",this).call(this);return Object(l["a"])(Object(d["a"])(a.prototype),"toObject",this).call(this,e)}},{key:"exportData",value:function(){var e=this,t=Object(l["a"])(Object(d["a"])(a.prototype),"fields",this).call(this);return t["meta"]=function(){return{icon:e.icon,title:e.title,show:e.show,key:e.key}},t["show"]=function(){},t["title"]=function(){},t["icon"]=function(){},t["key"]=function(){},t["createTime"]=function(){},Object(l["a"])(Object(d["a"])(a.prototype),"toObject",this).call(this,t)}}]),a}(u),T=w,x=function(e){Object(p["a"])(a,e);var t=Object(f["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.call(this),e.id=0,e.parentId=0,e.sort=0,e.status=0,e.title="",e.createdAt=0,e}return Object(s["a"])(a,[{key:"RoleList",value:function(){var e=this,t=Object(l["a"])(Object(d["a"])(a.prototype),"fields",this).call(this);return t["createdAt"]=function(){return e.createdAt},Object(l["a"])(Object(d["a"])(a.prototype),"toObject",this).call(this,t)}},{key:"exportData",value:function(){var e=Object(l["a"])(Object(d["a"])(a.prototype),"fields",this).call(this);return Object(l["a"])(Object(d["a"])(a.prototype),"toObject",this).call(this,e)}},{key:"renderData",value:function(){var e=Object(l["a"])(Object(d["a"])(a.prototype),"fields",this).call(this);return e["createdAt"]=function(){},Object(l["a"])(Object(d["a"])(a.prototype),"toObject",this).call(this,e)}}]),a}(u),C=x},7488:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return l}));a("99af");var r=a("365c"),n=a("b775"),o=r["b"].shopMag;function i(e){return Object(n["b"])({url:o.getShopPage,method:"get",params:e})}function s(e){return Object(n["b"])({url:o.addshop,method:"post",data:e})}function c(e){return Object(n["b"])({url:o.updateShopById,method:"patch",data:e})}function u(e){return Object(n["b"])({url:"".concat(o.deleteShopById).concat(e),method:"delete"})}function l(e){return Object(n["b"])({url:o.getShopById+e,method:"get"})}},"96b9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shop-employee"},[a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{md:4,sm:24}},[a("a-input",{staticClass:"employee-name",attrs:{placeholder:"请输入员工姓名"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-select",{attrs:{placeholder:"请选择角色",allowClear:!1},model:{value:e.queryParam.roleId,callback:function(t){e.$set(e.queryParam,"roleId",t)},expression:"queryParam.roleId"}},e._l(e.roleList,(function(t,r){return a("a-select-option",{key:r,attrs:{value:t.value}},[e._v(e._s(t.name))])})),1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons"},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")]),a("a-button",{staticClass:"margin-left-8",on:{click:function(){return e.queryParam={}}}},[e._v("重置")])],1)])],1)],1)],1),a("div",{staticClass:"table-operator"},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){return e.handleAddEmployee()}}},[e._v("添加员工")])],1),a("s-table",{ref:"table",attrs:{rowKey:function(e){return e.id},columns:e.columns,pagination:e.pagination,data:e.loadData},scopedSlots:e._u([{key:"sex",fn:function(t){return a("span",{},[e._v(e._s(1===t?"男":"女"))])}},{key:"userInfo",fn:function(t){return[t.nickName?a("a-avatar",{staticClass:"margin-right-16",attrs:{src:e.handleImageZoom(t.avatarUrl)}}):e._e(),t.nickName?a("span",[e._v(e._s(t.nickName))]):a("span",[e._v("未绑定小程序")])]}},{key:"name",fn:function(t,r){return[a("span",[e._v(e._s(r.name))])]}},{key:"status",fn:function(t,r){return a("span",{},[a("a-switch",{attrs:{checked:1===t,checkedChildren:"启用",unCheckedChildren:"禁用"},on:{change:function(t){return e.changeStatus(r)}}})],1)}},{key:"mpSendMsg",fn:function(t,r){return a("span",{},[a("a-switch",{attrs:{checked:1===t,checkedChildren:"开",unCheckedChildren:"关"},on:{change:function(t){return e.changeMpSendMsg(r)}}})],1)}},{key:"updatedAt",fn:function(t){return a("span",{},[e._v(e._s(e._f("parseTime")(t,"YYYY-MM-DD")))])}},{key:"roles",fn:function(t){return a("span",{},e._l(e.getRowRole(t),(function(t,r){return a("div",{key:r,staticClass:"display-inline-flex",attrs:{value:t.value}},[a("a-tag",[e._v(e._s(t.name))])],1)})),0)}},{key:"action",fn:function(t){return[a("a",{on:{click:function(a){return e.handleEditEmployee(t)}}},[e._v("编辑")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(a){return e.handleEditAccount(t)}}},[e._v("修改密码")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{staticStyle:{color:"#f5222d"},on:{click:function(a){return e.handleDelete(t)}}},[e._v("删除")])]}}])})],1),a("a-modal",{attrs:{title:e.confirm.textMap[e.confirm.status],width:"700px"},on:{ok:function(t){"create"===e.confirm.status?e.createData():e.updateData()}},model:{value:e.confirm.visible,callback:function(t){e.$set(e.confirm,"visible",t)},expression:"confirm.visible"}},[a("a-form",{attrs:{form:e.confirm.form}},[a("a-form-item",{attrs:{label:"选择店铺","label-col":e.confirm.labelCol,"wrapper-col":e.confirm.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["shopId",{rules:[{required:!0,message:"请选择店铺!"}]}],expression:"['shopId',{ rules: [{ required: true, message: '请选择店铺!' }] }]"}],attrs:{placeholder:"选择店铺"}},e._l(e.shopList,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.shopName))])})),1)],1),a("a-form-item",{attrs:{label:"角色","label-col":e.confirm.labelCol,"wrapper-col":e.confirm.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["roleList",{rules:[{required:!0,message:"请选择角色"}]}],expression:"['roleList', {rules: [{ required: true, message: '请选择角色'}]}]"}],attrs:{mode:"multiple",maxTagCount:3,allowClear:""}},e._l(e.roleList,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.name))])})),1)],1),a("a-form-item",{attrs:{label:"姓名","label-col":e.confirm.labelCol,"wrapper-col":e.confirm.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入员工姓名"}]}],expression:"['name', {rules: [{ required: true, message: '请输入员工姓名'}]}]"}]})],1),"create"===e.confirm.status?a("a-form-item",{attrs:{label:"登录账号","label-col":e.confirm.labelCol,"wrapper-col":e.confirm.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["account",{rules:[{required:!0,message:"请输入登录账号"}]}],expression:"['account', {rules: [{ required: true, message: '请输入登录账号'}]}]"}]})],1):e._e(),"create"===e.confirm.status?a("a-form-item",{attrs:{label:"密码","label-col":e.confirm.labelCol,"wrapper-col":e.confirm.wrapperCol}},[a("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码"}]}],expression:"['password', {rules: [{ required: true, message: '请输入密码'}]}]"}]})],1):e._e(),a("a-form-item",{attrs:{label:"手机号","label-col":e.confirm.labelCol,"wrapper-col":e.confirm.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["telephone"],expression:"['telephone']"}]})],1),a("a-form-item",{attrs:{label:"编号","label-col":e.confirm.labelCol,"wrapper-col":e.confirm.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["employeeNumber"],expression:"['employeeNumber']"}]})],1),a("a-form-item",{attrs:{label:"性别","label-col":e.confirm.labelCol,"wrapper-col":e.confirm.wrapperCol}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["sex",{initialValue:1}],expression:"['sex', { initialValue: 1 }]"}]},[a("a-radio",{attrs:{value:1}},[e._v("男")]),a("a-radio",{attrs:{value:0}},[e._v("女")])],1)],1)],1)],1),a("a-modal",{attrs:{title:"公众号信息类型"},on:{ok:function(t){return e.mpSendMsg()}},model:{value:e.mpSendMsgState,callback:function(t){e.mpSendMsgState=t},expression:"mpSendMsgState"}},[a("a-checkbox-group",{attrs:{options:e.plainOptions},on:{change:e.onCheckboxChange},model:{value:e.plainOption,callback:function(t){e.plainOption=t},expression:"plainOption"}})],1),a("a-modal",{staticClass:"width-percent-20",attrs:{title:"二维码",onOk:"handleOk",footer:null,centered:!0},model:{value:e.codeType,callback:function(t){e.codeType=t},expression:"codeType"}},[a("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.codeUrl}})]),a("a-modal",{attrs:{title:e.detail.title},on:{ok:e.handleConfirmDetail},model:{value:e.detail.visible,callback:function(t){e.$set(e.detail,"visible",t)},expression:"detail.visible"}},[a("a-form",{attrs:{form:e.detail.form}},[a("a-form-item",{attrs:{label:"登录账号","label-col":e.confirm.labelCol,"wrapper-col":e.confirm.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["account",{rules:[{required:!0,message:"请输入登录账号"}]}],expression:"['account', {rules: [{ required: true, message: '请输入登录账号'}]}]"}],attrs:{disabled:""}})],1),a("a-form-item",{attrs:{label:"密码","label-col":e.confirm.labelCol,"wrapper-col":e.confirm.wrapperCol}},[a("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码"}]}],expression:"['password', {rules: [{ required: true, message: '请输入密码'}]}]"}]})],1)],1)],1)],1)},n=[],o=(a("99af"),a("4160"),a("d81d"),a("b0c0"),a("d3b7"),a("159b"),a("5530")),i=a("2909"),s=a("88bc"),c=a.n(s),u=a("eb0f"),l=a("73df"),d=a("3232"),p=a("7488"),f=a("2ef0"),m=a("6821"),h=a.n(m),b=a("2af9"),v=a("ed08"),y=a("0feb"),g=a("365c"),O=a("b775");function j(e){return Object(O["b"])({url:g["b"].shopEmployee.getShopEmployeePage,method:"get",params:e})}function S(e){return Object(O["b"])({url:g["b"].shopEmployee.addShopEmployee,method:"post",data:e})}function k(e){return Object(O["b"])({url:g["b"].shopEmployee.updateShopEmployee,method:"patch",data:e})}function w(e){return Object(O["b"])({url:g["b"].shopEmployee.updateShopEmployeeCode,method:"get",params:e})}function T(e){return Object(O["b"])({url:g["b"].shopEmployee.addEmployeeMsgType,method:"post",data:e})}function x(e){return Object(O["b"])({url:g["b"].shopEmployee.getEmployeeMsgType,method:"get",params:e})}function C(e){return Object(O["b"])({url:g["b"].shopEmployee.delShopEmployee+e,method:"delete"})}function _(e){return Object(O["b"])({url:g["b"].shopEmployee.cleanShopEmployee,method:"patch",data:e})}function I(e){return Object(O["b"])({url:g["b"].shopEmployee.updatePassword,method:"patch",data:e})}var N=!1,M={},E={name:"ShopEmployee",components:{STable:b["p"],STableUser:b["t"]},data:function(){var e=this;return{detail:{visible:!1,title:"",form:null},shopList:[],plainOptions:[{label:"订单",value:"ORDER"},{label:"库存",value:"STOCK",disabled:!0}],TELEPHONE_RULE:u["c"],EMAIL_RULE:u["a"],queryParam:{},columns:[{title:"姓名",dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"编号",dataIndex:"employeeNumber",scopedSlots:{customRender:"employeeNumber"},sorter:!0},{title:"所属门店",dataIndex:"shopInfo.shopName",scopedSlots:{customRender:"shopName"}},{title:"联系电话",dataIndex:"telephone"},{title:"登录账号",dataIndex:"account"},{title:"性别",dataIndex:"sex",scopedSlots:{customRender:"sex"}},{title:"角色",scopedSlots:{customRender:"roles"}},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"更新时间",dataIndex:"updatedAt",scopedSlots:{customRender:"updatedAt"}},{title:"操作",scopedSlots:{customRender:"action"}}],pagination:{pageSize:10,current:1},pageTemp:0,loadData:function(t){var a=t.pageSize,r=t.sortField,n=t.sortOrder,o=t.pageNo,i=e.queryParam,s=i.roleId,c=i.name,u={page:o,limit:a,roleId:s,name:c};e.queryParam.pageData=u.page;var p=new d["a"];return p.setOrderBy(r,n),u.query=p.exportData(),N&&(e.queryParam.pageData=M.pageData,u.page=M.pageData,o=M.pageData),j(u).then((function(e){var t=e.data.list,r=t.map((function(e){var t=new l["h"];return t.setAttributes(e).renderData()}));return N=!1,Object(v["a"])(),{pageNo:o,pageSize:a,data:r,totalCount:0}}))},confirm:{form:null,temp:{},visible:!1,status:"",textMap:{update:"编辑员工",create:"添加员工"},labelCol:{span:7},wrapperCol:{span:12},mpSendMsg:0},roleList:[],departmentList:[],departmentTree:[],departmentType:[],codeType:!1,codeUrl:"",mpSendMsgState:!1,mpSendMsgId:"",slider:"",plainOption:[]}},created:function(){N=!0,M=Object(v["s"])(),this.getRolesList()},methods:{getShopPage:function(){var e=this;Object(p["d"])().then((function(t){e.shopList=t.data.list}))},setDetail:function(e){this.detail=Object.assign(this.detail,e)},handleEditAccount:function(e){var t=this;this.setDetail({id:e.id,form:this.$form.createForm(this),visible:!0,title:"[ ".concat(e.name," ] 账号信息修改")}),new Promise((function(e){setTimeout(e,0)})).then((function(){t.detail.form.setFieldsValue(c()(e,["account","password"]))}))},handleConfirmDetail:function(){var e=this,t=this.detail,a=t.form.validateFields,r=t.id,n=this.$refs.table,o=this.$notification.success;a((function(t,a){t||I({password:h()(a.password),id:r}).then((function(t){o({message:"成功",description:"编辑成功"}),n.refresh(!0),e.detail.visible=!1}))}))},handleImageZoom:function(e){return Object(v["j"])(e,{w:32,h:32})},changeStatus:function(e){var t=e.status;e.status=1===e.status?0:1;var a=e.id,r=e.status,n=this.$message.success;k({id:a,status:r}).then((function(e){n("修改成功"),setTimeout((function(){}),1e3)})).catch((function(){e.status=t}))},changeMpSendMsg:function(e){var t=e.mpSendMsg;e.mpSendMsg=1===e.mpSendMsg?0:1;var a=e.id,r=e.mpSendMsg,n=this.$message.success;k({id:a,mpSendMsg:r}).then((function(e){n("修改成功"),setTimeout((function(){}),1e3)})).catch((function(){e.mpSendMsg=t}))},departmentIds:function(e){var t=this.departmentList,a=[];return a=e.map((function(e){var a=Object(v["b"])(t,["id",e]),r=a.id,n=a.title;return{id:r,title:n}})),a},getRowRole:function(e){var t=this,a=[];return e.roleList.forEach((function(e){a.push(Object(v["b"])(t.roleList,["id",e]))})),a},getRolesList:function(){var e=this;Object(y["i"])().then((function(t){var a=t.data.map((function(e){return e.name=e.title,e.value=e.id,e.key=e.id,e}));e.roleList=Object(i["a"])(a)}))},handleChange:function(e){var t=this.confirm,a=t.form,r=t.userList,n=r[Object(f["findIndex"])(r,["id",e])];this.confirm.userSnap=Object(o["a"])({},n),a.setFieldsValue({telephone:n.telephone})},handleAddEmployee:function(){this.getShopPage(),this.confirm.status="create",this.confirm.form=this.$form.createForm(this),this.confirm.visible=!0},createData:function(){var e=this;N=!0,Object(v["r"])(Object(o["a"])({},this.queryParam));var t=this.confirm.form.validateFields,a=this.$refs.table,r=this.$notification.success;t((function(t,n){if(!t){n.password=h()(n.password);var i=Object(o["a"])({},n);M=Object(v["s"])(),S(i).then((function(t){r({message:"成功",description:"添加成功"}),a.refresh(!0),e.confirm.visible=!1}))}}))},handleEditEmployee:function(e){this.getShopPage(),this.confirm.temp=e,this.confirm.status="update",this.confirm.form=this.$form.createForm(this);var t=this.confirm.form,a=["shopId","roleList","name","telephone","employeeNumber","sex"];new Promise((function(e){setTimeout(e,0)})).then((function(){t.setFieldsValue(c()(e,a))})),this.confirm.visible=!0},handleCode:function(e){var t=this,a={id:e.id};w(a).then((function(e){t.codeType=!0,t.codeUrl=e.data}))},handleOk:function(){this.codeType=!1},updateData:function(){var e=this;N=!0,Object(v["r"])(Object(o["a"])({},this.queryParam));var t=this.confirm,a=t.form.validateFields,r=t.temp.id,n=this.$refs.table,i=this.$notification.success;a((function(t,a){if(!t){var s=Object(o["a"])(Object(o["a"])({},a),{},{id:r});M=Object(v["s"])(),k(s).then((function(t){i({message:"成功",description:"编辑成功"}),n.refresh(!0),e.confirm.visible=!1}))}}))},handleDelete:function(e){N=!0,Object(v["r"])(Object(o["a"])({},this.queryParam));var t=this.$refs.table,a=this.$notification.success;this.$confirm({title:"警告",content:"是否删除 [ ".concat(e.name," ] 员工吗?"),onOk:function(){M=Object(v["s"])(),C(e.id).then((function(e){a({message:"成功",description:"删除成功"}),t.refresh(!0)}))}})},cleanShop:function(e){N=!0,Object(v["r"])(Object(o["a"])({},this.queryParam));var t=this.$refs.table,a=this.$notification.success,r={id:e.id};this.$confirm({title:"警告",content:"解绑后，在".concat(this.$fy.adminName,"云管家无法使用微信登录,是否解绑 [ ").concat(e.name," ] 员工吗?"),onOk:function(){M=Object(v["s"])(),_(r).then((function(e){a({message:"成功",description:"解绑成功"}),t.refresh(!0)}))}})},handleMpSendMsg:function(e){var t=this,a={id:e.id};this.mpSendMsgId=e.id,x(a).then((function(e){t.mpSendMsgState=!0;var a=e.data,r=a.map((function(e){return e.msgType}));t.plainOption=r}))},onCheckboxChange:function(e){this.slider=e},mpSendMsg:function(){var e=this,t={id:this.mpSendMsgId,msgType:this.slider};T(t).then((function(t){e.mpSendMsgState=!1}))}}},A=E,D=a("2877"),q=Object(D["a"])(A,r,n,!1,null,"ee37abe8",null);t["default"]=q.exports},"9a634":function(e,t){var a={utf8:{stringToBytes:function(e){return a.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(a.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],a=0;a<e.length;a++)t.push(255&e.charCodeAt(a));return t},bytesToString:function(e){for(var t=[],a=0;a<e.length;a++)t.push(String.fromCharCode(e[a]));return t.join("")}}};e.exports=a},eb0f:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n}));var r=/^1(3|4|5|7|8|9)\d{9}$/,n=/^([\w\d\.\_\-]+)@([\w\d]+\.[a-z]{2,3})+$/}}]);